(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function f0(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const gt={},Au=[],ai=()=>{},wB=()=>!1,bB=/^on[^a-z]/,Iv=e=>bB.test(e),h0=e=>e.startsWith("onUpdate:"),Ut=Object.assign,d0=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},EB=Object.prototype.hasOwnProperty,Ke=(e,t)=>EB.call(e,t),ge=Array.isArray,ku=e=>Xf(e)==="[object Map]",yc=e=>Xf(e)==="[object Set]",uk=e=>Xf(e)==="[object Date]",ke=e=>typeof e=="function",jt=e=>typeof e=="string",lf=e=>typeof e=="symbol",at=e=>e!==null&&typeof e=="object",kx=e=>at(e)&&ke(e.then)&&ke(e.catch),Rx=Object.prototype.toString,Xf=e=>Rx.call(e),TB=e=>Xf(e).slice(8,-1),Nx=e=>Xf(e)==="[object Object]",p0=e=>jt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ip=f0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sv=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},IB=/-(\w)/g,Mi=Sv(e=>e.replace(IB,(t,n)=>n?n.toUpperCase():"")),SB=/\B([A-Z])/g,Ca=Sv(e=>e.replace(SB,"-$1").toLowerCase()),Cv=Sv(e=>e.charAt(0).toUpperCase()+e.slice(1)),R_=Sv(e=>e?`on${Cv(e)}`:""),ff=(e,t)=>!Object.is(e,t),op=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},_p=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},wp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},CB=e=>{const t=jt(e)?Number(e):NaN;return isNaN(t)?e:t};let ck;const Aw=()=>ck||(ck=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function v0(e){if(ge(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=jt(r)?NB(r):v0(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if(jt(e))return e;if(at(e))return e}}const AB=/;(?![^(]*\))/g,kB=/:([^]+)/,RB=/\/\*[^]*?\*\//g;function NB(e){const t={};return e.replace(RB,"").split(AB).forEach(n=>{if(n){const r=n.split(kB);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function hf(e){let t="";if(jt(e))t=e;else if(ge(e))for(let n=0;n<e.length;n++){const r=hf(e[n]);r&&(t+=r+" ")}else if(at(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const xB="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",OB=f0(xB);function xx(e){return!!e||e===""}function PB(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ca(e[r],t[r]);return n}function ca(e,t){if(e===t)return!0;let n=uk(e),r=uk(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=lf(e),r=lf(t),n||r)return e===t;if(n=ge(e),r=ge(t),n||r)return n&&r?PB(e,t):!1;if(n=at(e),r=at(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const a in e){const c=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(c&&!l||!c&&l||!ca(e[a],t[a]))return!1}}return String(e)===String(t)}function g0(e,t){return e.findIndex(n=>ca(n,t))}const bp=e=>jt(e)?e:e==null?"":ge(e)||at(e)&&(e.toString===Rx||!ke(e.toString))?JSON.stringify(e,Ox,2):String(e),Ox=(e,t)=>t&&t.__v_isRef?Ox(e,t.value):ku(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:yc(t)?{[`Set(${t.size})`]:[...t.values()]}:at(t)&&!ge(t)&&!Nx(t)?String(t):t;let yr;class Px{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=yr,!t&&yr&&(this.index=(yr.scopes||(yr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=yr;try{return yr=this,t()}finally{yr=n}}}on(){yr=this}off(){yr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function DB(e){return new Px(e)}function MB(e,t=yr){t&&t.active&&t.effects.push(e)}function Dx(){return yr}function LB(e){yr&&yr.cleanups.push(e)}const m0=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Mx=e=>(e.w&es)>0,Lx=e=>(e.n&es)>0,FB=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=es},UB=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];Mx(i)&&!Lx(i)?i.delete(e):t[n++]=i,i.w&=~es,i.n&=~es}t.length=n}},Ep=new WeakMap;let Ul=0,es=1;const kw=30;let ii;const ta=Symbol(""),Rw=Symbol("");class y0{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,MB(this,r)}run(){if(!this.active)return this.fn();let t=ii,n=Wo;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=ii,ii=this,Wo=!0,es=1<<++Ul,Ul<=kw?FB(this):lk(this),this.fn()}finally{Ul<=kw&&UB(this),es=1<<--Ul,ii=this.parent,Wo=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ii===this?this.deferStop=!0:this.active&&(lk(this),this.onStop&&this.onStop(),this.active=!1)}}function lk(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Wo=!0;const Fx=[];function _c(){Fx.push(Wo),Wo=!1}function wc(){const e=Fx.pop();Wo=e===void 0?!0:e}function fr(e,t,n){if(Wo&&ii){let r=Ep.get(e);r||Ep.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=m0()),Ux(i)}}function Ux(e,t){let n=!1;Ul<=kw?Lx(e)||(e.n|=es,n=!Mx(e)):n=!e.has(ii),n&&(e.add(ii),ii.deps.push(e))}function ao(e,t,n,r,i,s){const a=Ep.get(e);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(n==="length"&&ge(e)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),t){case"add":ge(e)?p0(n)&&c.push(a.get("length")):(c.push(a.get(ta)),ku(e)&&c.push(a.get(Rw)));break;case"delete":ge(e)||(c.push(a.get(ta)),ku(e)&&c.push(a.get(Rw)));break;case"set":ku(e)&&c.push(a.get(ta));break}if(c.length===1)c[0]&&Nw(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);Nw(m0(l))}}function Nw(e,t){const n=ge(e)?e:[...e];for(const r of n)r.computed&&fk(r);for(const r of n)r.computed||fk(r)}function fk(e,t){(e!==ii||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function jB(e,t){var n;return(n=Ep.get(e))==null?void 0:n.get(t)}const VB=f0("__proto__,__v_isRef,__isVue"),jx=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(lf)),BB=_0(),qB=_0(!1,!0),$B=_0(!0),hk=HB();function HB(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=We(this);for(let s=0,a=this.length;s<a;s++)fr(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(We)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){_c();const r=We(this)[t].apply(this,n);return wc(),r}}),e}function KB(e){const t=We(this);return fr(t,"has",e),t.hasOwnProperty(e)}function _0(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?a3:Hx:t?$x:qx).get(r))return r;const a=ge(r);if(!e){if(a&&Ke(hk,i))return Reflect.get(hk,i,s);if(i==="hasOwnProperty")return KB}const c=Reflect.get(r,i,s);return(lf(i)?jx.has(i):VB(i))||(e||fr(r,"get",i),t)?c:Wt(c)?a&&p0(i)?c:c.value:at(c)?e?kv(c):bc(c):c}}const WB=Vx(),GB=Vx(!0);function Vx(e=!1){return function(n,r,i,s){let a=n[r];if(ju(a)&&Wt(a)&&!Wt(i))return!1;if(!e&&(!Tp(i)&&!ju(i)&&(a=We(a),i=We(i)),!ge(n)&&Wt(a)&&!Wt(i)))return a.value=i,!0;const c=ge(n)&&p0(r)?Number(r)<n.length:Ke(n,r),l=Reflect.set(n,r,i,s);return n===We(s)&&(c?ff(i,a)&&ao(n,"set",r,i):ao(n,"add",r,i)),l}}function zB(e,t){const n=Ke(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ao(e,"delete",t,void 0),r}function QB(e,t){const n=Reflect.has(e,t);return(!lf(t)||!jx.has(t))&&fr(e,"has",t),n}function YB(e){return fr(e,"iterate",ge(e)?"length":ta),Reflect.ownKeys(e)}const Bx={get:BB,set:WB,deleteProperty:zB,has:QB,ownKeys:YB},XB={get:$B,set(e,t){return!0},deleteProperty(e,t){return!0}},JB=Ut({},Bx,{get:qB,set:GB}),w0=e=>e,Av=e=>Reflect.getPrototypeOf(e);function xd(e,t,n=!1,r=!1){e=e.__v_raw;const i=We(e),s=We(t);n||(t!==s&&fr(i,"get",t),fr(i,"get",s));const{has:a}=Av(i),c=r?w0:n?T0:df;if(a.call(i,t))return c(e.get(t));if(a.call(i,s))return c(e.get(s));e!==i&&e.get(t)}function Od(e,t=!1){const n=this.__v_raw,r=We(n),i=We(e);return t||(e!==i&&fr(r,"has",e),fr(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Pd(e,t=!1){return e=e.__v_raw,!t&&fr(We(e),"iterate",ta),Reflect.get(e,"size",e)}function dk(e){e=We(e);const t=We(this);return Av(t).has.call(t,e)||(t.add(e),ao(t,"add",e,e)),this}function pk(e,t){t=We(t);const n=We(this),{has:r,get:i}=Av(n);let s=r.call(n,e);s||(e=We(e),s=r.call(n,e));const a=i.call(n,e);return n.set(e,t),s?ff(t,a)&&ao(n,"set",e,t):ao(n,"add",e,t),this}function vk(e){const t=We(this),{has:n,get:r}=Av(t);let i=n.call(t,e);i||(e=We(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&ao(t,"delete",e,void 0),s}function gk(){const e=We(this),t=e.size!==0,n=e.clear();return t&&ao(e,"clear",void 0,void 0),n}function Dd(e,t){return function(r,i){const s=this,a=s.__v_raw,c=We(a),l=t?w0:e?T0:df;return!e&&fr(c,"iterate",ta),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function Md(e,t,n){return function(...r){const i=this.__v_raw,s=We(i),a=ku(s),c=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,h=i[e](...r),d=n?w0:t?T0:df;return!t&&fr(s,"iterate",l?Rw:ta),{next(){const{value:v,done:g}=h.next();return g?{value:v,done:g}:{value:c?[d(v[0]),d(v[1])]:d(v),done:g}},[Symbol.iterator](){return this}}}}function Ro(e){return function(...t){return e==="delete"?!1:this}}function ZB(){const e={get(s){return xd(this,s)},get size(){return Pd(this)},has:Od,add:dk,set:pk,delete:vk,clear:gk,forEach:Dd(!1,!1)},t={get(s){return xd(this,s,!1,!0)},get size(){return Pd(this)},has:Od,add:dk,set:pk,delete:vk,clear:gk,forEach:Dd(!1,!0)},n={get(s){return xd(this,s,!0)},get size(){return Pd(this,!0)},has(s){return Od.call(this,s,!0)},add:Ro("add"),set:Ro("set"),delete:Ro("delete"),clear:Ro("clear"),forEach:Dd(!0,!1)},r={get(s){return xd(this,s,!0,!0)},get size(){return Pd(this,!0)},has(s){return Od.call(this,s,!0)},add:Ro("add"),set:Ro("set"),delete:Ro("delete"),clear:Ro("clear"),forEach:Dd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Md(s,!1,!1),n[s]=Md(s,!0,!1),t[s]=Md(s,!1,!0),r[s]=Md(s,!0,!0)}),[e,n,t,r]}const[e3,t3,n3,r3]=ZB();function b0(e,t){const n=t?e?r3:n3:e?t3:e3;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Ke(n,i)&&i in r?n:r,i,s)}const i3={get:b0(!1,!1)},o3={get:b0(!1,!0)},s3={get:b0(!0,!1)},qx=new WeakMap,$x=new WeakMap,Hx=new WeakMap,a3=new WeakMap;function u3(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function c3(e){return e.__v_skip||!Object.isExtensible(e)?0:u3(TB(e))}function bc(e){return ju(e)?e:E0(e,!1,Bx,i3,qx)}function l3(e){return E0(e,!1,JB,o3,$x)}function kv(e){return E0(e,!0,XB,s3,Hx)}function E0(e,t,n,r,i){if(!at(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=c3(e);if(a===0)return e;const c=new Proxy(e,a===2?r:n);return i.set(e,c),c}function Ru(e){return ju(e)?Ru(e.__v_raw):!!(e&&e.__v_isReactive)}function ju(e){return!!(e&&e.__v_isReadonly)}function Tp(e){return!!(e&&e.__v_isShallow)}function Kx(e){return Ru(e)||ju(e)}function We(e){const t=e&&e.__v_raw;return t?We(t):e}function Wx(e){return _p(e,"__v_skip",!0),e}const df=e=>at(e)?bc(e):e,T0=e=>at(e)?kv(e):e;function I0(e){Wo&&ii&&(e=We(e),Ux(e.dep||(e.dep=m0())))}function S0(e,t){e=We(e);const n=e.dep;n&&Nw(n)}function Wt(e){return!!(e&&e.__v_isRef===!0)}function Fe(e){return zx(e,!1)}function Gx(e){return zx(e,!0)}function zx(e,t){return Wt(e)?e:new f3(e,t)}class f3{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:We(t),this._value=n?t:df(t)}get value(){return I0(this),this._value}set value(t){const n=this.__v_isShallow||Tp(t)||ju(t);t=n?t:We(t),ff(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:df(t),S0(this))}}function Nu(e){return Wt(e)?e.value:e}const h3={get:(e,t,n)=>Nu(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Wt(i)&&!Wt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Qx(e){return Ru(e)?e:new Proxy(e,h3)}class d3{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>I0(this),()=>S0(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function p3(e){return new d3(e)}class v3{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return jB(We(this._object),this._key)}}class g3{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function m3(e,t,n){return Wt(e)?e:ke(e)?new g3(e):at(e)&&arguments.length>1?y3(e,t,n):Fe(e)}function y3(e,t,n){const r=e[t];return Wt(r)?r:new v3(e,t,n)}class _3{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new y0(t,()=>{this._dirty||(this._dirty=!0,S0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=We(this);return I0(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function w3(e,t,n=!1){let r,i;const s=ke(e);return s?(r=e,i=ai):(r=e.get,i=e.set),new _3(r,i,s||!i,n)}function Go(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){Rv(s,t,n)}return i}function Vr(e,t,n,r){if(ke(e)){const s=Go(e,t,n,r);return s&&kx(s)&&s.catch(a=>{Rv(a,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(Vr(e[s],t,n,r));return i}function Rv(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,c=n;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,a,c)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Go(l,null,10,[e,a,c]);return}}b3(e,n,i,r)}function b3(e,t,n,r=!0){console.error(e)}let pf=!1,xw=!1;const Cn=[];let Ai=0;const xu=[];let Xi=null,qs=0;const Yx=Promise.resolve();let C0=null;function ui(e){const t=C0||Yx;return e?t.then(this?e.bind(this):e):t}function E3(e){let t=Ai+1,n=Cn.length;for(;t<n;){const r=t+n>>>1;vf(Cn[r])<e?t=r+1:n=r}return t}function A0(e){(!Cn.length||!Cn.includes(e,pf&&e.allowRecurse?Ai+1:Ai))&&(e.id==null?Cn.push(e):Cn.splice(E3(e.id),0,e),Xx())}function Xx(){!pf&&!xw&&(xw=!0,C0=Yx.then(Zx))}function T3(e){const t=Cn.indexOf(e);t>Ai&&Cn.splice(t,1)}function I3(e){ge(e)?xu.push(...e):(!Xi||!Xi.includes(e,e.allowRecurse?qs+1:qs))&&xu.push(e),Xx()}function mk(e,t=pf?Ai+1:0){for(;t<Cn.length;t++){const n=Cn[t];n&&n.pre&&(Cn.splice(t,1),t--,n())}}function Jx(e){if(xu.length){const t=[...new Set(xu)];if(xu.length=0,Xi){Xi.push(...t);return}for(Xi=t,Xi.sort((n,r)=>vf(n)-vf(r)),qs=0;qs<Xi.length;qs++)Xi[qs]();Xi=null,qs=0}}const vf=e=>e.id==null?1/0:e.id,S3=(e,t)=>{const n=vf(e)-vf(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Zx(e){xw=!1,pf=!0,Cn.sort(S3);const t=ai;try{for(Ai=0;Ai<Cn.length;Ai++){const n=Cn[Ai];n&&n.active!==!1&&Go(n,null,14)}}finally{Ai=0,Cn.length=0,Jx(),pf=!1,C0=null,(Cn.length||xu.length)&&Zx()}}function C3(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||gt;let i=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:g}=r[d]||gt;g&&(i=n.map(y=>jt(y)?y.trim():y)),v&&(i=n.map(wp))}let c,l=r[c=R_(t)]||r[c=R_(Mi(t))];!l&&s&&(l=r[c=R_(Ca(t))]),l&&Vr(l,e,6,i);const h=r[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Vr(h,e,6,i)}}function eO(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let a={},c=!1;if(!ke(e)){const l=h=>{const d=eO(h,t,!0);d&&(c=!0,Ut(a,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!c?(at(e)&&r.set(e,null),null):(ge(s)?s.forEach(l=>a[l]=null):Ut(a,s),at(e)&&r.set(e,a),a)}function Nv(e,t){return!e||!Iv(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ke(e,t[0].toLowerCase()+t.slice(1))||Ke(e,Ca(t))||Ke(e,t))}let vn=null,xv=null;function Ip(e){const t=vn;return vn=e,xv=e&&e.type.__scopeId||null,t}function tO(e){xv=e}function nO(){xv=null}function Er(e,t=vn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Rk(-1);const s=Ip(t);let a;try{a=e(...i)}finally{Ip(s),r._d&&Rk(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function N_(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:h,render:d,renderCache:v,data:g,setupState:y,ctx:_,inheritAttrs:b}=e;let T,C;const x=Ip(e);try{if(n.shapeFlag&4){const L=i||r;T=Ci(d.call(L,L,v,s,y,g,_)),C=l}else{const L=t;T=Ci(L.length>1?L(s,{attrs:l,slots:c,emit:h}):L(s,null)),C=t.props?l:A3(l)}}catch(L){Kl.length=0,Rv(L,e,1),T=Je(Br)}let O=T;if(C&&b!==!1){const L=Object.keys(C),{shapeFlag:$}=O;L.length&&$&7&&(a&&L.some(h0)&&(C=k3(C,a)),O=uo(O,C))}return n.dirs&&(O=uo(O),O.dirs=O.dirs?O.dirs.concat(n.dirs):n.dirs),n.transition&&(O.transition=n.transition),T=O,Ip(x),T}const A3=e=>{let t;for(const n in e)(n==="class"||n==="style"||Iv(n))&&((t||(t={}))[n]=e[n]);return t},k3=(e,t)=>{const n={};for(const r in e)(!h0(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function R3(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:c,patchFlag:l}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?yk(r,a,h):!!a;if(l&8){const d=t.dynamicProps;for(let v=0;v<d.length;v++){const g=d[v];if(a[g]!==r[g]&&!Nv(h,g))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?yk(r,a,h):!0:!!a;return!1}function yk(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Nv(n,s))return!0}return!1}function N3({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const x3=e=>e.__isSuspense;function O3(e,t){t&&t.pendingBranch?ge(e)?t.effects.push(...e):t.effects.push(e):I3(e)}function Ec(e,t){return k0(e,null,t)}const Ld={};function Ri(e,t,n){return k0(e,t,n)}function k0(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=gt){var c;const l=Dx()===((c=nn)==null?void 0:c.scope)?nn:null;let h,d=!1,v=!1;if(Wt(e)?(h=()=>e.value,d=Tp(e)):Ru(e)?(h=()=>e,r=!0):ge(e)?(v=!0,d=e.some(L=>Ru(L)||Tp(L)),h=()=>e.map(L=>{if(Wt(L))return L.value;if(Ru(L))return Gs(L);if(ke(L))return Go(L,l,2)})):ke(e)?t?h=()=>Go(e,l,2):h=()=>{if(!(l&&l.isUnmounted))return g&&g(),Vr(e,l,3,[y])}:h=ai,t&&r){const L=h;h=()=>Gs(L())}let g,y=L=>{g=x.onStop=()=>{Go(L,l,4)}},_;if(mf)if(y=ai,t?n&&Vr(t,l,3,[h(),v?[]:void 0,y]):h(),i==="sync"){const L=kq();_=L.__watcherHandles||(L.__watcherHandles=[])}else return ai;let b=v?new Array(e.length).fill(Ld):Ld;const T=()=>{if(x.active)if(t){const L=x.run();(r||d||(v?L.some(($,P)=>ff($,b[P])):ff(L,b)))&&(g&&g(),Vr(t,l,3,[L,b===Ld?void 0:v&&b[0]===Ld?[]:b,y]),b=L)}else x.run()};T.allowRecurse=!!t;let C;i==="sync"?C=T:i==="post"?C=()=>rr(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),C=()=>A0(T));const x=new y0(h,C);t?n?T():b=x.run():i==="post"?rr(x.run.bind(x),l&&l.suspense):x.run();const O=()=>{x.stop(),l&&l.scope&&d0(l.scope.effects,x)};return _&&_.push(O),O}function P3(e,t,n){const r=this.proxy,i=jt(e)?e.includes(".")?rO(r,e):()=>r[e]:e.bind(r,r);let s;ke(t)?s=t:(s=t.handler,n=t);const a=nn;Vu(this);const c=k0(i,s.bind(r),n);return a?Vu(a):na(),c}function rO(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Gs(e,t){if(!at(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Wt(e))Gs(e.value,t);else if(ge(e))for(let n=0;n<e.length;n++)Gs(e[n],t);else if(yc(e)||ku(e))e.forEach(n=>{Gs(n,t)});else if(Nx(e))for(const n in e)Gs(e[n],t);return e}function Ow(e,t){const n=vn;if(n===null)return e;const r=Uv(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,c,l,h=gt]=t[s];a&&(ke(a)&&(a={mounted:a,updated:a}),a.deep&&Gs(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return e}function Ds(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(_c(),Vr(l,n,8,[e.el,c,e,t]),wc())}}function D3(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Aa(()=>{e.isMounted=!0}),R0(()=>{e.isUnmounting=!0}),e}const Dr=[Function,Array],iO={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dr,onEnter:Dr,onAfterEnter:Dr,onEnterCancelled:Dr,onBeforeLeave:Dr,onLeave:Dr,onAfterLeave:Dr,onLeaveCancelled:Dr,onBeforeAppear:Dr,onAppear:Dr,onAfterAppear:Dr,onAppearCancelled:Dr},M3={name:"BaseTransition",props:iO,setup(e,{slots:t}){const n=D0(),r=D3();let i;return()=>{const s=t.default&&sO(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const b of s)if(b.type!==Br){a=b;break}}const c=We(e),{mode:l}=c;if(r.isLeaving)return x_(a);const h=_k(a);if(!h)return x_(a);const d=Pw(h,c,r,n);Dw(h,d);const v=n.subTree,g=v&&_k(v);let y=!1;const{getTransitionKey:_}=h.type;if(_){const b=_();i===void 0?i=b:b!==i&&(i=b,y=!0)}if(g&&g.type!==Br&&(!$s(h,g)||y)){const b=Pw(g,c,r,n);if(Dw(g,b),l==="out-in")return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},x_(a);l==="in-out"&&h.type!==Br&&(b.delayLeave=(T,C,x)=>{const O=oO(r,g);O[String(g.key)]=g,T._leaveCb=()=>{C(),T._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=x})}return a}}},L3=M3;function oO(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Pw(e,t,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:v,onLeave:g,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:b,onAppear:T,onAfterAppear:C,onAppearCancelled:x}=t,O=String(e.key),L=oO(n,e),$=(F,se)=>{F&&Vr(F,r,9,se)},P=(F,se)=>{const k=se[1];$(F,se),ge(F)?F.every(dt=>dt.length<=1)&&k():F.length<=1&&k()},ie={mode:s,persisted:a,beforeEnter(F){let se=c;if(!n.isMounted)if(i)se=b||c;else return;F._leaveCb&&F._leaveCb(!0);const k=L[O];k&&$s(e,k)&&k.el._leaveCb&&k.el._leaveCb(),$(se,[F])},enter(F){let se=l,k=h,dt=d;if(!n.isMounted)if(i)se=T||l,k=C||h,dt=x||d;else return;let ue=!1;const ut=F._enterCb=Rt=>{ue||(ue=!0,Rt?$(dt,[F]):$(k,[F]),ie.delayedLeave&&ie.delayedLeave(),F._enterCb=void 0)};se?P(se,[F,ut]):ut()},leave(F,se){const k=String(e.key);if(F._enterCb&&F._enterCb(!0),n.isUnmounting)return se();$(v,[F]);let dt=!1;const ue=F._leaveCb=ut=>{dt||(dt=!0,se(),ut?$(_,[F]):$(y,[F]),F._leaveCb=void 0,L[k]===e&&delete L[k])};L[k]=e,g?P(g,[F,ue]):ue()},clone(F){return Pw(F,t,n,r)}};return ie}function x_(e){if(Ov(e))return e=uo(e),e.children=null,e}function _k(e){return Ov(e)?e.children?e.children[0]:void 0:e}function Dw(e,t){e.shapeFlag&6&&e.component?Dw(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sO(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const c=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Zt?(a.patchFlag&128&&i++,r=r.concat(sO(a.children,t,c))):(t||a.type!==Br)&&r.push(c!=null?uo(a,{key:c}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function po(e,t){return ke(e)?(()=>Ut({name:e.name},t,{setup:e}))():e}const $l=e=>!!e.type.__asyncLoader,Ov=e=>e.type.__isKeepAlive;function F3(e,t){aO(e,"a",t)}function U3(e,t){aO(e,"da",t)}function aO(e,t,n=nn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Pv(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Ov(i.parent.vnode)&&j3(r,t,n,i),i=i.parent}}function j3(e,t,n,r){const i=Pv(t,e,r,!0);Dv(()=>{d0(r[t],i)},n)}function Pv(e,t,n=nn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;_c(),Vu(n);const c=Vr(t,n,e,a);return na(),wc(),c});return r?i.unshift(s):i.push(s),s}}const vo=e=>(t,n=nn)=>(!mf||e==="sp")&&Pv(e,(...r)=>t(...r),n),V3=vo("bm"),Aa=vo("m"),B3=vo("bu"),q3=vo("u"),R0=vo("bum"),Dv=vo("um"),$3=vo("sp"),H3=vo("rtg"),K3=vo("rtc");function W3(e,t=nn){Pv("ec",e,t)}const uO="components";function $n(e,t){return z3(uO,e,!0,t)||e}const G3=Symbol.for("v-ndc");function z3(e,t,n=!0,r=!1){const i=vn||nn;if(i){const s=i.type;if(e===uO){const c=Sq(s,!1);if(c&&(c===t||c===Mi(t)||c===Cv(Mi(t))))return s}const a=wk(i[e]||s[e],t)||wk(i.appContext[e],t);return!a&&r?s:a}}function wk(e,t){return e&&(e[t]||e[Mi(t)]||e[Cv(Mi(t))])}function Q3(e,t,n,r){let i;const s=n&&n[r];if(ge(e)||jt(e)){i=new Array(e.length);for(let a=0,c=e.length;a<c;a++)i[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(at(e))if(e[Symbol.iterator])i=Array.from(e,(a,c)=>t(a,c,void 0,s&&s[c]));else{const a=Object.keys(e);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=t(e[h],h,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}function Mv(e,t,n={},r,i){if(vn.isCE||vn.parent&&$l(vn.parent)&&vn.parent.isCE)return t!=="default"&&(n.name=t),Je("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),pn();const a=s&&cO(s(n)),c=O0(Zt,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function cO(e){return e.some(t=>Ap(t)?!(t.type===Br||t.type===Zt&&!cO(t.children)):!0)?e:null}const Mw=e=>e?wO(e)?Uv(e)||e.proxy:Mw(e.parent):null,Hl=Ut(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Mw(e.parent),$root:e=>Mw(e.root),$emit:e=>e.emit,$options:e=>N0(e),$forceUpdate:e=>e.f||(e.f=()=>A0(e.update)),$nextTick:e=>e.n||(e.n=ui.bind(e.proxy)),$watch:e=>P3.bind(e)}),O_=(e,t)=>e!==gt&&!e.__isScriptSetup&&Ke(e,t),Y3={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=e;let h;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(O_(r,t))return a[t]=1,r[t];if(i!==gt&&Ke(i,t))return a[t]=2,i[t];if((h=e.propsOptions[0])&&Ke(h,t))return a[t]=3,s[t];if(n!==gt&&Ke(n,t))return a[t]=4,n[t];Lw&&(a[t]=0)}}const d=Hl[t];let v,g;if(d)return t==="$attrs"&&fr(e,"get",t),d(e);if((v=c.__cssModules)&&(v=v[t]))return v;if(n!==gt&&Ke(n,t))return a[t]=4,n[t];if(g=l.config.globalProperties,Ke(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return O_(i,t)?(i[t]=n,!0):r!==gt&&Ke(r,t)?(r[t]=n,!0):Ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||e!==gt&&Ke(e,a)||O_(t,a)||(c=s[0])&&Ke(c,a)||Ke(r,a)||Ke(Hl,a)||Ke(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ke(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function bk(e){return ge(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Lw=!0;function X3(e){const t=N0(e),n=e.proxy,r=e.ctx;Lw=!1,t.beforeCreate&&Ek(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:g,beforeUpdate:y,updated:_,activated:b,deactivated:T,beforeDestroy:C,beforeUnmount:x,destroyed:O,unmounted:L,render:$,renderTracked:P,renderTriggered:ie,errorCaptured:F,serverPrefetch:se,expose:k,inheritAttrs:dt,components:ue,directives:ut,filters:Rt}=t;if(h&&J3(h,r,null),a)for(const nt in a){const Ce=a[nt];ke(Ce)&&(r[nt]=Ce.bind(n))}if(i){const nt=i.call(n,n);at(nt)&&(e.data=bc(nt))}if(Lw=!0,s)for(const nt in s){const Ce=s[nt],Dn=ke(Ce)?Ce.bind(n,n):ke(Ce.get)?Ce.get.bind(n,n):ai,Xn=!ke(Ce)&&ke(Ce.set)?Ce.set.bind(n):ai,Mn=Ze({get:Dn,set:Xn});Object.defineProperty(r,nt,{enumerable:!0,configurable:!0,get:()=>Mn.value,set:un=>Mn.value=un})}if(c)for(const nt in c)lO(c[nt],r,n,nt);if(l){const nt=ke(l)?l.call(n):l;Reflect.ownKeys(nt).forEach(Ce=>{Ou(Ce,nt[Ce])})}d&&Ek(d,e,"c");function tt(nt,Ce){ge(Ce)?Ce.forEach(Dn=>nt(Dn.bind(n))):Ce&&nt(Ce.bind(n))}if(tt(V3,v),tt(Aa,g),tt(B3,y),tt(q3,_),tt(F3,b),tt(U3,T),tt(W3,F),tt(K3,P),tt(H3,ie),tt(R0,x),tt(Dv,L),tt($3,se),ge(k))if(k.length){const nt=e.exposed||(e.exposed={});k.forEach(Ce=>{Object.defineProperty(nt,Ce,{get:()=>n[Ce],set:Dn=>n[Ce]=Dn})})}else e.exposed||(e.exposed={});$&&e.render===ai&&(e.render=$),dt!=null&&(e.inheritAttrs=dt),ue&&(e.components=ue),ut&&(e.directives=ut)}function J3(e,t,n=ai){ge(e)&&(e=Fw(e));for(const r in e){const i=e[r];let s;at(i)?"default"in i?s=sr(i.from||r,i.default,!0):s=sr(i.from||r):s=sr(i),Wt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function Ek(e,t,n){Vr(ge(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function lO(e,t,n,r){const i=r.includes(".")?rO(n,r):()=>n[r];if(jt(e)){const s=t[e];ke(s)&&Ri(i,s)}else if(ke(e))Ri(i,e.bind(n));else if(at(e))if(ge(e))e.forEach(s=>lO(s,t,n,r));else{const s=ke(e.handler)?e.handler.bind(n):t[e.handler];ke(s)&&Ri(i,s,e)}}function N0(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let l;return c?l=c:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(h=>Sp(l,h,a,!0)),Sp(l,t,a)),at(t)&&s.set(t,l),l}function Sp(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Sp(e,s,n,!0),i&&i.forEach(a=>Sp(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const c=Z3[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const Z3={data:Tk,props:Ik,emits:Ik,methods:jl,computed:jl,beforeCreate:Vn,created:Vn,beforeMount:Vn,mounted:Vn,beforeUpdate:Vn,updated:Vn,beforeDestroy:Vn,beforeUnmount:Vn,destroyed:Vn,unmounted:Vn,activated:Vn,deactivated:Vn,errorCaptured:Vn,serverPrefetch:Vn,components:jl,directives:jl,watch:tq,provide:Tk,inject:eq};function Tk(e,t){return t?e?function(){return Ut(ke(e)?e.call(this,this):e,ke(t)?t.call(this,this):t)}:t:e}function eq(e,t){return jl(Fw(e),Fw(t))}function Fw(e){if(ge(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Vn(e,t){return e?[...new Set([].concat(e,t))]:t}function jl(e,t){return e?Ut(Object.create(null),e,t):t}function Ik(e,t){return e?ge(e)&&ge(t)?[...new Set([...e,...t])]:Ut(Object.create(null),bk(e),bk(t??{})):t}function tq(e,t){if(!e)return t;if(!t)return e;const n=Ut(Object.create(null),e);for(const r in t)n[r]=Vn(e[r],t[r]);return n}function fO(){return{app:null,config:{isNativeTag:wB,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nq=0;function rq(e,t){return function(r,i=null){ke(r)||(r=Ut({},r)),i!=null&&!at(i)&&(i=null);const s=fO(),a=new Set;let c=!1;const l=s.app={_uid:nq++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Rq,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&ke(h.install)?(a.add(h),h.install(l,...d)):ke(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const g=Je(r,i);return g.appContext=s,d&&t?t(g,h):e(g,h,v),c=!0,l._container=h,h.__vue_app__=l,Uv(g.component)||g.component.proxy}},unmount(){c&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l},runWithContext(h){Cp=l;try{return h()}finally{Cp=null}}};return l}}let Cp=null;function Ou(e,t){if(nn){let n=nn.provides;const r=nn.parent&&nn.parent.provides;r===n&&(n=nn.provides=Object.create(r)),n[e]=t}}function sr(e,t,n=!1){const r=nn||vn;if(r||Cp){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Cp._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&ke(t)?t.call(r&&r.proxy):t}}function iq(e,t,n,r=!1){const i={},s={};_p(s,Fv,1),e.propsDefaults=Object.create(null),hO(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:l3(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function oq(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,c=We(i),[l]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let v=0;v<d.length;v++){let g=d[v];if(Nv(e.emitsOptions,g))continue;const y=t[g];if(l)if(Ke(s,g))y!==s[g]&&(s[g]=y,h=!0);else{const _=Mi(g);i[_]=Uw(l,c,_,y,e,!1)}else y!==s[g]&&(s[g]=y,h=!0)}}}else{hO(e,t,i,s)&&(h=!0);let d;for(const v in c)(!t||!Ke(t,v)&&((d=Ca(v))===v||!Ke(t,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=Uw(l,c,v,void 0,e,!0)):delete i[v]);if(s!==c)for(const v in s)(!t||!Ke(t,v))&&(delete s[v],h=!0)}h&&ao(e,"set","$attrs")}function hO(e,t,n,r){const[i,s]=e.propsOptions;let a=!1,c;if(t)for(let l in t){if(ip(l))continue;const h=t[l];let d;i&&Ke(i,d=Mi(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:Nv(e.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=We(n),h=c||gt;for(let d=0;d<s.length;d++){const v=s[d];n[v]=Uw(i,l,v,h[v],e,!Ke(h,v))}}return a}function Uw(e,t,n,r,i,s){const a=e[n];if(a!=null){const c=Ke(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ke(l)){const{propsDefaults:h}=i;n in h?r=h[n]:(Vu(i),r=h[n]=l.call(null,t),na())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===Ca(n))&&(r=!0))}return r}function dO(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},c=[];let l=!1;if(!ke(e)){const d=v=>{l=!0;const[g,y]=dO(v,t,!0);Ut(a,g),y&&c.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return at(e)&&r.set(e,Au),Au;if(ge(s))for(let d=0;d<s.length;d++){const v=Mi(s[d]);Sk(v)&&(a[v]=gt)}else if(s)for(const d in s){const v=Mi(d);if(Sk(v)){const g=s[d],y=a[v]=ge(g)||ke(g)?{type:g}:Ut({},g);if(y){const _=kk(Boolean,y.type),b=kk(String,y.type);y[0]=_>-1,y[1]=b<0||_<b,(_>-1||Ke(y,"default"))&&c.push(v)}}}const h=[a,c];return at(e)&&r.set(e,h),h}function Sk(e){return e[0]!=="$"}function Ck(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ak(e,t){return Ck(e)===Ck(t)}function kk(e,t){return ge(t)?t.findIndex(n=>Ak(n,e)):ke(t)&&Ak(t,e)?0:-1}const pO=e=>e[0]==="_"||e==="$stable",x0=e=>ge(e)?e.map(Ci):[Ci(e)],sq=(e,t,n)=>{if(t._n)return t;const r=Er((...i)=>x0(t(...i)),n);return r._c=!1,r},vO=(e,t,n)=>{const r=e._ctx;for(const i in e){if(pO(i))continue;const s=e[i];if(ke(s))t[i]=sq(i,s,r);else if(s!=null){const a=x0(s);t[i]=()=>a}}},gO=(e,t)=>{const n=x0(t);e.slots.default=()=>n},aq=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=We(t),_p(t,"_",n)):vO(t,e.slots={})}else e.slots={},t&&gO(e,t);_p(e.slots,Fv,1)},uq=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=gt;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(Ut(i,t),!n&&c===1&&delete i._):(s=!t.$stable,vO(t,i)),a=t}else t&&(gO(e,t),a={default:1});if(s)for(const c in i)!pO(c)&&!(c in a)&&delete i[c]};function jw(e,t,n,r,i=!1){if(ge(e)){e.forEach((g,y)=>jw(g,t&&(ge(t)?t[y]:t),n,r,i));return}if($l(r)&&!i)return;const s=r.shapeFlag&4?Uv(r.component)||r.component.proxy:r.el,a=i?null:s,{i:c,r:l}=e,h=t&&t.r,d=c.refs===gt?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&(jt(h)?(d[h]=null,Ke(v,h)&&(v[h]=null)):Wt(h)&&(h.value=null)),ke(l))Go(l,c,12,[a,d]);else{const g=jt(l),y=Wt(l);if(g||y){const _=()=>{if(e.f){const b=g?Ke(v,l)?v[l]:d[l]:l.value;i?ge(b)&&d0(b,s):ge(b)?b.includes(s)||b.push(s):g?(d[l]=[s],Ke(v,l)&&(v[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else g?(d[l]=a,Ke(v,l)&&(v[l]=a)):y&&(l.value=a,e.k&&(d[e.k]=a))};a?(_.id=-1,rr(_,n)):_()}}}const rr=O3;function cq(e){return lq(e)}function lq(e,t){const n=Aw();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:g,setScopeId:y=ai,insertStaticContent:_}=e,b=(I,N,M,j=null,V=null,Q=null,J=!1,z=null,X=!!N.dynamicChildren)=>{if(I===N)return;I&&!$s(I,N)&&(j=ne(I),un(I,V,Q,!0),I=null),N.patchFlag===-2&&(X=!1,N.dynamicChildren=null);const{type:K,ref:pe,shapeFlag:fe}=N;switch(K){case Lv:T(I,N,M,j);break;case Br:C(I,N,M,j);break;case P_:I==null&&x(N,M,j,J);break;case Zt:ue(I,N,M,j,V,Q,J,z,X);break;default:fe&1?$(I,N,M,j,V,Q,J,z,X):fe&6?ut(I,N,M,j,V,Q,J,z,X):(fe&64||fe&128)&&K.process(I,N,M,j,V,Q,J,z,X,He)}pe!=null&&V&&jw(pe,I&&I.ref,Q,N||I,!N)},T=(I,N,M,j)=>{if(I==null)r(N.el=c(N.children),M,j);else{const V=N.el=I.el;N.children!==I.children&&h(V,N.children)}},C=(I,N,M,j)=>{I==null?r(N.el=l(N.children||""),M,j):N.el=I.el},x=(I,N,M,j)=>{[I.el,I.anchor]=_(I.children,N,M,j,I.el,I.anchor)},O=({el:I,anchor:N},M,j)=>{let V;for(;I&&I!==N;)V=g(I),r(I,M,j),I=V;r(N,M,j)},L=({el:I,anchor:N})=>{let M;for(;I&&I!==N;)M=g(I),i(I),I=M;i(N)},$=(I,N,M,j,V,Q,J,z,X)=>{J=J||N.type==="svg",I==null?P(N,M,j,V,Q,J,z,X):se(I,N,V,Q,J,z,X)},P=(I,N,M,j,V,Q,J,z)=>{let X,K;const{type:pe,props:fe,shapeFlag:ve,transition:Ee,dirs:Me}=I;if(X=I.el=a(I.type,Q,fe&&fe.is,fe),ve&8?d(X,I.children):ve&16&&F(I.children,X,null,j,V,Q&&pe!=="foreignObject",J,z),Me&&Ds(I,null,j,"created"),ie(X,I,I.scopeId,J,j),fe){for(const Ge in fe)Ge!=="value"&&!ip(Ge)&&s(X,Ge,null,fe[Ge],Q,I.children,j,V,oe);"value"in fe&&s(X,"value",null,fe.value),(K=fe.onVnodeBeforeMount)&&Ti(K,j,I)}Me&&Ds(I,null,j,"beforeMount");const ye=(!V||V&&!V.pendingBranch)&&Ee&&!Ee.persisted;ye&&Ee.beforeEnter(X),r(X,N,M),((K=fe&&fe.onVnodeMounted)||ye||Me)&&rr(()=>{K&&Ti(K,j,I),ye&&Ee.enter(X),Me&&Ds(I,null,j,"mounted")},V)},ie=(I,N,M,j,V)=>{if(M&&y(I,M),j)for(let Q=0;Q<j.length;Q++)y(I,j[Q]);if(V){let Q=V.subTree;if(N===Q){const J=V.vnode;ie(I,J,J.scopeId,J.slotScopeIds,V.parent)}}},F=(I,N,M,j,V,Q,J,z,X=0)=>{for(let K=X;K<I.length;K++){const pe=I[K]=z?Uo(I[K]):Ci(I[K]);b(null,pe,N,M,j,V,Q,J,z)}},se=(I,N,M,j,V,Q,J)=>{const z=N.el=I.el;let{patchFlag:X,dynamicChildren:K,dirs:pe}=N;X|=I.patchFlag&16;const fe=I.props||gt,ve=N.props||gt;let Ee;M&&Ms(M,!1),(Ee=ve.onVnodeBeforeUpdate)&&Ti(Ee,M,N,I),pe&&Ds(N,I,M,"beforeUpdate"),M&&Ms(M,!0);const Me=V&&N.type!=="foreignObject";if(K?k(I.dynamicChildren,K,z,M,j,Me,Q):J||Ce(I,N,z,null,M,j,Me,Q,!1),X>0){if(X&16)dt(z,N,fe,ve,M,j,V);else if(X&2&&fe.class!==ve.class&&s(z,"class",null,ve.class,V),X&4&&s(z,"style",fe.style,ve.style,V),X&8){const ye=N.dynamicProps;for(let Ge=0;Ge<ye.length;Ge++){const ct=ye[Ge],Jn=fe[ct],Hi=ve[ct];(Hi!==Jn||ct==="value")&&s(z,ct,Jn,Hi,V,I.children,M,j,oe)}}X&1&&I.children!==N.children&&d(z,N.children)}else!J&&K==null&&dt(z,N,fe,ve,M,j,V);((Ee=ve.onVnodeUpdated)||pe)&&rr(()=>{Ee&&Ti(Ee,M,N,I),pe&&Ds(N,I,M,"updated")},j)},k=(I,N,M,j,V,Q,J)=>{for(let z=0;z<N.length;z++){const X=I[z],K=N[z],pe=X.el&&(X.type===Zt||!$s(X,K)||X.shapeFlag&70)?v(X.el):M;b(X,K,pe,null,j,V,Q,J,!0)}},dt=(I,N,M,j,V,Q,J)=>{if(M!==j){if(M!==gt)for(const z in M)!ip(z)&&!(z in j)&&s(I,z,M[z],null,J,N.children,V,Q,oe);for(const z in j){if(ip(z))continue;const X=j[z],K=M[z];X!==K&&z!=="value"&&s(I,z,K,X,J,N.children,V,Q,oe)}"value"in j&&s(I,"value",M.value,j.value)}},ue=(I,N,M,j,V,Q,J,z,X)=>{const K=N.el=I?I.el:c(""),pe=N.anchor=I?I.anchor:c("");let{patchFlag:fe,dynamicChildren:ve,slotScopeIds:Ee}=N;Ee&&(z=z?z.concat(Ee):Ee),I==null?(r(K,M,j),r(pe,M,j),F(N.children,M,pe,V,Q,J,z,X)):fe>0&&fe&64&&ve&&I.dynamicChildren?(k(I.dynamicChildren,ve,M,V,Q,J,z),(N.key!=null||V&&N===V.subTree)&&mO(I,N,!0)):Ce(I,N,M,pe,V,Q,J,z,X)},ut=(I,N,M,j,V,Q,J,z,X)=>{N.slotScopeIds=z,I==null?N.shapeFlag&512?V.ctx.activate(N,M,j,J,X):Rt(N,M,j,V,Q,J,X):Yn(I,N,X)},Rt=(I,N,M,j,V,Q,J)=>{const z=I.component=wq(I,j,V);if(Ov(I)&&(z.ctx.renderer=He),bq(z),z.asyncDep){if(V&&V.registerDep(z,tt),!I.el){const X=z.subTree=Je(Br);C(null,X,N,M)}return}tt(z,I,N,M,V,Q,J)},Yn=(I,N,M)=>{const j=N.component=I.component;if(R3(I,N,M))if(j.asyncDep&&!j.asyncResolved){nt(j,N,M);return}else j.next=N,T3(j.update),j.update();else N.el=I.el,j.vnode=N},tt=(I,N,M,j,V,Q,J)=>{const z=()=>{if(I.isMounted){let{next:pe,bu:fe,u:ve,parent:Ee,vnode:Me}=I,ye=pe,Ge;Ms(I,!1),pe?(pe.el=Me.el,nt(I,pe,J)):pe=Me,fe&&op(fe),(Ge=pe.props&&pe.props.onVnodeBeforeUpdate)&&Ti(Ge,Ee,pe,Me),Ms(I,!0);const ct=N_(I),Jn=I.subTree;I.subTree=ct,b(Jn,ct,v(Jn.el),ne(Jn),I,V,Q),pe.el=ct.el,ye===null&&N3(I,ct.el),ve&&rr(ve,V),(Ge=pe.props&&pe.props.onVnodeUpdated)&&rr(()=>Ti(Ge,Ee,pe,Me),V)}else{let pe;const{el:fe,props:ve}=N,{bm:Ee,m:Me,parent:ye}=I,Ge=$l(N);if(Ms(I,!1),Ee&&op(Ee),!Ge&&(pe=ve&&ve.onVnodeBeforeMount)&&Ti(pe,ye,N),Ms(I,!0),fe&&Ae){const ct=()=>{I.subTree=N_(I),Ae(fe,I.subTree,I,V,null)};Ge?N.type.__asyncLoader().then(()=>!I.isUnmounted&&ct()):ct()}else{const ct=I.subTree=N_(I);b(null,ct,M,j,I,V,Q),N.el=ct.el}if(Me&&rr(Me,V),!Ge&&(pe=ve&&ve.onVnodeMounted)){const ct=N;rr(()=>Ti(pe,ye,ct),V)}(N.shapeFlag&256||ye&&$l(ye.vnode)&&ye.vnode.shapeFlag&256)&&I.a&&rr(I.a,V),I.isMounted=!0,N=M=j=null}},X=I.effect=new y0(z,()=>A0(K),I.scope),K=I.update=()=>X.run();K.id=I.uid,Ms(I,!0),K()},nt=(I,N,M)=>{N.component=I;const j=I.vnode.props;I.vnode=N,I.next=null,oq(I,N.props,j,M),uq(I,N.children,M),_c(),mk(),wc()},Ce=(I,N,M,j,V,Q,J,z,X=!1)=>{const K=I&&I.children,pe=I?I.shapeFlag:0,fe=N.children,{patchFlag:ve,shapeFlag:Ee}=N;if(ve>0){if(ve&128){Xn(K,fe,M,j,V,Q,J,z,X);return}else if(ve&256){Dn(K,fe,M,j,V,Q,J,z,X);return}}Ee&8?(pe&16&&oe(K,V,Q),fe!==K&&d(M,fe)):pe&16?Ee&16?Xn(K,fe,M,j,V,Q,J,z,X):oe(K,V,Q,!0):(pe&8&&d(M,""),Ee&16&&F(fe,M,j,V,Q,J,z,X))},Dn=(I,N,M,j,V,Q,J,z,X)=>{I=I||Au,N=N||Au;const K=I.length,pe=N.length,fe=Math.min(K,pe);let ve;for(ve=0;ve<fe;ve++){const Ee=N[ve]=X?Uo(N[ve]):Ci(N[ve]);b(I[ve],Ee,M,null,V,Q,J,z,X)}K>pe?oe(I,V,Q,!0,!1,fe):F(N,M,j,V,Q,J,z,X,fe)},Xn=(I,N,M,j,V,Q,J,z,X)=>{let K=0;const pe=N.length;let fe=I.length-1,ve=pe-1;for(;K<=fe&&K<=ve;){const Ee=I[K],Me=N[K]=X?Uo(N[K]):Ci(N[K]);if($s(Ee,Me))b(Ee,Me,M,null,V,Q,J,z,X);else break;K++}for(;K<=fe&&K<=ve;){const Ee=I[fe],Me=N[ve]=X?Uo(N[ve]):Ci(N[ve]);if($s(Ee,Me))b(Ee,Me,M,null,V,Q,J,z,X);else break;fe--,ve--}if(K>fe){if(K<=ve){const Ee=ve+1,Me=Ee<pe?N[Ee].el:j;for(;K<=ve;)b(null,N[K]=X?Uo(N[K]):Ci(N[K]),M,Me,V,Q,J,z,X),K++}}else if(K>ve)for(;K<=fe;)un(I[K],V,Q,!0),K++;else{const Ee=K,Me=K,ye=new Map;for(K=Me;K<=ve;K++){const St=N[K]=X?Uo(N[K]):Ci(N[K]);St.key!=null&&ye.set(St.key,K)}let Ge,ct=0;const Jn=ve-Me+1;let Hi=!1,It=0;const wo=new Array(Jn);for(K=0;K<Jn;K++)wo[K]=0;for(K=Ee;K<=fe;K++){const St=I[K];if(ct>=Jn){un(St,V,Q,!0);continue}let pr;if(St.key!=null)pr=ye.get(St.key);else for(Ge=Me;Ge<=ve;Ge++)if(wo[Ge-Me]===0&&$s(St,N[Ge])){pr=Ge;break}pr===void 0?un(St,V,Q,!0):(wo[pr-Me]=K+1,pr>=It?It=pr:Hi=!0,b(St,N[pr],M,null,V,Q,J,z,X),ct++)}const pi=Hi?fq(wo):Au;for(Ge=pi.length-1,K=Jn-1;K>=0;K--){const St=Me+K,pr=N[St],cn=St+1<pe?N[St+1].el:j;wo[K]===0?b(null,pr,M,cn,V,Q,J,z,X):Hi&&(Ge<0||K!==pi[Ge]?Mn(pr,M,cn,2):Ge--)}}},Mn=(I,N,M,j,V=null)=>{const{el:Q,type:J,transition:z,children:X,shapeFlag:K}=I;if(K&6){Mn(I.component.subTree,N,M,j);return}if(K&128){I.suspense.move(N,M,j);return}if(K&64){J.move(I,N,M,He);return}if(J===Zt){r(Q,N,M);for(let fe=0;fe<X.length;fe++)Mn(X[fe],N,M,j);r(I.anchor,N,M);return}if(J===P_){O(I,N,M);return}if(j!==2&&K&1&&z)if(j===0)z.beforeEnter(Q),r(Q,N,M),rr(()=>z.enter(Q),V);else{const{leave:fe,delayLeave:ve,afterLeave:Ee}=z,Me=()=>r(Q,N,M),ye=()=>{fe(Q,()=>{Me(),Ee&&Ee()})};ve?ve(Q,Me,ye):ye()}else r(Q,N,M)},un=(I,N,M,j=!1,V=!1)=>{const{type:Q,props:J,ref:z,children:X,dynamicChildren:K,shapeFlag:pe,patchFlag:fe,dirs:ve}=I;if(z!=null&&jw(z,null,M,I,!0),pe&256){N.ctx.deactivate(I);return}const Ee=pe&1&&ve,Me=!$l(I);let ye;if(Me&&(ye=J&&J.onVnodeBeforeUnmount)&&Ti(ye,N,I),pe&6)B(I.component,M,j);else{if(pe&128){I.suspense.unmount(M,j);return}Ee&&Ds(I,null,N,"beforeUnmount"),pe&64?I.type.remove(I,N,M,V,He,j):K&&(Q!==Zt||fe>0&&fe&64)?oe(K,N,M,!1,!0):(Q===Zt&&fe&384||!V&&pe&16)&&oe(X,N,M),j&&$i(I)}(Me&&(ye=J&&J.onVnodeUnmounted)||Ee)&&rr(()=>{ye&&Ti(ye,N,I),Ee&&Ds(I,null,N,"unmounted")},M)},$i=I=>{const{type:N,el:M,anchor:j,transition:V}=I;if(N===Zt){Kc(M,j);return}if(N===P_){L(I);return}const Q=()=>{i(M),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(I.shapeFlag&1&&V&&!V.persisted){const{leave:J,delayLeave:z}=V,X=()=>J(M,Q);z?z(I.el,Q,X):X()}else Q()},Kc=(I,N)=>{let M;for(;I!==N;)M=g(I),i(I),I=M;i(N)},B=(I,N,M)=>{const{bum:j,scope:V,update:Q,subTree:J,um:z}=I;j&&op(j),V.stop(),Q&&(Q.active=!1,un(J,I,N,M)),z&&rr(z,N),rr(()=>{I.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},oe=(I,N,M,j=!1,V=!1,Q=0)=>{for(let J=Q;J<I.length;J++)un(I[J],N,M,j,V)},ne=I=>I.shapeFlag&6?ne(I.component.subTree):I.shapeFlag&128?I.suspense.next():g(I.anchor||I.el),Z=(I,N,M)=>{I==null?N._vnode&&un(N._vnode,null,null,!0):b(N._vnode||null,I,N,null,null,null,M),mk(),Jx(),N._vnode=I},He={p:b,um:un,m:Mn,r:$i,mt:Rt,mc:F,pc:Ce,pbc:k,n:ne,o:e};let pt,Ae;return t&&([pt,Ae]=t(He)),{render:Z,hydrate:pt,createApp:rq(Z,pt)}}function Ms({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function mO(e,t,n=!1){const r=e.children,i=t.children;if(ge(r)&&ge(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=Uo(i[s]),c.el=a.el),n||mO(a,c)),c.type===Lv&&(c.el=a.el)}}function fq(e){const t=e.slice(),n=[0];let r,i,s,a,c;const l=e.length;for(r=0;r<l;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,e[n[c]]<h?s=c+1:a=c;h<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const hq=e=>e.__isTeleport,Zt=Symbol.for("v-fgt"),Lv=Symbol.for("v-txt"),Br=Symbol.for("v-cmt"),P_=Symbol.for("v-stc"),Kl=[];let oi=null;function pn(e=!1){Kl.push(oi=e?null:[])}function dq(){Kl.pop(),oi=Kl[Kl.length-1]||null}let gf=1;function Rk(e){gf+=e}function yO(e){return e.dynamicChildren=gf>0?oi||Au:null,dq(),gf>0&&oi&&oi.push(e),e}function ir(e,t,n,r,i,s){return yO(qe(e,t,n,r,i,s,!0))}function O0(e,t,n,r,i){return yO(Je(e,t,n,r,i,!0))}function Ap(e){return e?e.__v_isVNode===!0:!1}function $s(e,t){return e.type===t.type&&e.key===t.key}const Fv="__vInternal",_O=({key:e})=>e??null,sp=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?jt(e)||Wt(e)||ke(e)?{i:vn,r:e,k:t,f:!!n}:e:null);function qe(e,t=null,n=null,r=0,i=null,s=e===Zt?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_O(t),ref:t&&sp(t),scopeId:xv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:vn};return c?(P0(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=jt(n)?8:16),gf>0&&!a&&oi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&oi.push(l),l}const Je=pq;function pq(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===G3)&&(e=Br),Ap(e)){const c=uo(e,t,!0);return n&&P0(c,n),gf>0&&!s&&oi&&(c.shapeFlag&6?oi[oi.indexOf(e)]=c:oi.push(c)),c.patchFlag|=-2,c}if(Cq(e)&&(e=e.__vccOpts),t){t=vq(t);let{class:c,style:l}=t;c&&!jt(c)&&(t.class=hf(c)),at(l)&&(Kx(l)&&!ge(l)&&(l=Ut({},l)),t.style=v0(l))}const a=jt(e)?1:x3(e)?128:hq(e)?64:at(e)?4:ke(e)?2:0;return qe(e,t,n,r,i,a,s,!0)}function vq(e){return e?Kx(e)||Fv in e?Ut({},e):e:null}function uo(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=e,c=t?mq(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&_O(c),ref:t&&t.ref?n&&i?ge(i)?i.concat(sp(t)):[i,sp(t)]:sp(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Zt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&uo(e.ssContent),ssFallback:e.ssFallback&&uo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function zo(e=" ",t=0){return Je(Lv,null,e,t)}function gq(e="",t=!1){return t?(pn(),O0(Br,null,e)):Je(Br,null,e)}function Ci(e){return e==null||typeof e=="boolean"?Je(Br):ge(e)?Je(Zt,null,e.slice()):typeof e=="object"?Uo(e):Je(Lv,null,String(e))}function Uo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:uo(e)}function P0(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ge(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),P0(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Fv in t)?t._ctx=vn:i===3&&vn&&(vn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ke(t)?(t={default:t,_ctx:vn},n=32):(t=String(t),r&64?(n=16,t=[zo(t)]):n=8);e.children=t,e.shapeFlag|=n}function mq(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=hf([t.class,r.class]));else if(i==="style")t.style=v0([t.style,r.style]);else if(Iv(i)){const s=t[i],a=r[i];a&&s!==a&&!(ge(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=r[i])}return t}function Ti(e,t,n,r=null){Vr(e,t,7,[n,r])}const yq=fO();let _q=0;function wq(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||yq,s={uid:_q++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Px(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dO(r,i),emitsOptions:eO(r,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=C3.bind(null,s),e.ce&&e.ce(s),s}let nn=null;const D0=()=>nn||vn;let M0,hu,Nk="__VUE_INSTANCE_SETTERS__";(hu=Aw()[Nk])||(hu=Aw()[Nk]=[]),hu.push(e=>nn=e),M0=e=>{hu.length>1?hu.forEach(t=>t(e)):hu[0](e)};const Vu=e=>{M0(e),e.scope.on()},na=()=>{nn&&nn.scope.off(),M0(null)};function wO(e){return e.vnode.shapeFlag&4}let mf=!1;function bq(e,t=!1){mf=t;const{props:n,children:r}=e.vnode,i=wO(e);iq(e,n,i,t),aq(e,r);const s=i?Eq(e,t):void 0;return mf=!1,s}function Eq(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Wx(new Proxy(e.ctx,Y3));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?Iq(e):null;Vu(e),_c();const s=Go(r,e,0,[e.props,i]);if(wc(),na(),kx(s)){if(s.then(na,na),t)return s.then(a=>{xk(e,a,t)}).catch(a=>{Rv(a,e,0)});e.asyncDep=s}else xk(e,s,t)}else bO(e,t)}function xk(e,t,n){ke(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:at(t)&&(e.setupState=Qx(t)),bO(e,n)}let Ok;function bO(e,t,n){const r=e.type;if(!e.render){if(!t&&Ok&&!r.render){const i=r.template||N0(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:l}=r,h=Ut(Ut({isCustomElement:s,delimiters:c},a),l);r.render=Ok(i,h)}}e.render=r.render||ai}Vu(e),_c(),X3(e),wc(),na()}function Tq(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return fr(e,"get","$attrs"),t[n]}}))}function Iq(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Tq(e)},slots:e.slots,emit:e.emit,expose:t}}function Uv(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Qx(Wx(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Hl)return Hl[n](e)},has(t,n){return n in t||n in Hl}}))}function Sq(e,t=!0){return ke(e)?e.displayName||e.name:e.name||t&&e.__name}function Cq(e){return ke(e)&&"__vccOpts"in e}const Ze=(e,t)=>w3(e,t,mf);function ts(e,t,n){const r=arguments.length;return r===2?at(t)&&!ge(t)?Ap(t)?Je(e,null,[t]):Je(e,t):Je(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ap(n)&&(n=[n]),Je(e,t,n))}const Aq=Symbol.for("v-scx"),kq=()=>sr(Aq),Rq="3.3.4",Nq="http://www.w3.org/2000/svg",Hs=typeof document<"u"?document:null,Pk=Hs&&Hs.createElement("template"),xq={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Hs.createElementNS(Nq,e):Hs.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Hs.createTextNode(e),createComment:e=>Hs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Hs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Pk.innerHTML=r?`<svg>${e}</svg>`:e;const c=Pk.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Oq(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Pq(e,t,n){const r=e.style,i=jt(n);if(n&&!i){if(t&&!jt(t))for(const s in t)n[s]==null&&Vw(r,s,"");for(const s in n)Vw(r,s,n[s])}else{const s=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const Dk=/\s*!important$/;function Vw(e,t,n){if(ge(n))n.forEach(r=>Vw(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Dq(e,t);Dk.test(n)?e.setProperty(Ca(r),n.replace(Dk,""),"important"):e[r]=n}}const Mk=["Webkit","Moz","ms"],D_={};function Dq(e,t){const n=D_[t];if(n)return n;let r=Mi(t);if(r!=="filter"&&r in e)return D_[t]=r;r=Cv(r);for(let i=0;i<Mk.length;i++){const s=Mk[i]+r;if(s in e)return D_[t]=s}return t}const Lk="http://www.w3.org/1999/xlink";function Mq(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Lk,t.slice(6,t.length)):e.setAttributeNS(Lk,t,n);else{const s=OB(t);n==null||s&&!xx(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function Lq(e,t,n,r,i,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,i,s),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const h=c==="OPTION"?e.getAttribute("value"):e.value,d=n??"";h!==d&&(e.value=d),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=xx(n):n==null&&h==="string"?(n="",l=!0):h==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Zi(e,t,n,r){e.addEventListener(t,n,r)}function Fq(e,t,n,r){e.removeEventListener(t,n,r)}function Uq(e,t,n,r,i=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[c,l]=jq(t);if(r){const h=s[t]=qq(r,i);Zi(e,c,h,l)}else a&&(Fq(e,c,a,l),s[t]=void 0)}}const Fk=/(?:Once|Passive|Capture)$/;function jq(e){let t;if(Fk.test(e)){t={};let r;for(;r=e.match(Fk);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ca(e.slice(2)),t]}let M_=0;const Vq=Promise.resolve(),Bq=()=>M_||(Vq.then(()=>M_=0),M_=Date.now());function qq(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Vr($q(r,n.value),t,5,[r])};return n.value=e,n.attached=Bq(),n}function $q(e,t){if(ge(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Uk=/^on[a-z]/,Hq=(e,t,n,r,i=!1,s,a,c,l)=>{t==="class"?Oq(e,r,i):t==="style"?Pq(e,n,r):Iv(t)?h0(t)||Uq(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Kq(e,t,r,i))?Lq(e,t,r,s,a,c,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Mq(e,t,r,i))};function Kq(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Uk.test(t)&&ke(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Uk.test(t)&&jt(n)?!1:t in e}const No="transition",kl="animation",L0=(e,{slots:t})=>ts(L3,Wq(e),t);L0.displayName="Transition";const EO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};L0.props=Ut({},iO,EO);const Ls=(e,t=[])=>{ge(e)?e.forEach(n=>n(...t)):e&&e(...t)},jk=e=>e?ge(e)?e.some(t=>t.length>1):e.length>1:!1;function Wq(e){const t={};for(const ue in e)ue in EO||(t[ue]=e[ue]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:h=a,appearToClass:d=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=Gq(i),b=_&&_[0],T=_&&_[1],{onBeforeEnter:C,onEnter:x,onEnterCancelled:O,onLeave:L,onLeaveCancelled:$,onBeforeAppear:P=C,onAppear:ie=x,onAppearCancelled:F=O}=t,se=(ue,ut,Rt)=>{Fs(ue,ut?d:c),Fs(ue,ut?h:a),Rt&&Rt()},k=(ue,ut)=>{ue._isLeaving=!1,Fs(ue,v),Fs(ue,y),Fs(ue,g),ut&&ut()},dt=ue=>(ut,Rt)=>{const Yn=ue?ie:x,tt=()=>se(ut,ue,Rt);Ls(Yn,[ut,tt]),Vk(()=>{Fs(ut,ue?l:s),xo(ut,ue?d:c),jk(Yn)||Bk(ut,r,b,tt)})};return Ut(t,{onBeforeEnter(ue){Ls(C,[ue]),xo(ue,s),xo(ue,a)},onBeforeAppear(ue){Ls(P,[ue]),xo(ue,l),xo(ue,h)},onEnter:dt(!1),onAppear:dt(!0),onLeave(ue,ut){ue._isLeaving=!0;const Rt=()=>k(ue,ut);xo(ue,v),Yq(),xo(ue,g),Vk(()=>{ue._isLeaving&&(Fs(ue,v),xo(ue,y),jk(L)||Bk(ue,r,T,Rt))}),Ls(L,[ue,Rt])},onEnterCancelled(ue){se(ue,!1),Ls(O,[ue])},onAppearCancelled(ue){se(ue,!0),Ls(F,[ue])},onLeaveCancelled(ue){k(ue),Ls($,[ue])}})}function Gq(e){if(e==null)return null;if(at(e))return[L_(e.enter),L_(e.leave)];{const t=L_(e);return[t,t]}}function L_(e){return CB(e)}function xo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Fs(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Vk(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let zq=0;function Bk(e,t,n,r){const i=e._endId=++zq,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:c,propCount:l}=Qq(e,t);if(!a)return r();const h=a+"end";let d=0;const v=()=>{e.removeEventListener(h,g),s()},g=y=>{y.target===e&&++d>=l&&v()};setTimeout(()=>{d<l&&v()},c+1),e.addEventListener(h,g)}function Qq(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),i=r(`${No}Delay`),s=r(`${No}Duration`),a=qk(i,s),c=r(`${kl}Delay`),l=r(`${kl}Duration`),h=qk(c,l);let d=null,v=0,g=0;t===No?a>0&&(d=No,v=a,g=s.length):t===kl?h>0&&(d=kl,v=h,g=l.length):(v=Math.max(a,h),d=v>0?a>h?No:kl:null,g=d?d===No?s.length:l.length:0);const y=d===No&&/\b(transform|all)(,|$)/.test(r(`${No}Property`).toString());return{type:d,timeout:v,propCount:g,hasTransform:y}}function qk(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>$k(n)+$k(e[r])))}function $k(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Yq(){return document.body.offsetHeight}const ns=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ge(t)?n=>op(t,n):t};function Xq(e){e.target.composing=!0}function Hk(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const kp={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=ns(i);const s=r||i.props&&i.props.type==="number";Zi(e,t?"change":"input",a=>{if(a.target.composing)return;let c=e.value;n&&(c=c.trim()),s&&(c=wp(c)),e._assign(c)}),n&&Zi(e,"change",()=>{e.value=e.value.trim()}),t||(Zi(e,"compositionstart",Xq),Zi(e,"compositionend",Hk),Zi(e,"change",Hk))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e._assign=ns(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&wp(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},Jq={deep:!0,created(e,t,n){e._assign=ns(n),Zi(e,"change",()=>{const r=e._modelValue,i=Bu(e),s=e.checked,a=e._assign;if(ge(r)){const c=g0(r,i),l=c!==-1;if(s&&!l)a(r.concat(i));else if(!s&&l){const h=[...r];h.splice(c,1),a(h)}}else if(yc(r)){const c=new Set(r);s?c.add(i):c.delete(i),a(c)}else a(TO(e,s))})},mounted:Kk,beforeUpdate(e,t,n){e._assign=ns(n),Kk(e,t,n)}};function Kk(e,{value:t,oldValue:n},r){e._modelValue=t,ge(t)?e.checked=g0(t,r.props.value)>-1:yc(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=ca(t,TO(e,!0)))}const Zq={created(e,{value:t},n){e.checked=ca(t,n.props.value),e._assign=ns(n),Zi(e,"change",()=>{e._assign(Bu(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=ns(r),t!==n&&(e.checked=ca(t,r.props.value))}},e$={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=yc(t);Zi(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?wp(Bu(a)):Bu(a));e._assign(e.multiple?i?new Set(s):s:s[0])}),e._assign=ns(r)},mounted(e,{value:t}){Wk(e,t)},beforeUpdate(e,t,n){e._assign=ns(n)},updated(e,{value:t}){Wk(e,t)}};function Wk(e,t){const n=e.multiple;if(!(n&&!ge(t)&&!yc(t))){for(let r=0,i=e.options.length;r<i;r++){const s=e.options[r],a=Bu(s);if(n)ge(t)?s.selected=g0(t,a)>-1:s.selected=t.has(a);else if(ca(Bu(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Bu(e){return"_value"in e?e._value:e.value}function TO(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const t$={created(e,t,n){Fd(e,t,n,null,"created")},mounted(e,t,n){Fd(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Fd(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Fd(e,t,n,r,"updated")}};function n$(e,t){switch(e){case"SELECT":return e$;case"TEXTAREA":return kp;default:switch(t){case"checkbox":return Jq;case"radio":return Zq;default:return kp}}}function Fd(e,t,n,r,i){const a=n$(e.tagName,n.props&&n.props.type)[i];a&&a(e,t,n,r)}const r$=["ctrl","shift","alt","meta"],i$={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>r$.some(n=>e[`${n}Key`]&&!t.includes(n))},Gk=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const s=i$[t[i]];if(s&&s(n,t))return}return e(n,...r)},o$={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},s$=(e,t)=>n=>{if(!("key"in n))return;const r=Ca(n.key);if(t.some(i=>i===r||o$[i]===r))return e(n)},a$=Ut({patchProp:Hq},xq);let zk;function u$(){return zk||(zk=cq(a$))}const c$=(...e)=>{const t=u$().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=l$(r);if(!i)return;const s=t._component;!ke(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function l$(e){return jt(e)?document.querySelector(e):e}const IO=new Set,ar=new WeakMap,Pu=new WeakMap,la=new WeakMap,Bw=new WeakMap,f$=new WeakMap,qu=new WeakMap,Rp=new WeakMap,Vl=new WeakSet;let fa;const eo="__aa_tgt",qw="__aa_del",h$=e=>{const t=m$(e);t&&t.forEach(n=>y$(n))},d$=e=>{e.forEach(t=>{t.target===fa&&v$(),ar.has(t.target)&&ka(t.target)})};function p$(e){const t=Bw.get(e);t==null||t.disconnect();let n=ar.get(e),r=0;const i=5;n||(n=$u(e),ar.set(e,n));const{offsetWidth:s,offsetHeight:a}=fa,l=[n.top-i,s-(n.left+i+n.width),a-(n.top+i+n.height),n.left-i].map(d=>`${-1*Math.floor(d)}px`).join(" "),h=new IntersectionObserver(()=>{++r>1&&ka(e)},{root:fa,threshold:1,rootMargin:l});h.observe(e),Bw.set(e,h)}function ka(e){clearTimeout(Rp.get(e));const t=jv(e),n=typeof t=="function"?500:t.duration;Rp.set(e,setTimeout(async()=>{const r=la.get(e);try{await(r==null?void 0:r.finished),ar.set(e,$u(e)),p$(e)}catch{}},n))}function v$(){clearTimeout(Rp.get(fa)),Rp.set(fa,setTimeout(()=>{IO.forEach(e=>kO(e,t=>SO(()=>ka(t))))},100))}function g$(e){setTimeout(()=>{f$.set(e,setInterval(()=>SO(ka.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function SO(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let $w,Iu;typeof window<"u"&&(fa=document.documentElement,$w=new MutationObserver(h$),Iu=new ResizeObserver(d$),Iu.observe(fa));function m$(e){return e.reduce((r,i)=>[...r,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(r=>r.nodeName==="#comment")?!1:e.reduce((r,i)=>{if(r===!1)return!1;if(i.target instanceof Element){if(F_(i.target),!r.has(i.target)){r.add(i.target);for(let s=0;s<i.target.children.length;s++){const a=i.target.children.item(s);if(a){if(qw in a)return!1;F_(i.target,a),r.add(a)}}}if(i.removedNodes.length)for(let s=0;s<i.removedNodes.length;s++){const a=i.removedNodes[s];if(qw in a)return!1;a instanceof Element&&(r.add(a),F_(i.target,a),Pu.set(a,[i.previousSibling,i.nextSibling]))}}return r},new Set)}function F_(e,t){!t&&!(eo in e)?Object.defineProperty(e,eo,{value:e}):t&&!(eo in t)&&Object.defineProperty(t,eo,{value:e})}function y$(e){var t;const n=e.isConnected,r=ar.has(e);n&&Pu.has(e)&&Pu.delete(e),la.has(e)&&((t=la.get(e))===null||t===void 0||t.cancel()),r&&n?w$(e):r&&!n?E$(e):b$(e)}function Ii(e){return Number(e.replace(/[^0-9.\-]/g,""))}function _$(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}function $u(e){const t=e.getBoundingClientRect(),{x:n,y:r}=_$(e);return{top:t.top+r,left:t.left+n,width:t.width,height:t.height}}function CO(e,t,n){let r=t.width,i=t.height,s=n.width,a=n.height;const c=getComputedStyle(e);if(c.getPropertyValue("box-sizing")==="content-box"){const h=Ii(c.paddingTop)+Ii(c.paddingBottom)+Ii(c.borderTopWidth)+Ii(c.borderBottomWidth),d=Ii(c.paddingLeft)+Ii(c.paddingRight)+Ii(c.borderRightWidth)+Ii(c.borderLeftWidth);r-=d,s-=d,i-=h,a-=h}return[r,s,i,a].map(Math.round)}function jv(e){return eo in e&&qu.has(e[eo])?qu.get(e[eo]):{duration:250,easing:"ease-in-out"}}function AO(e){if(eo in e)return e[eo]}function F0(e){const t=AO(e);return t?Vl.has(t):!1}function kO(e,...t){t.forEach(n=>n(e,qu.has(e)));for(let n=0;n<e.children.length;n++){const r=e.children.item(n);r&&t.forEach(i=>i(r,qu.has(r)))}}function w$(e){const t=ar.get(e),n=$u(e);if(!F0(e))return ar.set(e,n);let r;if(!t)return;const i=jv(e);if(typeof i!="function"){const s=t.left-n.left,a=t.top-n.top,[c,l,h,d]=CO(e,t,n),v={transform:`translate(${s}px, ${a}px)`},g={transform:"translate(0, 0)"};c!==l&&(v.width=`${c}px`,g.width=`${l}px`),h!==d&&(v.height=`${h}px`,g.height=`${d}px`),r=e.animate([v,g],{duration:i.duration,easing:i.easing})}else r=new Animation(i(e,"remain",t,n)),r.play();la.set(e,r),ar.set(e,n),r.addEventListener("finish",ka.bind(null,e))}function b$(e){const t=$u(e);ar.set(e,t);const n=jv(e);if(!F0(e))return;let r;typeof n!="function"?r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(r=new Animation(n(e,"add",t)),r.play()),la.set(e,r),r.addEventListener("finish",ka.bind(null,e))}function E$(e){var t;if(!Pu.has(e)||!ar.has(e))return;const[n,r]=Pu.get(e);Object.defineProperty(e,qw,{value:!0}),r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(e,r):n&&n.parentNode?n.parentNode.appendChild(e):(t=AO(e))===null||t===void 0||t.appendChild(e);function i(){var g;e.remove(),ar.delete(e),Pu.delete(e),la.delete(e),(g=Bw.get(e))===null||g===void 0||g.disconnect()}if(!F0(e))return i();const[s,a,c,l]=T$(e),h=jv(e),d=ar.get(e);let v;Object.assign(e.style,{position:"absolute",top:`${s}px`,left:`${a}px`,width:`${c}px`,height:`${l}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof h!="function"?v=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:h.duration,easing:"ease-out"}):(v=new Animation(h(e,"remove",d)),v.play()),la.set(e,v),v.addEventListener("finish",i)}function T$(e){const t=ar.get(e),[n,,r]=CO(e,t,$u(e));let i=e.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const s=getComputedStyle(i),a=ar.get(i)||$u(i),c=Math.round(t.top-a.top)-Ii(s.borderTopWidth),l=Math.round(t.left-a.left)-Ii(s.borderLeftWidth);return[c,l,n,r]}function I$(e,t={}){return $w&&Iu&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof t!="function"&&!t.disrespectUserMotionPreference||(Vl.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),kO(e,ka,g$,i=>Iu==null?void 0:Iu.observe(i)),typeof t=="function"?qu.set(e,t):qu.set(e,{duration:250,easing:"ease-in-out",...t}),$w.observe(e,{childList:!0}),IO.add(e))),Object.freeze({parent:e,enable:()=>{Vl.add(e)},disable:()=>{Vl.delete(e)},isEnabled:()=>Vl.has(e)})}const S$={mounted:(e,t)=>{I$(e,t.value||{})}},C$={install(e){e.directive("auto-animate",S$)}};function A$(){return RO().__VUE_DEVTOOLS_GLOBAL_HOOK__}function RO(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const k$=typeof Proxy=="function",R$="devtools-plugin:setup",N$="plugin:settings:set";let du,Hw;function x$(){var e;return du!==void 0||(typeof window<"u"&&window.performance?(du=!0,Hw=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(du=!0,Hw=global.perf_hooks.performance):du=!1),du}function O$(){return x$()?Hw.now():Date.now()}class P${constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const a in t.settings){const c=t.settings[a];r[a]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),c=JSON.parse(a);Object.assign(s,c)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return O$()}},n&&n.on(N$,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:c,args:l,resolve:h})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function D$(e,t){const n=e,r=RO(),i=A$(),s=k$&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(R$,e,t);else{const a=s?new P$(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:a}),a&&t(a.proxiedTarget)}}/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const NO=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Tc=e=>NO?Symbol(e):"_vr_"+e,M$=Tc("rvlm"),Qk=Tc("rvd"),Vv=Tc("r"),xO=Tc("rl"),Kw=Tc("rvl"),wu=typeof window<"u";function L$(e){return e.__esModule||NO&&e[Symbol.toStringTag]==="Module"}const lt=Object.assign;function U_(e,t){const n={};for(const r in t){const i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}const Wl=()=>{},F$=/\/$/,U$=e=>e.replace(F$,"");function j_(e,t,n="/"){let r,i={},s="",a="";const c=t.indexOf("?"),l=t.indexOf("#",c>-1?c:0);return c>-1&&(r=t.slice(0,c),s=t.slice(c+1,l>-1?l:t.length),i=e(s)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=q$(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function j$(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Yk(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function V$(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Hu(t.matched[r],n.matched[i])&&OO(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Hu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function OO(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!B$(e[n],t[n]))return!1;return!0}function B$(e,t){return Array.isArray(e)?Xk(e,t):Array.isArray(t)?Xk(t,e):e===t}function Xk(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function q$(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],!(i===1||a==="."))if(a==="..")i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var yf;(function(e){e.pop="pop",e.push="push"})(yf||(yf={}));var Gl;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Gl||(Gl={}));function $$(e){if(!e)if(wu){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),U$(e)}const H$=/^[^#]+#/;function K$(e,t){return e.replace(H$,"#")+t}function W$(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Bv=()=>({left:window.pageXOffset,top:window.pageYOffset});function G$(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=W$(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Jk(e,t){return(history.state?history.state.position-t:-1)+e}const Ww=new Map;function z$(e,t){Ww.set(e,t)}function Q$(e){const t=Ww.get(e);return Ww.delete(e),t}let Y$=()=>location.protocol+"//"+location.host;function PO(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let c=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),Yk(l,"")}return Yk(n,e)+r+i}function X$(e,t,n,r){let i=[],s=[],a=null;const c=({state:g})=>{const y=PO(e,location),_=n.value,b=t.value;let T=0;if(g){if(n.value=y,t.value=g,a&&a===_){a=null;return}T=b?g.position-b.position:0}else r(y);i.forEach(C=>{C(n.value,_,{delta:T,type:yf.pop,direction:T?T>0?Gl.forward:Gl.back:Gl.unknown})})};function l(){a=n.value}function h(g){i.push(g);const y=()=>{const _=i.indexOf(g);_>-1&&i.splice(_,1)};return s.push(y),y}function d(){const{history:g}=window;g.state&&g.replaceState(lt({},g.state,{scroll:Bv()}),"")}function v(){for(const g of s)g();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d),{pauseListeners:l,listen:h,destroy:v}}function Zk(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Bv():null}}function J$(e){const{history:t,location:n}=window,r={value:PO(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=e.indexOf("#"),g=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+l:Y$()+e+l;try{t[d?"replaceState":"pushState"](h,"",g),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](g)}}function a(l,h){const d=lt({},t.state,Zk(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=lt({},i.value,t.state,{forward:l,scroll:Bv()});s(d.current,d,!0);const v=lt({},Zk(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function Z$(e){e=$$(e);const t=J$(e),n=X$(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=lt({location:"",base:e,go:r,createHref:K$.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function eH(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Z$(e)}function tH(e){return typeof e=="string"||e&&typeof e=="object"}function DO(e){return typeof e=="string"||typeof e=="symbol"}const Oo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},MO=Tc("nf");var e1;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(e1||(e1={}));function Ku(e,t){return lt(new Error,{type:e,[MO]:!0},t)}function Po(e,t){return e instanceof Error&&MO in e&&(t==null||!!(e.type&t))}const t1="[^/]+?",nH={sensitive:!1,strict:!1,start:!0,end:!0},rH=/[.+*?^${}()[\]/\\]/g;function iH(e,t){const n=lt({},nH,t),r=[];let i=n.start?"^":"";const s=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const g=h[v];let y=40+(n.sensitive?.25:0);if(g.type===0)v||(i+="/"),i+=g.value.replace(rH,"\\$&"),y+=40;else if(g.type===1){const{value:_,repeatable:b,optional:T,regexp:C}=g;s.push({name:_,repeatable:b,optional:T});const x=C||t1;if(x!==t1){y+=10;try{new RegExp(`(${x})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${_}" (${x}): `+L.message)}}let O=b?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;v||(O=T&&h.length<2?`(?:/${O})`:"/"+O),T&&(O+="?"),i+=O,y+=20,T&&(y+=-8),b&&(y+=-20),x===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let g=1;g<d.length;g++){const y=d[g]||"",_=s[g-1];v[_.name]=y&&_.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const g of e){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of g)if(y.type===0)d+=y.value;else if(y.type===1){const{value:_,repeatable:b,optional:T}=y,C=_ in h?h[_]:"";if(Array.isArray(C)&&!b)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const x=Array.isArray(C)?C.join("/"):C;if(!x)if(T)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${_}"`);d+=x}}return d}return{re:a,score:r,keys:s,parse:c,stringify:l}}function oH(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function sH(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=oH(r[n],i[n]);if(s)return s;n++}return i.length-r.length}const aH={type:0,value:""},uH=/[a-zA-Z0-9_]/;function cH(e){if(!e)return[[]];if(e==="/")return[[aH]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),h="")}function g(){h+=l}for(;c<e.length;){if(l=e[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):g();break;case 4:g(),n=r;break;case 1:l==="("?n=2:uH.test(l)?g():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function lH(e,t,n){const r=iH(cH(e.path),n),i=lt(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function fH(e,t){const n=[],r=new Map;t=r1({strict:!1,end:!0,sensitive:!1},t);function i(d){return r.get(d)}function s(d,v,g){const y=!g,_=dH(d);_.aliasOf=g&&g.record;const b=r1(t,d),T=[_];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const L of O)T.push(lt({},_,{components:g?g.record.components:_.components,path:L,aliasOf:g?g.record:_}))}let C,x;for(const O of T){const{path:L}=O;if(v&&L[0]!=="/"){const $=v.record.path,P=$[$.length-1]==="/"?"":"/";O.path=v.record.path+(L&&P+L)}if(C=lH(O,v,b),g?g.alias.push(C):(x=x||C,x!==C&&x.alias.push(C),y&&d.name&&!n1(C)&&a(d.name)),"children"in _){const $=_.children;for(let P=0;P<$.length;P++)s($[P],C,g&&g.children[P])}g=g||C,l(C)}return x?()=>{a(x)}:Wl}function a(d){if(DO(d)){const v=r.get(d);v&&(r.delete(d),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(d);v>-1&&(n.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return n}function l(d){let v=0;for(;v<n.length&&sH(d,n[v])>=0&&(d.record.path!==n[v].record.path||!LO(d,n[v]));)v++;n.splice(v,0,d),d.record.name&&!n1(d)&&r.set(d.record.name,d)}function h(d,v){let g,y={},_,b;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw Ku(1,{location:d});b=g.record.name,y=lt(hH(v.params,g.keys.filter(x=>!x.optional).map(x=>x.name)),d.params),_=g.stringify(y)}else if("path"in d)_=d.path,g=n.find(x=>x.re.test(_)),g&&(y=g.parse(_),b=g.record.name);else{if(g=v.name?r.get(v.name):n.find(x=>x.re.test(v.path)),!g)throw Ku(1,{location:d,currentLocation:v});b=g.record.name,y=lt({},v.params,d.params),_=g.stringify(y)}const T=[];let C=g;for(;C;)T.unshift(C.record),C=C.parent;return{name:b,path:_,params:y,matched:T,meta:vH(T)}}return e.forEach(d=>s(d)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function hH(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function dH(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:pH(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function pH(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function n1(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function vH(e){return e.reduce((t,n)=>lt(t,n.meta),{})}function r1(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function LO(e,t){return t.children.some(n=>n===e||LO(e,n))}const FO=/#/g,gH=/&/g,mH=/\//g,yH=/=/g,_H=/\?/g,UO=/\+/g,wH=/%5B/g,bH=/%5D/g,jO=/%5E/g,EH=/%60/g,VO=/%7B/g,TH=/%7C/g,BO=/%7D/g,IH=/%20/g;function U0(e){return encodeURI(""+e).replace(TH,"|").replace(wH,"[").replace(bH,"]")}function SH(e){return U0(e).replace(VO,"{").replace(BO,"}").replace(jO,"^")}function Gw(e){return U0(e).replace(UO,"%2B").replace(IH,"+").replace(FO,"%23").replace(gH,"%26").replace(EH,"`").replace(VO,"{").replace(BO,"}").replace(jO,"^")}function CH(e){return Gw(e).replace(yH,"%3D")}function AH(e){return U0(e).replace(FO,"%23").replace(_H,"%3F")}function kH(e){return e==null?"":AH(e).replace(mH,"%2F")}function Np(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function RH(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(UO," "),a=s.indexOf("="),c=Np(a<0?s:s.slice(0,a)),l=a<0?null:Np(s.slice(a+1));if(c in t){let h=t[c];Array.isArray(h)||(h=t[c]=[h]),h.push(l)}else t[c]=l}return t}function i1(e){let t="";for(let n in e){const r=e[n];if(n=CH(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(s=>s&&Gw(s)):[r&&Gw(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function NH(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}function Rl(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function jo(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=v=>{v===!1?c(Ku(4,{from:n,to:t})):v instanceof Error?c(v):tH(v)?c(Ku(2,{from:t,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),a())},h=e.call(r&&r.instances[i],t,n,l);let d=Promise.resolve(h);e.length<3&&(d=d.then(l)),d.catch(v=>c(v))})}function V_(e,t,n,r){const i=[];for(const s of e)for(const a in s.components){let c=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(xH(c)){const h=(c.__vccOpts||c)[t];h&&i.push(jo(h,n,r,s,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=L$(h)?h.default:h;s.components[a]=d;const g=(d.__vccOpts||d)[t];return g&&jo(g,n,r,s,a)()}))}}return i}function xH(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function o1(e){const t=sr(Vv),n=sr(xO),r=Ze(()=>t.resolve(Nu(e.to))),i=Ze(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const g=v.findIndex(Hu.bind(null,d));if(g>-1)return g;const y=s1(l[h-2]);return h>1&&s1(d)===y&&v[v.length-1].path!==y?v.findIndex(Hu.bind(null,l[h-2])):g}),s=Ze(()=>i.value>-1&&MH(n.params,r.value.params)),a=Ze(()=>i.value>-1&&i.value===n.matched.length-1&&OO(n.params,r.value.params));function c(l={}){return DH(l)?t[Nu(e.replace)?"replace":"push"](Nu(e.to)).catch(Wl):Promise.resolve()}return{route:r,href:Ze(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const OH=po({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:o1,setup(e,{slots:t}){const n=bc(o1(e)),{options:r}=sr(Vv),i=Ze(()=>({[a1(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[a1(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:ts("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),PH=OH;function DH(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function MH(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function s1(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const a1=(e,t,n)=>e??t??n,LH=po({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=sr(Kw),i=Ze(()=>e.route||r.value),s=sr(Qk,0),a=Ze(()=>i.value.matched[s]);Ou(Qk,s+1),Ou(M$,a),Ou(Kw,i);const c=Fe();return Ri(()=>[c.value,a.value,e.name],([l,h,d],[v,g,y])=>{h&&(h.instances[d]=l,g&&g!==h&&l&&l===v&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),l&&h&&(!g||!Hu(h,g)||!v)&&(h.enterCallbacks[d]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=i.value,h=a.value,d=h&&h.components[e.name],v=e.name;if(!d)return u1(n.default,{Component:d,route:l});const g=h.props[e.name],y=g?g===!0?l.params:typeof g=="function"?g(l):g:null,b=ts(d,lt({},y,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[v]=null)},ref:c}));return u1(n.default,{Component:b,route:l})||b}}});function u1(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const FH=LH;function UH(e){const t=fH(e.routes,e),n=e.parseQuery||RH,r=e.stringifyQuery||i1,i=e.history,s=Rl(),a=Rl(),c=Rl(),l=Gx(Oo);let h=Oo;wu&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=U_.bind(null,B=>""+B),v=U_.bind(null,kH),g=U_.bind(null,Np);function y(B,oe){let ne,Z;return DO(B)?(ne=t.getRecordMatcher(B),Z=oe):Z=B,t.addRoute(Z,ne)}function _(B){const oe=t.getRecordMatcher(B);oe&&t.removeRoute(oe)}function b(){return t.getRoutes().map(B=>B.record)}function T(B){return!!t.getRecordMatcher(B)}function C(B,oe){if(oe=lt({},oe||l.value),typeof B=="string"){const I=j_(n,B,oe.path),N=t.resolve({path:I.path},oe),M=i.createHref(I.fullPath);return lt(I,N,{params:g(N.params),hash:Np(I.hash),redirectedFrom:void 0,href:M})}let ne;if("path"in B)ne=lt({},B,{path:j_(n,B.path,oe.path).path});else{const I=lt({},B.params);for(const N in I)I[N]==null&&delete I[N];ne=lt({},B,{params:v(B.params)}),oe.params=v(oe.params)}const Z=t.resolve(ne,oe),He=B.hash||"";Z.params=d(g(Z.params));const pt=j$(r,lt({},B,{hash:SH(He),path:Z.path})),Ae=i.createHref(pt);return lt({fullPath:pt,hash:He,query:r===i1?NH(B.query):B.query||{}},Z,{redirectedFrom:void 0,href:Ae})}function x(B){return typeof B=="string"?j_(n,B,l.value.path):lt({},B)}function O(B,oe){if(h!==B)return Ku(8,{from:oe,to:B})}function L(B){return ie(B)}function $(B){return L(lt(x(B),{replace:!0}))}function P(B){const oe=B.matched[B.matched.length-1];if(oe&&oe.redirect){const{redirect:ne}=oe;let Z=typeof ne=="function"?ne(B):ne;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=x(Z):{path:Z},Z.params={}),lt({query:B.query,hash:B.hash,params:B.params},Z)}}function ie(B,oe){const ne=h=C(B),Z=l.value,He=B.state,pt=B.force,Ae=B.replace===!0,I=P(ne);if(I)return ie(lt(x(I),{state:He,force:pt,replace:Ae}),oe||ne);const N=ne;N.redirectedFrom=oe;let M;return!pt&&V$(r,Z,ne)&&(M=Ku(16,{to:N,from:Z}),Xn(Z,Z,!0,!1)),(M?Promise.resolve(M):se(N,Z)).catch(j=>Po(j)?Po(j,2)?j:Dn(j):nt(j,N,Z)).then(j=>{if(j){if(Po(j,2))return ie(lt(x(j.to),{state:He,force:pt,replace:Ae}),oe||N)}else j=dt(N,Z,!0,Ae,He);return k(N,Z,j),j})}function F(B,oe){const ne=O(B,oe);return ne?Promise.reject(ne):Promise.resolve()}function se(B,oe){let ne;const[Z,He,pt]=jH(B,oe);ne=V_(Z.reverse(),"beforeRouteLeave",B,oe);for(const I of Z)I.leaveGuards.forEach(N=>{ne.push(jo(N,B,oe))});const Ae=F.bind(null,B,oe);return ne.push(Ae),pu(ne).then(()=>{ne=[];for(const I of s.list())ne.push(jo(I,B,oe));return ne.push(Ae),pu(ne)}).then(()=>{ne=V_(He,"beforeRouteUpdate",B,oe);for(const I of He)I.updateGuards.forEach(N=>{ne.push(jo(N,B,oe))});return ne.push(Ae),pu(ne)}).then(()=>{ne=[];for(const I of B.matched)if(I.beforeEnter&&!oe.matched.includes(I))if(Array.isArray(I.beforeEnter))for(const N of I.beforeEnter)ne.push(jo(N,B,oe));else ne.push(jo(I.beforeEnter,B,oe));return ne.push(Ae),pu(ne)}).then(()=>(B.matched.forEach(I=>I.enterCallbacks={}),ne=V_(pt,"beforeRouteEnter",B,oe),ne.push(Ae),pu(ne))).then(()=>{ne=[];for(const I of a.list())ne.push(jo(I,B,oe));return ne.push(Ae),pu(ne)}).catch(I=>Po(I,8)?I:Promise.reject(I))}function k(B,oe,ne){for(const Z of c.list())Z(B,oe,ne)}function dt(B,oe,ne,Z,He){const pt=O(B,oe);if(pt)return pt;const Ae=oe===Oo,I=wu?history.state:{};ne&&(Z||Ae?i.replace(B.fullPath,lt({scroll:Ae&&I&&I.scroll},He)):i.push(B.fullPath,He)),l.value=B,Xn(B,oe,ne,Ae),Dn()}let ue;function ut(){ue=i.listen((B,oe,ne)=>{const Z=C(B),He=P(Z);if(He){ie(lt(He,{replace:!0}),Z).catch(Wl);return}h=Z;const pt=l.value;wu&&z$(Jk(pt.fullPath,ne.delta),Bv()),se(Z,pt).catch(Ae=>Po(Ae,12)?Ae:Po(Ae,2)?(ie(Ae.to,Z).then(I=>{Po(I,20)&&!ne.delta&&ne.type===yf.pop&&i.go(-1,!1)}).catch(Wl),Promise.reject()):(ne.delta&&i.go(-ne.delta,!1),nt(Ae,Z,pt))).then(Ae=>{Ae=Ae||dt(Z,pt,!1),Ae&&(ne.delta?i.go(-ne.delta,!1):ne.type===yf.pop&&Po(Ae,20)&&i.go(-1,!1)),k(Z,pt,Ae)}).catch(Wl)})}let Rt=Rl(),Yn=Rl(),tt;function nt(B,oe,ne){Dn(B);const Z=Yn.list();return Z.length?Z.forEach(He=>He(B,oe,ne)):console.error(B),Promise.reject(B)}function Ce(){return tt&&l.value!==Oo?Promise.resolve():new Promise((B,oe)=>{Rt.add([B,oe])})}function Dn(B){return tt||(tt=!B,ut(),Rt.list().forEach(([oe,ne])=>B?ne(B):oe()),Rt.reset()),B}function Xn(B,oe,ne,Z){const{scrollBehavior:He}=e;if(!wu||!He)return Promise.resolve();const pt=!ne&&Q$(Jk(B.fullPath,0))||(Z||!ne)&&history.state&&history.state.scroll||null;return ui().then(()=>He(B,oe,pt)).then(Ae=>Ae&&G$(Ae)).catch(Ae=>nt(Ae,B,oe))}const Mn=B=>i.go(B);let un;const $i=new Set;return{currentRoute:l,addRoute:y,removeRoute:_,hasRoute:T,getRoutes:b,resolve:C,options:e,push:L,replace:$,go:Mn,back:()=>Mn(-1),forward:()=>Mn(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:Yn.add,isReady:Ce,install(B){const oe=this;B.component("RouterLink",PH),B.component("RouterView",FH),B.config.globalProperties.$router=oe,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>Nu(l)}),wu&&!un&&l.value===Oo&&(un=!0,L(i.location).catch(He=>{}));const ne={};for(const He in Oo)ne[He]=Ze(()=>l.value[He]);B.provide(Vv,oe),B.provide(xO,bc(ne)),B.provide(Kw,l);const Z=B.unmount;$i.add(B),B.unmount=function(){$i.delete(B),$i.size<1&&(h=Oo,ue&&ue(),l.value=Oo,un=!1,tt=!1),Z()}}}}function pu(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function jH(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const c=t.matched[a];c&&(e.matched.find(h=>Hu(h,c))?r.push(c):n.push(c));const l=e.matched[a];l&&(t.matched.find(h=>Hu(h,l))||i.push(l))}return[n,r,i]}function qO(){return sr(Vv)}const zl=/^[a-z0-9]+(-[a-z0-9]+)*$/,qv=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),l=i.pop(),h={provider:i.length>0?i[0]:r,prefix:l,name:c};return t&&!ap(h)?null:h}const s=i[0],a=s.split("-");if(a.length>1){const c={provider:r,prefix:a.shift(),name:a.join("-")};return t&&!ap(c)?null:c}if(n&&r===""){const c={provider:r,prefix:"",name:s};return t&&!ap(c,n)?null:c}return null},ap=(e,t)=>e?!!((e.provider===""||e.provider.match(zl))&&(t&&e.prefix===""||e.prefix.match(zl))&&e.name.match(zl)):!1,$O=Object.freeze({left:0,top:0,width:16,height:16}),xp=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),$v=Object.freeze({...$O,...xp}),zw=Object.freeze({...$v,body:"",hidden:!1});function VH(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function c1(e,t){const n=VH(e,t);for(const r in zw)r in xp?r in e&&!(r in n)&&(n[r]=xp[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function BH(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function s(a){if(n[a])return i[a]=[];if(!(a in i)){i[a]=null;const c=r[a]&&r[a].parent,l=c&&s(c);l&&(i[a]=[c].concat(l))}return i[a]}return(t||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function qH(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let s={};function a(c){s=c1(r[c]||i[c],s)}return a(t),n.forEach(a),c1(e,s)}function HO(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),n.push(i)});const r=BH(e);for(const i in r){const s=r[i];s&&(t(i,qH(e,i,s)),n.push(i))}return n}const $H={provider:"",aliases:{},not_found:{},...$O};function B_(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function KO(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!B_(e,$H))return null;const n=t.icons;for(const i in n){const s=n[i];if(!i.match(zl)||typeof s.body!="string"||!B_(s,zw))return null}const r=t.aliases||Object.create(null);for(const i in r){const s=r[i],a=s.parent;if(!i.match(zl)||typeof a!="string"||!n[a]&&!r[a]||!B_(s,zw))return null}return t}const l1=Object.create(null);function HH(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function ha(e,t){const n=l1[e]||(l1[e]=Object.create(null));return n[t]||(n[t]=HH(e,t))}function j0(e,t){return KO(t)?HO(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function KH(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let _f=!1;function WO(e){return typeof e=="boolean"&&(_f=e),_f}function WH(e){const t=typeof e=="string"?qv(e,!0,_f):e;if(t){const n=ha(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function GH(e,t){const n=qv(e,!0,_f);if(!n)return!1;const r=ha(n.provider,n.prefix);return KH(r,n.name,t)}function zH(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),_f&&!t&&!e.prefix){let i=!1;return KO(e)&&(e.prefix="",HO(e,(s,a)=>{a&&GH(s,a)&&(i=!0)})),i}const n=e.prefix;if(!ap({provider:t,prefix:n,name:"a"}))return!1;const r=ha(t,n);return!!j0(r,e)}const GO=Object.freeze({width:null,height:null}),zO=Object.freeze({...GO,...xp}),QH=/(-?[0-9.]*[0-9]+[0-9.]*)/g,YH=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function f1(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(QH);if(r===null||!r.length)return e;const i=[];let s=r.shift(),a=YH.test(s);for(;;){if(a){const c=parseFloat(s);isNaN(c)?i.push(s):i.push(Math.ceil(c*t*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");a=!a}}const XH=e=>e==="unset"||e==="undefined"||e==="none";function JH(e,t){const n={...$v,...e},r={...zO,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(_=>{const b=[],T=_.hFlip,C=_.vFlip;let x=_.rotate;T?C?x+=2:(b.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),b.push("scale(-1 1)"),i.top=i.left=0):C&&(b.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),b.push("scale(1 -1)"),i.top=i.left=0);let O;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:O=i.height/2+i.top,b.unshift("rotate(90 "+O.toString()+" "+O.toString()+")");break;case 2:b.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:O=i.width/2+i.left,b.unshift("rotate(-90 "+O.toString()+" "+O.toString()+")");break}x%2===1&&(i.left!==i.top&&(O=i.left,i.left=i.top,i.top=O),i.width!==i.height&&(O=i.width,i.width=i.height,i.height=O)),b.length&&(s='<g transform="'+b.join(" ")+'">'+s+"</g>")});const a=r.width,c=r.height,l=i.width,h=i.height;let d,v;a===null?(v=c===null?"1em":c==="auto"?h:c,d=f1(v,l/h)):(d=a==="auto"?l:a,v=c===null?f1(d,h/l):c==="auto"?h:c);const g={},y=(_,b)=>{XH(b)||(g[_]=b.toString())};return y("width",d),y("height",v),g.viewBox=i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+h.toString(),{attributes:g,body:s}}const ZH=/\sid="(\S+)"/g,eK="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let tK=0;function nK(e,t=eK){const n=[];let r;for(;r=ZH.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const a=typeof t=="function"?t(s):t+(tK++).toString(),c=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}const Qw=Object.create(null);function rK(e,t){Qw[e]=t}function Yw(e){return Qw[e]||Qw[""]}function V0(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const B0=Object.create(null),Nl=["https://api.simplesvg.com","https://api.unisvg.com"],up=[];for(;Nl.length>0;)Nl.length===1||Math.random()>.5?up.push(Nl.shift()):up.push(Nl.pop());B0[""]=V0({resources:["https://api.iconify.design"].concat(up)});function iK(e,t){const n=V0(t);return n===null?!1:(B0[e]=n,!0)}function q0(e){return B0[e]}const oK=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let h1=oK();function sK(e,t){const n=q0(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(a=>{i=Math.max(i,a.length)});const s=t+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function aK(e){return e===404}const uK=(e,t,n)=>{const r=[],i=sK(e,t),s="icons";let a={type:s,provider:e,prefix:t,icons:[]},c=0;return n.forEach((l,h)=>{c+=l.length+1,c>=i&&h>0&&(r.push(a),a={type:s,provider:e,prefix:t,icons:[]},c=l.length),a.icons.push(l)}),r.push(a),r};function cK(e){if(typeof e=="string"){const t=q0(e);if(t)return t.path}return"/"}const lK=(e,t,n)=>{if(!h1){n("abort",424);return}let r=cK(t.provider);switch(t.type){case"icons":{const s=t.prefix,c=t.icons.join(","),l=new URLSearchParams({icons:c});r+=s+".json?"+l.toString();break}case"custom":{const s=t.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;h1(e+r).then(s=>{const a=s.status;if(a!==200){setTimeout(()=>{n(aK(a)?"abort":"next",a)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},fK={prepare:uK,send:lK};function hK(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return e.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,a=i.prefix,c=i.name,l=n[s]||(n[s]=Object.create(null)),h=l[a]||(l[a]=ha(s,a));let d;c in h.icons?d=t.loaded:a===""||h.missing.has(c)?d=t.missing:d=t.pending;const v={provider:s,prefix:a,name:c};d.push(v)}),t}function QO(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==t))})}function dK(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(s=>{const a=s.icons,c=a.pending.length;a.pending=a.pending.filter(l=>{if(l.prefix!==i)return!0;const h=l.name;if(e.icons[h])a.loaded.push({provider:r,prefix:i,name:h});else if(e.missing.has(h))a.missing.push({provider:r,prefix:i,name:h});else return n=!0,!0;return!1}),a.pending.length!==c&&(n||QO([e],s.id),s.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),s.abort))})}))}let pK=0;function vK(e,t,n){const r=pK++,i=QO.bind(null,n,r);if(!t.pending.length)return i;const s={id:r,icons:t,callback:e,abort:i};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(s)}),i}function gK(e,t=!0,n=!1){const r=[];return e.forEach(i=>{const s=typeof i=="string"?qv(i,t,n):i;s&&r.push(s)}),r}var mK={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function yK(e,t,n,r){const i=e.resources.length,s=e.random?Math.floor(Math.random()*i):e.index;let a;if(e.random){let P=e.resources.slice(0);for(a=[];P.length>1;){const ie=Math.floor(Math.random()*P.length);a.push(P[ie]),P=P.slice(0,ie).concat(P.slice(ie+1))}a=a.concat(P)}else a=e.resources.slice(s).concat(e.resources.slice(0,s));const c=Date.now();let l="pending",h=0,d,v=null,g=[],y=[];typeof r=="function"&&y.push(r);function _(){v&&(clearTimeout(v),v=null)}function b(){l==="pending"&&(l="aborted"),_(),g.forEach(P=>{P.status==="pending"&&(P.status="aborted")}),g=[]}function T(P,ie){ie&&(y=[]),typeof P=="function"&&y.push(P)}function C(){return{startTime:c,payload:t,status:l,queriesSent:h,queriesPending:g.length,subscribe:T,abort:b}}function x(){l="failed",y.forEach(P=>{P(void 0,d)})}function O(){g.forEach(P=>{P.status==="pending"&&(P.status="aborted")}),g=[]}function L(P,ie,F){const se=ie!=="success";switch(g=g.filter(k=>k!==P),l){case"pending":break;case"failed":if(se||!e.dataAfterTimeout)return;break;default:return}if(ie==="abort"){d=F,x();return}if(se){d=F,g.length||(a.length?$():x());return}if(_(),O(),!e.random){const k=e.resources.indexOf(P.resource);k!==-1&&k!==e.index&&(e.index=k)}l="completed",y.forEach(k=>{k(F)})}function $(){if(l!=="pending")return;_();const P=a.shift();if(P===void 0){if(g.length){v=setTimeout(()=>{_(),l==="pending"&&(O(),x())},e.timeout);return}x();return}const ie={status:"pending",resource:P,callback:(F,se)=>{L(ie,F,se)}};g.push(ie),h++,v=setTimeout($,e.rotate),n(P,t,ie.callback)}return setTimeout($),C}function YO(e){const t={...mK,...e};let n=[];function r(){n=n.filter(c=>c().status==="pending")}function i(c,l,h){const d=yK(t,c,l,(v,g)=>{r(),h&&h(v,g)});return n.push(d),d}function s(c){return n.find(l=>c(l))||null}return{query:i,find:s,setIndex:c=>{t.index=c},getIndex:()=>t.index,cleanup:r}}function d1(){}const q_=Object.create(null);function _K(e){if(!q_[e]){const t=q0(e);if(!t)return;const n=YO(t),r={config:t,redundancy:n};q_[e]=r}return q_[e]}function wK(e,t,n){let r,i;if(typeof e=="string"){const s=Yw(e);if(!s)return n(void 0,424),d1;i=s.send;const a=_K(e);a&&(r=a.redundancy)}else{const s=V0(e);if(s){r=YO(s);const a=e.resources?e.resources[0]:"",c=Yw(a);c&&(i=c.send)}}return!r||!i?(n(void 0,424),d1):r.query(t,i,n)().abort}const p1="iconify2",wf="iconify",XO=wf+"-count",v1=wf+"-version",JO=36e5,bK=168;function Xw(e,t){try{return e.getItem(t)}catch{}}function $0(e,t,n){try{return e.setItem(t,n),!0}catch{}}function g1(e,t){try{e.removeItem(t)}catch{}}function Jw(e,t){return $0(e,XO,t.toString())}function Zw(e){return parseInt(Xw(e,XO))||0}const Hv={local:!0,session:!0},ZO={local:new Set,session:new Set};let H0=!1;function EK(e){H0=e}let Ud=typeof window>"u"?{}:window;function eP(e){const t=e+"Storage";try{if(Ud&&Ud[t]&&typeof Ud[t].length=="number")return Ud[t]}catch{}Hv[e]=!1}function tP(e,t){const n=eP(e);if(!n)return;const r=Xw(n,v1);if(r!==p1){if(r){const c=Zw(n);for(let l=0;l<c;l++)g1(n,wf+l.toString())}$0(n,v1,p1),Jw(n,0);return}const i=Math.floor(Date.now()/JO)-bK,s=c=>{const l=wf+c.toString(),h=Xw(n,l);if(typeof h=="string"){try{const d=JSON.parse(h);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>i&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&t(d,c))return!0}catch{}g1(n,l)}};let a=Zw(n);for(let c=a-1;c>=0;c--)s(c)||(c===a-1?(a--,Jw(n,a)):ZO[e].add(c))}function nP(){if(!H0){EK(!0);for(const e in Hv)tP(e,t=>{const n=t.data,r=t.provider,i=n.prefix,s=ha(r,i);if(!j0(s,n).length)return!1;const a=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,a):a,!0})}}function TK(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const r in Hv)tP(r,i=>{const s=i.data;return i.provider!==e.provider||s.prefix!==e.prefix||s.lastModified===t});return!0}function IK(e,t){H0||nP();function n(r){let i;if(!Hv[r]||!(i=eP(r)))return;const s=ZO[r];let a;if(s.size)s.delete(a=Array.from(s).shift());else if(a=Zw(i),!Jw(i,a+1))return;const c={cached:Math.floor(Date.now()/JO),provider:e.provider,data:t};return $0(i,wf+a.toString(),JSON.stringify(c))}t.lastModified&&!TK(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function m1(){}function SK(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,dK(e)}))}function CK(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,i=e.iconsToLoad;delete e.iconsToLoad;let s;if(!i||!(s=Yw(n)))return;s.prepare(n,r,i).forEach(c=>{wK(n,c,l=>{if(typeof l!="object")c.icons.forEach(h=>{e.missing.add(h)});else try{const h=j0(e,l);if(!h.length)return;const d=e.pendingIcons;d&&h.forEach(v=>{d.delete(v)}),IK(e,l)}catch(h){console.error(h)}SK(e)})})}))}const AK=(e,t)=>{const n=gK(e,!0,WO()),r=hK(n);if(!r.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(r.loaded,r.missing,r.pending,m1)}),()=>{l=!1}}const i=Object.create(null),s=[];let a,c;return r.pending.forEach(l=>{const{provider:h,prefix:d}=l;if(d===c&&h===a)return;a=h,c=d,s.push(ha(h,d));const v=i[h]||(i[h]=Object.create(null));v[d]||(v[d]=[])}),r.pending.forEach(l=>{const{provider:h,prefix:d,name:v}=l,g=ha(h,d),y=g.pendingIcons||(g.pendingIcons=new Set);y.has(v)||(y.add(v),i[h][d].push(v))}),s.forEach(l=>{const{provider:h,prefix:d}=l;i[h][d].length&&CK(l,i[h][d])}),t?vK(t,r,s):m1};function kK(e,t){const n={...e};for(const r in t){const i=t[r],s=typeof i;r in GO?(i===null||i&&(s==="string"||s==="number"))&&(n[r]=i):s===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const RK=/[\s,]+/;function NK(e,t){t.split(RK).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function xK(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(e);return isNaN(i)?0:r(i)}else if(n!==e){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return t}function OK(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function PK(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function DK(e){return"data:image/svg+xml,"+PK(e)}function MK(e){return'url("'+DK(e)+'")'}const y1={...zO,inline:!1},LK={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},FK={display:"inline-block"},eb={backgroundColor:"currentColor"},rP={backgroundColor:"transparent"},_1={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},w1={webkitMask:eb,mask:eb,background:rP};for(const e in w1){const t=w1[e];for(const n in _1)t[e+n]=_1[n]}const cp={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";cp[e+"-flip"]=t,cp[e.slice(0,1)+"-flip"]=t,cp[e+"Flip"]=t});function b1(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const E1=(e,t)=>{const n=kK(y1,t),r={...LK},i=t.mode||"svg",s={},a=t.style,c=typeof a=="object"&&!(a instanceof Array)?a:{};for(let b in t){const T=t[b];if(T!==void 0)switch(b){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[b]=T===!0||T==="true"||T===1;break;case"flip":typeof T=="string"&&NK(n,T);break;case"color":s.color=T;break;case"rotate":typeof T=="string"?n[b]=xK(T):typeof T=="number"&&(n[b]=T);break;case"ariaHidden":case"aria-hidden":T!==!0&&T!=="true"&&delete r["aria-hidden"];break;default:{const C=cp[b];C?(T===!0||T==="true"||T===1)&&(n[C]=!0):y1[b]===void 0&&(r[b]=T)}}}const l=JH(e,n),h=l.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),i==="svg"){r.style={...s,...c},Object.assign(r,h);let b=0,T=t.id;return typeof T=="string"&&(T=T.replace(/-/g,"_")),r.innerHTML=nK(l.body,T?()=>T+"ID"+b++:"iconifyVue"),ts("svg",r)}const{body:d,width:v,height:g}=e,y=i==="mask"||(i==="bg"?!1:d.indexOf("currentColor")!==-1),_=OK(d,{...h,width:v+"",height:g+""});return r.style={...s,"--svg":MK(_),width:b1(h.width),height:b1(h.height),...FK,...y?eb:rP,...c},ts("span",r)};WO(!0);rK("",fK);if(typeof document<"u"&&typeof window<"u"){nP();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!zH(r))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const r="IconifyProviders["+n+"] is invalid.";try{const i=t[n];if(typeof i!="object"||!i||i.resources===void 0)continue;iK(n,i)||console.error(r)}catch{console.error(r)}}}}const UK={...$v,body:""},K0=po({inheritAttrs:!1,data(){return{iconMounted:!1,counter:0}},mounted(){this._name="",this._loadingIcon=null,this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,t){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let n;if(typeof e!="string"||(n=qv(e,!1,!0))===null)return this.abortLoading(),null;const r=WH(n);if(!r)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",r!==null&&(this._loadingIcon={name:e,abort:AK([n],()=>{this.counter++})})),null;this.abortLoading(),this._name!==e&&(this._name=e,t&&t(e));const i=["iconify"];return n.prefix!==""&&i.push("iconify--"+n.prefix),n.provider!==""&&i.push("iconify--"+n.provider),{data:r,classes:i}}},render(){this.counter;const e=this.$attrs,t=this.iconMounted?this.getIcon(e.icon,e.onLoad):null;if(!t)return E1(UK,e);let n=e;return t.classes&&(n={...e,class:(typeof e.class=="string"?e.class+" ":"")+t.classes.join(" ")}),E1({...$v,...t.data},n)}}),Vi=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},jK={components:{Icon:K0},setup(e,t){const n=Fe("Login"),r=Fe("Signup Instead"),i=Fe(""),s=Fe(""),a=Fe(!1);function c(){n.value==="Login"?(n.value="Signup",r.value="Login Instead"):(n.value="Login",r.value="Signup Instead")}function l(){t.emit("emit-user",[i.value,s.value,n.value]),i.value="",s.value=""}function h(){a.value===!1?a.value=!0:a.value===!0&&(a.value=!1)}return{buttonPrimary:n,buttonSecondary:r,switchText:c,emitUser:l,username:i,password:s,showHide:a,showHidePassword:h}}},VK={class:"relative mb-3"},BK=qe("label",{for:"email",class:"pointer-events-none absolute left-0 top-0 origin-[0_0] border border-solid border-transparent px-3 py-4 text-neutral-500 transition-[opacity,_transform] duration-200 ease-linear peer-focus:-translate-y-2 peer-focus:translate-x-[0.15rem] peer-focus:scale-[0.85] peer-focus:text-primary peer-[:not(:placeholder-shown)]:-translate-y-2 peer-[:not(:placeholder-shown)]:translate-x-[0.15rem] peer-[:not(:placeholder-shown)]:scale-[0.85] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary"},"Email address",-1),qK={class:"relative mb-3"},$K=["type"],HK={class:"py-1"},KK=qe("label",{for:"showPassword",class:"p-1 dark:text-white"},"Show Password",-1),WK=qe("label",{for:"password",class:"pointer-events-none absolute left-0 top-0 origin-[0_0] border border-solid border-transparent px-3 py-4 text-neutral-500 transition-[opacity,_transform] duration-200 ease-linear peer-focus:-translate-y-2 peer-focus:translate-x-[0.15rem] peer-focus:scale-[0.85] peer-focus:text-primary peer-[:not(:placeholder-shown)]:-translate-y-2 peer-[:not(:placeholder-shown)]:translate-x-[0.15rem] peer-[:not(:placeholder-shown)]:scale-[0.85] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary"},"Password",-1),GK={class:"p-0.5"},zK={class:"p-0.5"};function QK(e,t,n,r,i,s){const a=$n("base-button");return pn(),ir("form",null,[qe("div",VK,[Ow(qe("input",{type:"text",class:"peer m-0 block h-[58px] w-full rounded border border-solid border-neutral-300 bg-transparent bg-clip-padding px-3 py-4 text-base font-normal leading-tight text-neutral-700 transition duration-200 ease-linear placeholder:text-transparent focus:border-primary focus:pb-[0.625rem] focus:pt-[1.625rem] focus:text-neutral-700 focus:outline-none peer-focus:text-primary dark:border-neutral-600 dark:text-neutral-200 dark:focus:border-primary dark:peer-focus:text-primary [&:not(:placeholder-shown)]:pb-[0.625rem] [&:not(:placeholder-shown)]:pt-[1.625rem]",id:"email",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=c=>r.username=c)},null,512),[[kp,r.username]]),BK]),qe("div",qK,[Ow(qe("input",{type:r.showHide?"text":"password",class:"peer m-0 block h-[58px] w-full rounded border border-solid border-neutral-300 bg-transparent bg-clip-padding px-3 py-4 text-base font-normal leading-tight text-neutral-700 transition duration-200 ease-linear placeholder:text-transparent focus:border-primary focus:pb-[0.625rem] focus:pt-[1.625rem] focus:text-neutral-700 focus:shadow-te-primary focus:outline-none peer-focus:text-primary dark:border-neutral-600 dark:text-neutral-200 dark:focus:border-primary dark:peer-focus:text-primary [&:not(:placeholder-shown)]:pb-[0.625rem] [&:not(:placeholder-shown)]:pt-[1.625rem] bg-",id:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=c=>r.password=c)},null,8,$K),[[t$,r.password]]),qe("div",HK,[qe("input",{type:"checkbox",id:"showPassword",onChange:t[2]||(t[2]=(...c)=>r.showHidePassword&&r.showHidePassword(...c))},null,32),KK]),WK]),qe("span",GK,[Je(a,{onClick:Gk(r.emitUser,["prevent"]),class:"font-semibold"},{default:Er(()=>[zo(bp(r.buttonPrimary),1)]),_:1},8,["onClick"])]),qe("span",zK,[Je(a,{onClick:Gk(r.switchText,["prevent"]),class:"font-semibold"},{default:Er(()=>[zo(bp(r.buttonSecondary),1)]),_:1},8,["onClick"])])])}const YK=Vi(jK,[["render",QK]]);const XK={},JK={class:"text-base text-red-600"};function ZK(e,t){return pn(),ir("div",null,[Je(L0,{name:"message"},{default:Er(()=>[qe("p",JK,[Mv(e.$slots,"default",{},void 0,!0)])]),_:3})])}const eW=Vi(XK,[["render",ZK],["__scopeId","data-v-e583e2cf"]]);var tb=function(e,t){return tb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},tb(e,t)};function te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var _e=function(){return _e=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_e.apply(this,arguments)};function R(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(e,t||[])).next())})}function A(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function sn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function xe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iP={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G=function(e,t){if(!e)throw Ic(t)},Ic=function(e){return new Error("Firebase Database ("+iP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oP=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},tW=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],c=e[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,c=a?e[i+1]:0,l=i+2<e.length,h=l?e[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,g=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(g=64)),r.push(n[d],n[v],n[g],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oP(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tW(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,c=a?n[e.charAt(i)]:0;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;++i;var d=i<e.length,v=d?n[e.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var g=s<<2|c>>4;if(r.push(g),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var _=h<<6&192|v;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},sP=function(e){var t=oP(e);return Kv.encodeByteArray(t,!0)},T1=function(e){return sP(e).replace(/\./g,"")},I1=function(e){try{return Kv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e){return bf(void 0,e)}function bf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!nW(r)||(e[r]=bf(e[r],t[r]));return e}function nW(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=_e({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[T1(JSON.stringify(n)),T1(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(da())}function uP(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rW(){return typeof self=="object"&&self.self===self}function z0(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function cP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iW(){return da().indexOf("Electron/")>=0}function oW(){var e=da();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function sW(){return da().indexOf("MSAppHost/")>=0}function lP(){return iP.NODE_ADMIN===!0}function aW(){return!uP()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jf(){return"indexedDB"in self&&indexedDB!=null}function Q0(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function fP(){return!(!navigator||!navigator.cookieEnabled)}function uW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cW="FirebaseError",Sc=function(e){te(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=cW,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,go.prototype.create),s}return t}(Error),go=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],c=a?lW(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new Sc(s,l,i);return h},e}();function lW(e,t){return e.replace(fW,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var fW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(e){return JSON.parse(e)}function Kt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y0=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=Ef(I1(s[0])||""),n=Ef(I1(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},hW=function(e){var t=Y0(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},dW=function(e){var t=Y0(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pW=function(e){var t=Y0(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pa(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function nb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Op(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(e){for(var t=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){t.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gW=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),g=1518500249):(v=c^l^h,g=1859775393):i<60?(v=c&l|h&(c|l),g=2400959708):(v=c^l^h,g=3395469782);var s=(a<<5|a>>>27)+v+d+g+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function mW(e,t){var n=new yW(e,t);return n.subscribe.bind(n)}var yW=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_W(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=$_),s.error===void 0&&(s.error=$_),s.complete===void 0&&(s.complete=$_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function _W(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function $_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function ur(e,t){return e+" failed: "+t+" argument "}function Jt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(ur(e,t)+"must be a valid function.")}function S1(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(ur(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wW=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,G(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Wv=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bW=1e3,EW=2,TW=4*60*60*1e3,IW=.5;function rb(e,t,n){t===void 0&&(t=bW),n===void 0&&(n=EW);var r=t*Math.pow(n,e),i=Math.round(IW*r*(Math.random()-.5)*2);return Math.min(TW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(e){return e&&e._delegate?e._delegate:e}var xn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hP=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new rn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(CW(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}try{for(var i=sn(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=gn(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService({instanceIdentifier:h});l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=js),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(xe(xe([],gn(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),gn(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=js),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=js),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=sn(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=gn(h.value,2),v=d[0],g=d[1],y=this.normalizeInstanceIdentifier(v);a===y&&g.resolve(c)}}catch(_){n={error:_}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return c},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=sn(s),c=a.next();!c.done;c=a.next()){var l=c.value;try{l(t,n)}catch{}}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SW(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=js),this.component?this.component.multipleInstances?t:js:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function SW(e){return e===js?void 0:e}function CW(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dP=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new hP(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ni(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Us,X0=[],Le;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Le||(Le={}));var pP={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},AW=Le.INFO,kW=(Us={},Us[Le.DEBUG]="log",Us[Le.VERBOSE]="log",Us[Le.INFO]="info",Us[Le.WARN]="warn",Us[Le.ERROR]="error",Us),RW=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=kW[t];if(s)console[s].apply(console,ni(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Ra=function(){function e(t){this.name=t,this._logLevel=AW,this._logHandler=RW,this._userLogHandler=null,X0.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Le))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?pP[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.DEBUG],t)),this._logHandler.apply(this,ni([this,Le.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.VERBOSE],t)),this._logHandler.apply(this,ni([this,Le.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.INFO],t)),this._logHandler.apply(this,ni([this,Le.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.WARN],t)),this._logHandler.apply(this,ni([this,Le.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.ERROR],t)),this._logHandler.apply(this,ni([this,Le.ERROR],t))},e}();function NW(e){X0.forEach(function(t){t.setLogLevel(e)})}function xW(e,t){for(var n=function(a){var c=null;t&&t.level&&(c=pP[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var g=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&e({level:Le[h].toLowerCase(),message:g,args:d,type:l.name})}},r=0,i=X0;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do,OW=(Do={},Do["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Do["bad-app-name"]="Illegal App name: '{$appName}",Do["duplicate-app"]="Firebase App named '{$appName}' already exists",Do["app-deleted"]="Firebase App named '{$appName}' already deleted",Do["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Do["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Do),bu=new go("app","Firebase",OW),vP="@firebase/app",PW="0.6.30",DW="@firebase/analytics",MW="@firebase/app-check",LW="@firebase/auth",FW="@firebase/database",UW="@firebase/functions",jW="@firebase/installations",VW="@firebase/messaging",BW="@firebase/performance",qW="@firebase/remote-config",$W="@firebase/storage",HW="@firebase/firestore",KW="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,Pp="[DEFAULT]",WW=(Tn={},Tn[vP]="fire-core",Tn[DW]="fire-analytics",Tn[MW]="fire-app-check",Tn[LW]="fire-auth",Tn[FW]="fire-rtdb",Tn[UW]="fire-fn",Tn[jW]="fire-iid",Tn[VW]="fire-fcm",Tn[BW]="fire-perf",Tn[qW]="fire-rc",Tn[$W]="fire-gcs",Tn[HW]="fire-fst",Tn["fire-js"]="fire-js",Tn[KW]="fire-js-all",Tn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wu=new Ra("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lp=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=aP(t),this.container=new dP(n.name),this._addComponent(new xn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Pp),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Pp),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Wu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw bu.create("app-deleted",{appName:this.name_})},e}();lp.prototype.name&&lp.prototype.options||lp.prototype.delete||console.log("dc");var GW="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:NW,onLog:d,apps:null,SDK_VERSION:GW,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(g){delete t[g]}function s(g){if(g=g||Pp,!Ar(t,g))throw bu.create("no-app",{appName:g});return t[g]}s.App=e;function a(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var b=y;b.name===void 0&&(b.name=Pp);var T=b.name;if(typeof T!="string"||!T)throw bu.create("bad-app-name",{appName:String(T)});if(Ar(t,T))throw bu.create("duplicate-app",{appName:T});var C=new e(g,b,r);return t[T]=C,C}function c(){return Object.keys(t).map(function(g){return t[g]})}function l(g){var y=g.name;if(n.has(y))return Wu.debug("There were multiple attempts to register component "+y+"."),g.type==="PUBLIC"?r[y]:null;if(n.set(y,g),g.type==="PUBLIC"){var _=function(x){if(x===void 0&&(x=s()),typeof x[y]!="function")throw bu.create("invalid-app-argument",{appName:y});return x[y]()};g.serviceProps!==void 0&&bf(_,g.serviceProps),r[y]=_,e.prototype[y]=function(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];var L=this._getService.bind(this,y);return L.apply(this,g.multipleInstances?x:[])}}for(var b=0,T=Object.keys(t);b<T.length;b++){var C=T[b];t[C]._addComponent(g)}return g.type==="PUBLIC"?r[y]:null}function h(g,y,_){var b,T=(b=WW[g])!==null&&b!==void 0?b:g;_&&(T+="-"+_);var C=T.match(/\s|\//),x=y.match(/\s|\//);if(C||x){var O=['Unable to register library "'+T+'" with version "'+y+'":'];C&&O.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),C&&x&&O.push("and"),x&&O.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),Wu.warn(O.join(" "));return}l(new xn(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function d(g,y){if(g!==null&&typeof g!="function")throw bu.create("invalid-log-argument");xW(g,y)}function v(g,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){var e=zW(lp);e.INTERNAL=_e(_e({},e.INTERNAL),{createFirebaseNamespace:gP,extendNamespace:t,createSubscribe:mW,ErrorFactory:go,deepExtend:bf});function t(n){bf(e,n)}return e}var J0=gP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QW=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(YW(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function YW(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(e,t){e.INTERNAL.registerComponent(new xn("platform-logger",function(n){return new QW(n)},"PRIVATE")),e.registerVersion(vP,PW,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(rW()&&self.firebase!==void 0){Wu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var C1=self.firebase.SDK_VERSION;C1&&C1.indexOf("LITE")>=0&&Wu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var JW=J0.initializeApp;J0.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return uP()&&Wu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),JW.apply(void 0,e)};var re=J0;XW(re);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var m=o[p];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(E){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{E(S.resolve,S.reject)}catch(U){S.reject(U)}}function f(){this.a=null}function p(E){return E instanceof u?E:new u(function(S){S(E)})}if(o)return o;f.prototype.b=function(E){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(E)};var m=r.setTimeout;f.prototype.c=function(E){m(E,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var S=0;S<E.length;++S){var U=E[S];E[S]=null;try{U()}catch(q){this.f(q)}}}this.a=null},f.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(q){return function(Te){U||(U=!0,q.call(S,Te))}}var S=this,U=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var S=E!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(E):this.h(E)}},u.prototype.v=function(E){var S=void 0;try{S=E.then}catch(U){this.g(U);return}typeof S=="function"?this.u(S,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,S){if(this.b!=0)throw Error("Cannot settle("+E+", "+S+"): Promise already settled in state"+this.b);this.b=E,this.c=S,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)w.b(this.a[E]);this.a=null}};var w=new f;return u.prototype.s=function(E){var S=this.f();E.Ra(S.resolve,S.reject)},u.prototype.u=function(E,S){var U=this.f();try{E.call(S,U.resolve,U.reject)}catch(q){U.reject(q)}},u.prototype.then=function(E,S){function U(ze,Yt){return typeof ze=="function"?function(Qi){try{q(ze(Qi))}catch(k_){Te(k_)}}:Yt}var q,Te,rt=new u(function(ze,Yt){q=ze,Te=Yt});return this.Ra(U(E,q),U(S,Te)),rt},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Ra=function(E,S){function U(){switch(q.b){case 1:E(q.c);break;case 2:S(q.c);break;default:throw Error("Unexpected state: "+q.b)}}var q=this;this.a==null?w.b(U):this.a.push(U)},u.resolve=p,u.reject=function(E){return new u(function(S,U){U(E)})},u.race=function(E){return new u(function(S,U){for(var q=a(E),Te=q.next();!Te.done;Te=q.next())p(Te.value).Ra(S,U)})},u.all=function(E){var S=a(E),U=S.next();return U.done?p([]):new u(function(q,Te){function rt(Qi){return function(k_){ze[Qi]=k_,Yt--,Yt==0&&q(ze)}}var ze=[],Yt=0;do ze.push(void 0),Yt++,p(U.value).Ra(rt(ze.length-1),Te),U=S.next();while(!U.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function g(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function _(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function b(o){return y(o)=="function"}function T(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function C(o){return Object.prototype.hasOwnProperty.call(o,x)&&o[x]||(o[x]=++O)}var x="closure_uid_"+(1e9*Math.random()>>>0),O=0;function L(o,u,f){return o.call.apply(o.bind,arguments)}function $(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function P(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?P=L:P=$,P.apply(null,arguments)}function ie(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function F(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function se(o){return o}function k(o,u,f){this.code=ue+o,this.message=u||ut[o]||"",this.a=f||null}F(k,Error),k.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},k.prototype.toJSON=function(){return this.w()};function dt(o){var u=o&&o.code;return u?new k(u.substring(ue.length),o.message,o.serverResponse):null}var ue="auth/",ut={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Rt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Yn(o){for(var u in Rt)if(Rt[u].id===o)return o=Rt[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var tt;tt=Yn("__EID__")?"__EID__":void 0;function nt(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Ce(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Ce);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}F(Ce,Error),Ce.prototype.name="CustomError";function Dn(o,u){o=o.split("%s");for(var f="",p=o.length-1,m=0;m<p;m++)f+=o[m]+(m<u.length?u[m]:"%s");Ce.call(this,f+o[p])}F(Dn,Ce),Dn.prototype.name="AssertionError";function Xn(o,u){throw new Dn("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Mn(o,u){this.c=o,this.f=u,this.b=0,this.a=null}Mn.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function un(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function $i(){this.b=this.a=null}var Kc=new Mn(function(){return new oe},function(o){o.reset()});$i.prototype.add=function(o,u){var f=Kc.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function B(){var o=GI,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function oe(){this.next=this.b=this.a=null}oe.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},oe.prototype.reset=function(){this.next=this.b=this.a=null};var ne=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Z=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,m=typeof o=="string"?o.split(""):o,w=0;w<p;w++)w in m&&u.call(f,m[w],w,o)};function He(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var pt=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],m=0,w=typeof o=="string"?o.split(""):o,E=0;E<f;E++)if(E in w){var S=w[E];u.call(void 0,S,E,o)&&(p[m++]=S)}return p},Ae=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),m=typeof o=="string"?o.split(""):o,w=0;w<f;w++)w in m&&(p[w]=u.call(void 0,m[w],w,o));return p},I=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o))return!0;return!1};function N(o){e:{for(var u=Zj,f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function M(o,u){return 0<=ne(o,u)}function j(o,u){u=ne(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function V(o,u){var f=0;He(o,function(p,m){u.call(void 0,p,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function Q(o){return Array.prototype.concat.apply([],arguments)}function J(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var z=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},X=/&/g,K=/</g,pe=/>/g,fe=/"/g,ve=/'/g,Ee=/\x00/g,Me=/[\x00&<>"']/;function ye(o,u){return o.indexOf(u)!=-1}function Ge(o,u){return o<u?-1:o>u?1:0}var ct;e:{var Jn=l.navigator;if(Jn){var Hi=Jn.userAgent;if(Hi){ct=Hi;break e}}ct=""}function It(o){return ye(ct,o)}function wo(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function pi(o){for(var u in o)return!1;return!0}function St(o){var u={},f;for(f in o)u[f]=o[f];return u}var pr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cn(o,u){for(var f,p,m=1;m<arguments.length;m++){p=arguments[m];for(f in p)o[f]=p[f];for(var w=0;w<pr.length;w++)f=pr[w],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function AI(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var m=p;break e}}catch{}m=null}if(m&&typeof m[u]<"u"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(T(o))try{var w=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{w="<object could not be stringified>"}else w=o===void 0?"undefined":o===null?"null":typeof o;Xn("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function vi(o,u){this.a=o===Nh&&u||"",this.b=kI}vi.prototype.ta=!0,vi.prototype.sa=function(){return this.a},vi.prototype.toString=function(){return"Const{"+this.a+"}"};function tm(o){return o instanceof vi&&o.constructor===vi&&o.b===kI?o.a:(Xn("expected object of type Const, got '"+o+"'"),"type_error:Const")}var kI={},Nh={},xh;function RI(){if(xh===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:se,createScript:se,createScriptURL:se})}catch(f){l.console&&l.console.error(f.message)}xh=o}else xh=o}return xh}function $a(o,u){this.a=u===xI?o:""}$a.prototype.ta=!0,$a.prototype.sa=function(){return this.a.toString()},$a.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function NI(o){return o instanceof $a&&o.constructor===$a?o.a:(Xn("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function nm(o,u){var f=tm(o);if(!RU.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(kU,function(p,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[m],p instanceof vi?tm(p):encodeURIComponent(String(p))}),NU(o)}var kU=/%{(\w+)}/g,RU=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xI={};function NU(o){var u=RI();return o=u?u.createScriptURL(o):o,new $a(o,xI)}function Zn(o,u){this.a=u===Wc?o:""}Zn.prototype.ta=!0,Zn.prototype.sa=function(){return this.a.toString()},Zn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Oh(o){return o instanceof Zn&&o.constructor===Zn?o.a:(Xn("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var xU=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,OU=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,OI=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function PI(o){if(o instanceof Zn)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),OI.test(o))o=new Zn(o,Wc);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(OU);o=u&&xU.test(u[1])?new Zn(o,Wc):null}return o}function DI(o){return o instanceof Zn?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),OI.test(o)||(o="about:invalid#zClosurez"),new Zn(o,Wc))}var Wc={},MI=new Zn("about:invalid#zClosurez",Wc);function Ha(o,u,f){this.a=f===LI?o:""}Ha.prototype.ta=!0,Ha.prototype.sa=function(){return this.a.toString()},Ha.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function PU(o){return o instanceof Ha&&o.constructor===Ha?o.a:(Xn("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var LI={};function DU(o,u){AI(o,"HTMLScriptElement"),o.src=NI(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function FI(o,u,f,p){return o=o instanceof Zn?o:DI(o),u=u||l,f=f instanceof vi?tm(f):f||"",u.open(Oh(o),f,p,void 0)}function UI(o,u){for(var f=o.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)p+=f.shift()+m.shift();return p+f.join("%s")}function rm(o){return Me.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(X,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(K,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(pe,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(fe,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(ve,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Ee,"&#0;"))),o}function im(o){return im[" "](o),o}im[" "]=g;function MU(o,u){var f=jU;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var LU=It("Opera"),Gr=It("Trident")||It("MSIE"),jI=It("Edge"),FU=jI||Gr,VI=It("Gecko")&&!(ye(ct.toLowerCase(),"webkit")&&!It("Edge"))&&!(It("Trident")||It("MSIE"))&&!It("Edge"),UU=ye(ct.toLowerCase(),"webkit")&&!It("Edge");function BI(){var o=l.document;return o?o.documentMode:void 0}var Ph;e:{var om="",sm=function(){var o=ct;if(VI)return/rv:([^\);]+)(\)|;)/.exec(o);if(jI)return/Edge\/([\d\.]+)/.exec(o);if(Gr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(UU)return/WebKit\/(\S+)/.exec(o);if(LU)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(sm&&(om=sm?sm[1]:""),Gr){var am=BI();if(am!=null&&am>parseFloat(om)){Ph=String(am);break e}}Ph=om}var jU={};function qI(o){return MU(o,function(){for(var u=0,f=z(String(Ph)).split("."),p=z(String(o)).split("."),m=Math.max(f.length,p.length),w=0;u==0&&w<m;w++){var E=f[w]||"",S=p[w]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],E[0].length==0&&S[0].length==0)break;u=Ge(E[1].length==0?0:parseInt(E[1],10),S[1].length==0?0:parseInt(S[1],10))||Ge(E[2].length==0,S[2].length==0)||Ge(E[2],S[2]),E=E[3],S=S[3]}while(u==0)}return 0<=u})}var um;if(l.document&&Gr){var $I=BI();um=$I||parseInt(Ph,10)||void 0}else um=void 0;var bo=um;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var VU=!Gr||9<=Number(bo);function Gc(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function HI(o,u){wo(u,function(f,p){f&&typeof f=="object"&&f.ta&&(f=f.sa()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:KI.hasOwnProperty(p)?o.setAttribute(KI[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var KI={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function BU(o,u,f){var p=arguments,m=document,w=String(p[0]),E=p[1];if(!VU&&E&&(E.name||E.type)){if(w=["<",w],E.name&&w.push(' name="',rm(E.name),'"'),E.type){w.push(' type="',rm(E.type),'"');var S={};cn(S,E),delete S.type,E=S}w.push(">"),w=w.join("")}return w=Dh(m,w),E&&(typeof E=="string"?w.className=E:Array.isArray(E)?w.className=E.join(" "):HI(w,E)),2<p.length&&qU(m,w,p),w}function qU(o,u,f){function p(S){S&&u.appendChild(typeof S=="string"?o.createTextNode(S):S)}for(var m=2;m<f.length;m++){var w=f[m];if(!_(w)||T(w)&&0<w.nodeType)p(w);else{e:{if(w&&typeof w.length=="number"){if(T(w)){var E=typeof w.item=="function"||typeof w.item=="string";break e}if(b(w)){E=typeof w.item=="function";break e}}E=!1}Z(E?J(w):w,p)}}}function Dh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function WI(o){l.setTimeout(function(){throw o},0)}var cm;function $U(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!It("Presto")&&(o=function(){var m=Dh(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var w=m.contentWindow;m=w.document,m.open(),m.close();var E="callImmediate"+Math.random(),S=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;m=P(function(U){(S=="*"||U.origin==S)&&U.data==E&&this.port1.onmessage()},this),w.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(E,S)}}}),typeof o<"u"&&!It("Trident")&&!It("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Hb;f.Hb=null,m()}},function(m){p.next={Hb:m},p=p.next,u.port2.postMessage(0)}}return function(m){l.setTimeout(m,0)}}function Mh(o,u){Lh||HU(),lm||(Lh(),lm=!0),GI.add(o,u)}var Lh;function HU(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);Lh=function(){o.then(zI)}}else Lh=function(){var u=zI;!b(l.setImmediate)||l.Window&&l.Window.prototype&&!It("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(cm||(cm=$U()),cm(u)):l.setImmediate(u)}}var lm=!1,GI=new $i;function zI(){for(var o;o=B();){try{o.a.call(o.b)}catch(u){WI(u)}un(Kc,o)}lm=!1}function Ue(o,u){if(this.a=vs,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=g)try{var f=this;o.call(u,function(p){gs(f,zc,p)},function(p){if(!(p instanceof Ka))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}gs(f,Ki,p)})}catch(p){gs(this,Ki,p)}}var vs=0,zc=2,Ki=3;function QI(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}QI.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var YI=new Mn(function(){return new QI},function(o){o.reset()});function fm(o,u,f){var p=YI.get();return p.g=o,p.b=u,p.f=f,p}function me(o){if(o instanceof Ue)return o;var u=new Ue(g);return gs(u,zc,o),u}function mt(o){return new Ue(function(u,f){f(o)})}function XI(o,u,f){tS(o,u,f,null)||Mh(ie(u,o))}function KU(o){return new Ue(function(u,f){var p=o.length,m=[];if(p)for(var w=function(q,Te){p--,m[q]=Te,p==0&&u(m)},E=function(q){f(q)},S=0,U;S<o.length;S++)U=o[S],XI(U,ie(w,S),E);else u(m)})}function JI(o){return new Ue(function(u){var f=o.length,p=[];if(f)for(var m=function(S,U,q){f--,p[S]=U?{Qb:!0,value:q}:{Qb:!1,reason:q},f==0&&u(p)},w=0,E;w<o.length;w++)E=o[w],XI(E,ie(m,w,!0),ie(m,w,!1));else u(p)})}Ue.prototype.then=function(o,u,f){return eS(this,b(o)?o:null,b(u)?u:null,f)},Ue.prototype.$goog_Thenable=!0,e=Ue.prototype,e.oa=function(o,u){return o=fm(o,o,u),o.c=!0,hm(this,o),this},e.o=function(o,u){return eS(this,null,o,u)},e.cancel=function(o){if(this.a==vs){var u=new Ka(o);Mh(function(){ZI(this,u)},this)}};function ZI(o,u){if(o.a==vs)if(o.c){var f=o.c;if(f.b){for(var p=0,m=null,w=null,E=f.b;E&&(E.c||(p++,E.a==o&&(m=E),!(m&&1<p)));E=E.next)m||(w=E);m&&(f.a==vs&&p==1?ZI(f,u):(w?(p=w,p.next==f.f&&(f.f=p),p.next=p.next.next):rS(f),iS(f,m,Ki,u)))}o.c=null}else gs(o,Ki,u)}function hm(o,u){o.b||o.a!=zc&&o.a!=Ki||nS(o),o.f?o.f.next=u:o.b=u,o.f=u}function eS(o,u,f,p){var m=fm(null,null,null);return m.a=new Ue(function(w,E){m.g=u?function(S){try{var U=u.call(p,S);w(U)}catch(q){E(q)}}:w,m.b=f?function(S){try{var U=f.call(p,S);U===void 0&&S instanceof Ka?E(S):w(U)}catch(q){E(q)}}:E}),m.a.c=o,hm(o,m),m.a}e.$c=function(o){this.a=vs,gs(this,zc,o)},e.ad=function(o){this.a=vs,gs(this,Ki,o)};function gs(o,u,f){o.a==vs&&(o===f&&(u=Ki,f=new TypeError("Promise cannot resolve to itself")),o.a=1,tS(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,nS(o),u!=Ki||f instanceof Ka||GU(o,f)))}function tS(o,u,f,p){if(o instanceof Ue)return hm(o,fm(u||g,f||null,p)),!0;if(nt(o))return o.then(u,f,p),!0;if(T(o))try{var m=o.then;if(b(m))return WU(o,m,u,f,p),!0}catch(w){return f.call(p,w),!0}return!1}function WU(o,u,f,p,m){function w(U){S||(S=!0,p.call(m,U))}function E(U){S||(S=!0,f.call(m,U))}var S=!1;try{u.call(o,E,w)}catch(U){w(U)}}function nS(o){o.h||(o.h=!0,Mh(o.gc,o))}function rS(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=rS(this);)iS(this,o,this.a,this.i);this.h=!1};function iS(o,u,f,p){if(f==Ki&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,oS(u,f,p);else try{u.c?u.g.call(u.f):oS(u,f,p)}catch(m){sS.call(null,m)}un(YI,u)}function oS(o,u,f){u==zc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function GU(o,u){o.g=!0,Mh(function(){o.g&&sS.call(null,u)})}var sS=WI;function Ka(o){Ce.call(this,o)}F(Ka,Ce),Ka.prototype.name="cancel";function Fh(){this.ya=this.ya,this.pa=this.pa}var zU=0;Fh.prototype.ya=!1;function aS(o){!o.ya&&(o.ya=!0,o.Da(),zU!=0)&&C(o)}Fh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var QU=Object.freeze||function(o){return o},uS=!Gr||9<=Number(bo),YU=Gr&&!qI("9"),XU=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",g,u),l.removeEventListener("test",g,u)}catch{}return o}();function er(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}er.prototype.preventDefault=function(){this.defaultPrevented=!0};function ms(o,u){if(er.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(VI){e:{try{im(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:JU[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}F(ms,er);var JU=QU({2:"touch",3:"pen",4:"mouse"});ms.prototype.preventDefault=function(){ms.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,YU)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},ms.prototype.g=function(){return this.a};var Qc="closure_listenable_"+(1e6*Math.random()|0),ZU=0;function ej(o,u,f,p,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Wa=m,this.key=++ZU,this.wa=this.Qa=!1}function Uh(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function jh(o){this.src=o,this.a={},this.b=0}jh.prototype.add=function(o,u,f,p,m){var w=o.toString();o=this.a[w],o||(o=this.a[w]=[],this.b++);var E=pm(o,u,p,m);return-1<E?(u=o[E],f||(u.Qa=!1)):(u=new ej(u,this.src,w,!!p,m),u.Qa=f,o.push(u)),u};function dm(o,u){var f=u.type;f in o.a&&j(o.a[f],u)&&(Uh(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function pm(o,u,f,p){for(var m=0;m<o.length;++m){var w=o[m];if(!w.wa&&w.listener==u&&w.capture==!!f&&w.Wa==p)return m}return-1}var vm="closure_lm_"+(1e6*Math.random()|0),gm={};function Nr(o,u,f,p,m){if(p&&p.once)mm(o,u,f,p,m);else if(Array.isArray(u))for(var w=0;w<u.length;w++)Nr(o,u[w],f,p,m);else f=_m(f),o&&o[Qc]?pS(o,u,f,T(p)?!!p.capture:!!p,m):cS(o,u,f,!1,p,m)}function cS(o,u,f,p,m,w){if(!u)throw Error("Invalid event type");var E=T(m)?!!m.capture:!!m,S=Vh(o);if(S||(o[vm]=S=new jh(o)),f=S.add(u,f,p,E,w),!f.proxy)if(p=tj(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)XU||(m=E),m===void 0&&(m=!1),o.addEventListener(u.toString(),p,m);else if(o.attachEvent)o.attachEvent(fS(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function tj(){var o=nj,u=uS?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function mm(o,u,f,p,m){if(Array.isArray(u))for(var w=0;w<u.length;w++)mm(o,u[w],f,p,m);else f=_m(f),o&&o[Qc]?wm(o,u,f,T(p)?!!p.capture:!!p,m):cS(o,u,f,!0,p,m)}function vr(o,u,f,p,m){if(Array.isArray(u))for(var w=0;w<u.length;w++)vr(o,u[w],f,p,m);else p=T(p)?!!p.capture:!!p,f=_m(f),o&&o[Qc]?(o=o.v,u=String(u).toString(),u in o.a&&(w=o.a[u],f=pm(w,f,p,m),-1<f&&(Uh(w[f]),Array.prototype.splice.call(w,f,1),w.length==0&&(delete o.a[u],o.b--)))):o&&(o=Vh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=pm(u,f,p,m)),(f=-1<o?u[o]:null)&&lS(f))}function lS(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[Qc])dm(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(fS(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Vh(u))?(dm(f,o),f.b==0&&(f.src=null,u[vm]=null)):Uh(o)}}}function fS(o){return o in gm?gm[o]:gm[o]="on"+o}function hS(o,u,f,p){var m=!0;if((o=Vh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var w=u[o];w&&w.capture==f&&!w.wa&&(w=dS(w,p),m=m&&w!==!1)}return m}function dS(o,u){var f=o.listener,p=o.Wa||o.src;return o.Qa&&lS(o),f.call(p,u)}function nj(o,u){if(o.wa)return!0;if(!uS){if(!u)e:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new ms(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=u.b;m;m=m.parentNode)p.push(m);for(o=o.type,m=p.length-1;0<=m;m--){u.b=p[m];var w=hS(p[m],o,!0,u);f=f&&w}for(m=0;m<p.length;m++)u.b=p[m],w=hS(p[m],o,!1,u),f=f&&w}return f}return dS(o,new ms(u,this))}function Vh(o){return o=o[vm],o instanceof jh?o:null}var ym="__closure_events_fn_"+(1e9*Math.random()>>>0);function _m(o){return b(o)?o:(o[ym]||(o[ym]=function(u){return o.handleEvent(u)}),o[ym])}function Ln(){Fh.call(this),this.v=new jh(this),this.bc=this,this.hb=null}F(Ln,Fh),Ln.prototype[Qc]=!0,Ln.prototype.addEventListener=function(o,u,f,p){Nr(this,o,u,f,p)},Ln.prototype.removeEventListener=function(o,u,f,p){vr(this,o,u,f,p)},Ln.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var p=o.type||o;if(typeof o=="string")o=new er(o,f);else if(o instanceof er)o.target=o.target||f;else{var m=o;o=new er(p,f),cn(o,m)}if(m=!0,u)for(var w=u.length-1;0<=w;w--){var E=o.b=u[w];m=Bh(E,p,!0,o)&&m}if(E=o.b=f,m=Bh(E,p,!0,o)&&m,m=Bh(E,p,!1,o)&&m,u)for(w=0;w<u.length;w++)E=o.b=u[w],m=Bh(E,p,!1,o)&&m;return m},Ln.prototype.Da=function(){if(Ln.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)Uh(f[p]);delete o.a[u],o.b--}}this.hb=null};function pS(o,u,f,p,m){o.v.add(String(u),f,!1,p,m)}function wm(o,u,f,p,m){o.v.add(String(u),f,!0,p,m)}function Bh(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,w=0;w<u.length;++w){var E=u[w];if(E&&!E.wa&&E.capture==f){var S=E.listener,U=E.Wa||E.src;E.Qa&&dm(o.v,E),m=S.call(U,p)!==!1&&m}}return m&&!p.defaultPrevented}function bm(o,u,f){if(b(o))f&&(o=P(o,f));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function Wa(o){var u=null;return new Ue(function(f,p){u=bm(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function vS(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(_(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function gS(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(_(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function rj(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(_(o)||typeof o=="string")Z(o,u,void 0);else for(var f=gS(o),p=vS(o),m=p.length,w=0;w<m;w++)u.call(void 0,p[w],f&&f[w],o)}function Ga(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Ga)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}e=Ga.prototype,e.X=function(){Em(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Em(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Em(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];ys(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)p=o.a[u],ys(m,p)||(o.a[f++]=p,m[p]=1),u++;o.a.length=f}}e.get=function(o,u){return ys(this.b,o)?this.b[o]:u},e.set=function(o,u){ys(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var m=f[p],w=this.get(m);o.call(u,w,m,this)}};function ys(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var mS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ij(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),m=null;if(0<=p){var w=o[f].substring(0,p);m=o[f].substring(p+1)}else w=o[f];u(w,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Eo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Eo?(this.i=u!==void 0?u:o.i,Yc(this,o.c),this.l=o.l,this.a=o.a,Xc(this,o.g),this.f=o.f,Tm(this,bS(o.b)),this.h=o.h):o&&(f=String(o).match(mS))?(this.i=!!u,Yc(this,f[1]||"",!0),this.l=Jc(f[2]||""),this.a=Jc(f[3]||"",!0),Xc(this,f[4]),this.f=Jc(f[5]||"",!0),Tm(this,f[6]||"",!0),this.h=Jc(f[7]||"")):(this.i=!!u,this.b=new _s(null,this.i))}Eo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(Zc(u,yS,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(Zc(u,yS,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(Zc(f,f.charAt(0)=="/"?aj:sj,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",Zc(f,cj)),o.join("")},Eo.prototype.resolve=function(o){var u=new Eo(this),f=!!o.c;f?Yc(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)Xc(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var m=u.f.lastIndexOf("/");m!=-1&&(p=u.f.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(ye(m,"./")||ye(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var w=[],E=0;E<m.length;){var S=m[E++];S=="."?p&&E==m.length&&w.push(""):S==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),p&&E==m.length&&w.push("")):(w.push(S),p=!0)}p=w.join("/")}else p=m}return f?u.f=p:f=o.b.toString()!=="",f?Tm(u,bS(o.b)):f=!!o.h,f&&(u.h=o.h),u};function Yc(o,u,f){o.c=f?Jc(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function Xc(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Tm(o,u,f){u instanceof _s?(o.b=u,lj(o.b,o.i)):(f||(u=Zc(u,uj)),o.b=new _s(u,o.i))}function Nt(o,u,f){o.b.set(u,f)}function xr(o,u){return o.b.get(u)}function tr(o){return o instanceof Eo?new Eo(o):new Eo(o,void 0)}function qh(o,u,f,p){var m=new Eo(null,void 0);return o&&Yc(m,o),u&&(m.a=u),f&&Xc(m,f),p&&(m.f=p),m}function Jc(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Zc(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,oj),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function oj(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var yS=/[#\/\?@]/g,sj=/[#\?:]/g,aj=/[#\?]/g,uj=/[#\?@]/g,cj=/#/g;function _s(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function To(o){o.a||(o.a=new Ga,o.b=0,o.c&&ij(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function _S(o){var u=gS(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new _s(null,void 0);o=vS(o);for(var p=0;p<u.length;p++){var m=u[p],w=o[p];Array.isArray(w)?wS(f,m,w):f.add(m,w)}return f}e=_s.prototype,e.add=function(o,u){To(this),this.c=null,o=za(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function gi(o,u){To(o),u=za(o,u),ys(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,ys(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Em(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Im(o,u){return To(o),u=za(o,u),ys(o.a.b,u)}e.forEach=function(o,u){To(this),this.a.forEach(function(f,p){Z(f,function(m){o.call(u,m,p,this)},this)},this)},e.Y=function(){To(this);for(var o=this.a.X(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var m=o[p],w=0;w<m.length;w++)f.push(u[p]);return f},e.X=function(o){To(this);var u=[];if(typeof o=="string")Im(this,o)&&(u=Q(u,this.a.get(za(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=Q(u,o[f])}return u},e.set=function(o,u){return To(this),this.c=null,o=za(this,o),Im(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function wS(o,u,f){gi(o,u),0<f.length&&(o.c=null,o.a.set(za(o,u),J(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],m=encodeURIComponent(String(p));p=this.X(p);for(var w=0;w<p.length;w++){var E=m;p[w]!==""&&(E+="="+encodeURIComponent(String(p[w]))),o.push(E)}}return this.c=o.join("&")};function bS(o){var u=new _s;return u.c=o.c,o.a&&(u.a=new Ga(o.a),u.b=o.b),u}function za(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function lj(o,u){u&&!o.f&&(To(o),o.c=null,o.a.forEach(function(f,p){var m=p.toLowerCase();p!=m&&(gi(this,p),wS(this,m,f))},o)),o.f=u}function ES(o){var u=[];return Sm(new fj,o,u),u.join("")}function fj(){}function Sm(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var m="",w=0;w<u;w++)f.push(m),Sm(o,p[w],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(w=u[p],typeof w!="function"&&(f.push(m),IS(p,f),f.push(":"),Sm(o,w,f),m=","));f.push("}");return}}switch(typeof u){case"string":IS(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var TS={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},hj=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function IS(o,u){u.push('"',o.replace(hj,function(f){var p=TS[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),TS[f]=p),p}),'"')}function Cm(){var o=ln();return Gr&&!!bo&&bo==11||/Edge\/\d+/.test(o)}function el(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function SS(o,u){u=u||l.window;var f="about:blank";o&&(f=Oh(PI(o)||MI)),u.location.href=f}function CS(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<CS(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function dj(){var o=ln();return o=Qa(o)!=NS?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Gr||!bo||9<bo}function AS(o){return o=(o||ln()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function ws(o){o=o||l.window;try{o.close()}catch{}}function kS(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=ln().toLowerCase(),p&&(u.target=p,ye(f,"crios/")&&(u.target="_blank")),Qa(ln())==Rm&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof Zn?f:PI(typeof f.href<"u"?f.href:String(f))||MI,f=o.target||f.target,m=[];for(E in o)switch(E){case"width":case"height":case"top":case"left":m.push(E+"="+o[E]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(E+"="+(o[E]?1:0))}var E=m.join(",");if((It("iPhone")&&!It("iPod")&&!It("iPad")||It("iPad")||It("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(E=Dh(document,"A"),AI(E,"HTMLAnchorElement"),u=u instanceof Zn?u:DI(u),E.href=Oh(u),E.setAttribute("target",f),o.noreferrer&&E.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),E.dispatchEvent(o),E={}):o.noreferrer?(E=FI("",p,f,E),o=Oh(u),E&&(FU&&ye(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),E.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+rm(o)+'">',o=(p=RI())?p.createHTML(o):o,o=new Ha(o,null,LI),p=E.document)&&(p.write(PU(o)),p.close())):(E=FI(u,p,f,E))&&o.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function pj(o){return new Ue(function(u){function f(){Wa(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var vj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gj=/^[^@]+@[^@]+$/;function $h(){var o=null;return new Ue(function(u){l.document.readyState=="complete"?u():(o=function(){u()},mm(window,"load",o))}).o(function(u){throw vr(window,"load",o),u})}function mj(){return Am(void 0)?$h().then(function(){return new Ue(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):mt(Error("Cordova must run in an Android or iOS file scheme."))}function Am(o){return o=o||ln(),!(Xa()!=="file:"&&Xa()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function km(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function zr(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function mi(){return re.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":re.INTERNAL.hasOwnProperty("node")?"Node":zr()?"Worker":"Browser"}function RS(){var o=mi();return o==="ReactNative"||o==="Node"}function yj(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Rm="Firefox",NS="Chrome";function Qa(o){var u=o.toLowerCase();if(ye(u,"opera/")||ye(u,"opr/")||ye(u,"opios/"))return"Opera";if(ye(u,"iemobile"))return"IEMobile";if(ye(u,"msie")||ye(u,"trident/"))return"IE";if(ye(u,"edge/"))return"Edge";if(ye(u,"firefox/"))return Rm;if(ye(u,"silk/"))return"Silk";if(ye(u,"blackberry"))return"Blackberry";if(ye(u,"webos"))return"Webos";if(!ye(u,"safari/")||ye(u,"chrome/")||ye(u,"crios/")||ye(u,"android"))if(!ye(u,"chrome/")&&!ye(u,"crios/")||ye(u,"edge/")){if(ye(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return NS;else return"Safari";return"Other"}var xS={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ya(o,u){u=u||[];var f=[],p={},m;for(m in xS)p[xS[m]]=!0;for(m=0;m<u.length;m++)typeof p[u[m]]<"u"&&(delete p[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=mi(),f==="Browser"?(p=ln(),f=Qa(p)):f==="Worker"&&(p=ln(),f=Qa(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function ln(){return l.navigator&&l.navigator.userAgent||""}function yt(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Nm(){try{var o=l.localStorage,u=Es();if(o)return o.setItem(u,"1"),o.removeItem(u),Cm()?!!l.indexedDB:!0}catch{return zr()&&!!l.indexedDB}return!1}function bs(){return(Hh()||Xa()==="chrome-extension:"||Am())&&!RS()&&Nm()&&!zr()}function Hh(){return Xa()==="http:"||Xa()==="https:"}function Xa(){return l.location&&l.location.protocol||null}function tl(o){return o=o||ln(),!(AS(o)||Qa(o)==Rm)}function nl(o){return typeof o>"u"?null:ES(o)}function OS(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function Ja(o){if(o!==null)return JSON.parse(o)}function Es(o){return o||Math.floor(1e9*Math.random()).toString()}function PS(o){return o=o||ln(),!(Qa(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function DS(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function Io(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=ln(),u=mi(),this.b=AS(o)||u==="ReactNative"}Io.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(Hh()||Xa()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function xm(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function _j(){var o=l.document,u=null;return xm()||!o?me():new Ue(function(f){u=function(){xm()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function rl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function MS(){return!(!yt("fireauth.oauthhelper",l)&&!yt("fireauth.iframe",l))}function wj(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function bj(){var o=l.navigator;return o&&o.serviceWorker?me().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):me(null)}var LS={};function Om(o){LS[o]||(LS[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var Pm;try{var Dm={};Object.defineProperty(Dm,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Dm,"abcd",{configurable:!0,enumerable:!0,value:2}),Pm=Dm.abcd==2}catch{Pm=!1}function le(o,u,f){Pm?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function Fn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&le(o,f,u[f])}function yi(o){var u={};return Fn(u,o),u}function Ej(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function Tj(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function Mm(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)le(u,f,Mm(o[f]))}return u}function Lm(o){var u=o&&(o[Vm]?"phone":null);if(u&&o&&o[jm]){le(this,"uid",o[jm]),le(this,"displayName",o[FS]||null);var f=null;o[Um]&&(f=new Date(o[Um]).toUTCString()),le(this,"enrollmentTime",f),le(this,"factorId",u)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}Lm.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Fm(o){try{var u=new il(o)}catch{u=null}return u}var FS="displayName",Um="enrolledAt",jm="mfaEnrollmentId",Vm="phoneInfo";function il(o){Lm.call(this,o),le(this,"phoneNumber",o[Vm])}F(il,Lm),il.prototype.w=function(){var o=il.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function Ij(o){var u={},f=o[Sj],p=o[Aj],m=o[kj];if(o=Fm(o[Cj]),!m||m!=Kh&&m!=ol&&!f||m==ol&&!p||m==Bm&&!o)throw Error("Invalid checkActionCode response!");m==ol?(u[jS]=f||null,u[VS]=f||null,u[US]=p):(u[jS]=p||null,u[VS]=p||null,u[US]=f||null),u[Rj]=o||null,le(this,xj,m),le(this,Nj,Mm(u))}var Bm="REVERT_SECOND_FACTOR_ADDITION",Kh="EMAIL_SIGNIN",ol="VERIFY_AND_CHANGE_EMAIL",Sj="email",Cj="mfaInfo",Aj="newEmail",kj="requestType",US="email",jS="fromEmail",Rj="multiFactorInfo",VS="previousEmail",Nj="data",xj="operation";function qm(o){o=tr(o);var u=xr(o,BS)||null,f=xr(o,qS)||null,p=xr(o,$S)||null;if(p=p&&Mj[p]||null,!u||!f||!p)throw new k("argument-error",BS+", "+qS+"and "+$S+" are required in a valid action code URL.");Fn(this,{apiKey:u,operation:p,code:f,continueUrl:xr(o,Oj)||null,languageCode:xr(o,Pj)||null,tenantId:xr(o,Dj)||null})}var BS="apiKey",qS="oobCode",Oj="continueUrl",Pj="languageCode",$S="mode",Dj="tenantId",Mj={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Bm,signIn:Kh,verifyAndChangeEmail:ol,verifyEmail:"VERIFY_EMAIL"};function HS(o){try{return new qm(o)}catch{return null}}function Wh(o){var u=o[Lj];if(typeof u>"u")throw new k("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new k("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[KS];if(f&&typeof f=="object"){u=f[YS];var p=f[zS];if(f=f[QS],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new k("argument-error",zS+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new k("argument-error",QS+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new k("argument-error",YS+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new k("missing-android-pkg-name")}}else if(typeof f<"u")throw new k("argument-error",KS+" property must be a non null object when specified.");if(this.f=null,(u=o[GS])&&typeof u=="object"){if(u=u[XS],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new k("argument-error",XS+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new k("argument-error",GS+" property must be a non null object when specified.");if(u=o[$m],typeof u<"u"&&typeof u!="boolean")throw new k("argument-error",$m+" property must be a boolean when specified.");if(this.c=!!u,o=o[WS],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new k("argument-error",WS+" property must be a non empty string when specified.");this.i=o||null}var KS="android",WS="dynamicLinkDomain",$m="handleCodeInApp",GS="iOS",Lj="url",zS="installApp",QS="minimumVersion",YS="packageName",XS="bundleId";function Gh(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function Fj(o){return Ae(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var sl=null;function Uj(o){var u=[];return jj(o,function(f){u.push(f)}),u}function jj(o,u){function f(U){for(;p<o.length;){var q=o.charAt(p++),Te=sl[q];if(Te!=null)return Te;if(!/^[\s\xa0]*$/.test(q))throw Error("Unknown base64 encoding at char: "+q)}return U}Vj();for(var p=0;;){var m=f(-1),w=f(0),E=f(64),S=f(64);if(S===64&&m===-1)break;u(m<<2|w>>4),E!=64&&(u(w<<4&240|E>>2),S!=64&&u(E<<6&192|S))}}function Vj(){if(!sl){sl={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),m=0;m<p.length;m++){var w=p[m];sl[w]===void 0&&(sl[w]=m)}}}function zh(o){var u=JS(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}zh.prototype.T=function(){return this.f},zh.prototype.l=function(){return this.c},zh.prototype.toString=function(){return this.h};function Qh(o){try{return new zh(o)}catch{return null}}function JS(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=Uj(o);for(o=[],f=u=0;u<p.length;){var m=p[u++];if(128>m)o[f++]=String.fromCharCode(m);else if(191<m&&224>m){var w=p[u++];o[f++]=String.fromCharCode((m&31)<<6|w&63)}else if(239<m&&365>m){w=p[u++];var E=p[u++],S=p[u++],U=((m&7)<<18|(w&63)<<12|(E&63)<<6|S&63)-65536;o[f++]=String.fromCharCode(55296+(U>>10)),o[f++]=String.fromCharCode(56320+(U&1023))}else w=p[u++],E=p[u++],o[f++]=String.fromCharCode((m&15)<<12|(w&63)<<6|E&63)}return JSON.parse(o.join(""))}catch{}return null}var ZS="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yh=["client_id","response_type","scope","redirect_uri","state"],Hm={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Yh},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Yh},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Yh},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:ZS},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Km(o){for(var u in Hm)if(Hm[u].fa==o)return Hm[u];return null}function eC(o){var u={};u["facebook.com"]=nC,u["google.com"]=iC,u["github.com"]=rC,u["twitter.com"]=oC;var f=o&&o[tC];try{if(f)return u[f]?new u[f](o):new _i(o);if(typeof o[Wm]<"u")return new Gm(o)}catch{}return null}var Wm="idToken",tC="providerId";function Gm(o){var u=o[tC];if(!u&&o[Wm]){var f=Qh(o[Wm]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),le(this,"providerId",u),le(this,"isNewUser",f)}function _i(o){Gm.call(this,o),o=Ja(o.rawUserInfo||"{}"),le(this,"profile",Mm(o||{}))}F(_i,Gm);function nC(o){if(_i.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}F(nC,_i);function rC(o){if(_i.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");le(this,"username",this.profile&&this.profile.login||null)}F(rC,_i);function iC(o){if(_i.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}F(iC,_i);function oC(o){if(_i.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");le(this,"username",o.screenName||null)}F(oC,_i);function sC(o){var u=tr(o),f=xr(u,"link"),p=xr(tr(f),"link");return u=xr(u,"deep_link_id"),xr(tr(u),"link")||u||p||f||o}function Xh(o,u){if(!o&&!u)throw new k("internal-error","Internal assert: no raw session string available");if(o&&u)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?al:Jh}var al="enroll",Jh="signin";Xh.prototype.Ha=function(){return this.a?me(this.a):me(this.b)},Xh.prototype.w=function(){return this.type==al?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Za(){}Za.prototype.ka=function(){},Za.prototype.b=function(){},Za.prototype.c=function(){},Za.prototype.w=function(){};function eu(o,u){return o.then(function(f){if(f[Xr]){var p=Qh(f[Xr]);if(!p||u!=p.i)throw new k("user-mismatch");return f}throw new k("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==ue+"user-not-found"?new k("user-mismatch"):f})}function Ts(o,u){if(u)this.a=u;else throw new k("internal-error","failed to construct a credential");le(this,"providerId",o),le(this,"signInMethod",o)}Ts.prototype.ka=function(o){return my(o,zm(this))},Ts.prototype.b=function(o,u){var f=zm(this);return f.idToken=u,yy(o,f)},Ts.prototype.c=function(o,u){return eu(_y(o,zm(this)),u)};function zm(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ts.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Bj(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ts(o.providerId,o.pendingToken)}catch{}return null}function Wi(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&le(this,"idToken",u.idToken),u.accessToken&&le(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&le(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)le(this,"accessToken",u.oauthToken),le(this,"secret",u.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");le(this,"providerId",o),le(this,"signInMethod",f)}Wi.prototype.ka=function(o){return my(o,Qm(this))},Wi.prototype.b=function(o,u){var f=Qm(this);return f.idToken=u,yy(o,f)},Wi.prototype.c=function(o,u){var f=Qm(this);return eu(_y(o,f),u)};function Qm(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:_S(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Wi.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function qj(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Wi(o.providerId,u,o.signInMethod)}catch{}}return null}function Is(o,u){this.Qc=u||[],Fn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(Km(o)||{}).Ja||null,this.pb=null}Is.prototype.Ka=function(o){return this.Jb=St(o),this};function aC(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');Is.call(this,o,[])}F(aC,Is);function gr(o){Is.call(this,o,Yh),this.a=[]}F(gr,Is),gr.prototype.Ca=function(o){return M(this.a,o)||this.a.push(o),this},gr.prototype.Rb=function(){return J(this.a)},gr.prototype.credential=function(o,u){var f;if(T(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Wi(this.providerId,f,this.providerId)};function Ss(){gr.call(this,"facebook.com")}F(Ss,gr),le(Ss,"PROVIDER_ID","facebook.com"),le(Ss,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function uC(o){if(!o)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Ss().credential({accessToken:u})}function Cs(){gr.call(this,"github.com")}F(Cs,gr),le(Cs,"PROVIDER_ID","github.com"),le(Cs,"GITHUB_SIGN_IN_METHOD","github.com");function cC(o){if(!o)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Cs().credential({accessToken:u})}function As(){gr.call(this,"google.com"),this.Ca("profile")}F(As,gr),le(As,"PROVIDER_ID","google.com"),le(As,"GOOGLE_SIGN_IN_METHOD","google.com");function lC(o,u){var f=o;return T(o)&&(f=o.idToken,u=o.accessToken),new As().credential({idToken:f,accessToken:u})}function tu(){Is.call(this,"twitter.com",ZS)}F(tu,Is),le(tu,"PROVIDER_ID","twitter.com"),le(tu,"TWITTER_SIGN_IN_METHOD","twitter.com");function fC(o,u){var f=o;if(T(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Wi("twitter.com",f,"twitter.com")}function So(o,u,f){this.a=o,this.f=u,le(this,"providerId","password"),le(this,"signInMethod",f===Or.EMAIL_LINK_SIGN_IN_METHOD?Or.EMAIL_LINK_SIGN_IN_METHOD:Or.EMAIL_PASSWORD_SIGN_IN_METHOD)}So.prototype.ka=function(o){return this.signInMethod==Or.EMAIL_LINK_SIGN_IN_METHOD?je(o,CV,{email:this.a,oobCode:this.f}):je(o,jC,{email:this.a,password:this.f})},So.prototype.b=function(o,u){return this.signInMethod==Or.EMAIL_LINK_SIGN_IN_METHOD?je(o,AV,{idToken:u,email:this.a,oobCode:this.f}):je(o,UC,{idToken:u,email:this.a,password:this.f})},So.prototype.c=function(o,u){return eu(this.ka(o),u)},So.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function $j(o){return o&&o.email&&o.password?new So(o.email,o.password,o.signInMethod):null}function Or(){Fn(this,{providerId:"password",isOAuthProvider:!1})}function hC(o,u){if(u=Ym(u),!u)throw new k("argument-error","Invalid email link!");return new So(o,u.code,Or.EMAIL_LINK_SIGN_IN_METHOD)}function Ym(o){return o=sC(o),(o=HS(o))&&o.operation===Kh?o:null}Fn(Or,{PROVIDER_ID:"password"}),Fn(Or,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fn(Or,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Co(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new k("internal-error");this.a=o,le(this,"providerId","phone"),this.fa="phone",le(this,"signInMethod","phone")}Co.prototype.ka=function(o){return o.gb(ul(this))},Co.prototype.b=function(o,u){var f=ul(this);return f.idToken=u,je(o,GV,f)},Co.prototype.c=function(o,u){var f=ul(this);return f.operation="REAUTH",o=je(o,zV,f),eu(o,u)},Co.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function Hj(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Co(u)}return null}function ul(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Gi(o){try{this.a=o||re.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fn(this,{providerId:"phone",isOAuthProvider:!1})}Gi.prototype.gb=function(o,u){var f=this.a.a;return me(u.verify()).then(function(p){if(typeof p!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=T(o)?o.session:null,w=T(o)?o.phoneNumber:o,E;return m&&m.type==al?E=m.Ha().then(function(S){return mV(f,{idToken:S,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:p}})}):m&&m.type==Jh?E=m.Ha().then(function(S){return yV(f,{mfaPendingCredential:S,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):E=gV(f,{phoneNumber:w,recaptchaToken:p}),E.then(function(S){return typeof u.reset=="function"&&u.reset(),S},function(S){throw typeof u.reset=="function"&&u.reset(),S});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function dC(o,u){if(!o)throw new k("missing-verification-id");if(!u)throw new k("missing-verification-code");return new Co({fb:o,eb:u})}Fn(Gi,{PROVIDER_ID:"phone"}),Fn(Gi,{PHONE_SIGN_IN_METHOD:"phone"});function Xm(o){if(o.temporaryProof&&o.phoneNumber)return new Co({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,m=o&&o.nonce,w=o&&o.oauthIdToken,E=o&&o.pendingToken;try{switch(u){case"google.com":return lC(w,f);case"facebook.com":return uC(f);case"github.com":return cC(f);case"twitter.com":return fC(f,p);default:return f||p||w||E?E?u.indexOf("saml.")==0?new Ts(u,E):new Wi(u,{pendingToken:E,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new gr(u).credential({idToken:w,accessToken:f,rawNonce:m}):null}}catch{return null}}function Jm(o){if(!o.isOAuthProvider)throw new k("invalid-oauth-provider")}function Qr(o,u,f,p,m,w,E){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=w||null,this.h=E||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}Qr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Qr.prototype.T=function(){return this.h},Qr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function pC(o){return o=o||{},o.type?new Qr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&dt(o.error),o.postBody,o.tenantId):null}function Kj(){this.b=null,this.a=[]}var Zm=null;function Wj(o){var u=Zm;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=yt("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function ey(o){var u="unauthorized-domain",f=void 0,p=tr(o);o=p.a,p=p.c,p=="chrome-extension"?f=UI("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=UI("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",k.call(this,u,f)}F(ey,k);function cl(o,u,f){k.call(this,o,f),o=u||{},o.Kb&&le(this,"email",o.Kb),o.ea&&le(this,"phoneNumber",o.ea),o.credential&&le(this,"credential",o.credential),o.$b&&le(this,"tenantId",o.$b)}F(cl,k),cl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&cn(o,u),o},cl.prototype.toJSON=function(){return this.w()};function Zh(o){if(o.code){var u=o.code||"";u.indexOf(ue)==0&&(u=u.substring(ue.length));var f={credential:Xm(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new k(u,o.message||void 0);return new cl(u,f,o.message)}return null}function ll(){}ll.prototype.c=null;function vC(o){return o.c||(o.c=o.b())}var ty;function ed(){}F(ed,ll),ed.prototype.a=function(){var o=gC(this);return o?new ActiveXObject(o):new XMLHttpRequest},ed.prototype.b=function(){var o={};return gC(this)&&(o[0]=!0,o[1]=!0),o};function gC(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}ty=new ed;function td(){}F(td,ll),td.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new mC;throw Error("Unsupported browser")},td.prototype.b=function(){return{}};function mC(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=P(this.qc,this),this.a.onerror=P(this.Tb,this),this.a.onprogress=P(this.rc,this),this.a.ontimeout=P(this.vc,this)}e=mC.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ny(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",ny(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,ny(this,1)};function ny(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function ry(o,u,f){this.reset(o,u,f,void 0,void 0)}ry.prototype.a=null,ry.prototype.reset=function(o,u,f,p,m){delete this.a};function iy(o){this.f=o,this.b=this.c=this.a=null}function fl(o,u){this.name=o,this.value=u}fl.prototype.toString=function(){return this.name};var yC=new fl("SEVERE",1e3),oy=new fl("WARNING",900),Gj=new fl("CONFIG",700),zj=new fl("FINE",500);function _C(o){return o.c?o.c:o.a?_C(o.a):(Xn("Root logger has no level set."),null)}iy.prototype.log=function(o,u,f){if(o.value>=_C(this).value)for(b(u)&&(u=u()),o=new ry(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var sy={},nd=null;function ay(o){nd||(nd=new iy(""),sy[""]=nd,nd.c=Gj);var u;if(!(u=sy[o])){u=new iy(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=ay(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,sy[o]=u}return u}function Pr(o,u){o&&o.log(zj,u,void 0)}function rd(o){this.f=o}F(rd,ll),rd.prototype.a=function(){return new id(this.f)},rd.prototype.b=function(o){return function(){return o}}({});function id(o){Ln.call(this),this.u=o,this.h=void 0,this.readyState=uy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ay("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}F(id,Ln);var uy=0;e=id.prototype,e.open=function(o,u){if(this.readyState!=uy)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,dl(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,hl(this)),this.readyState=uy},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,dl(this)),this.a&&(this.readyState=3,dl(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,wC(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function wC(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?hl(this):dl(this),this.readyState==3&&wC(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,hl(this))},e.sc=function(o){this.a&&(this.response=o,hl(this))},e.Va=function(o){var u=this.i;u&&u.log(oy,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&hl(this)};function hl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,dl(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(oy,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(oy,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function dl(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(id.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function pl(o){Ln.call(this),this.headers=new Ga,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=bC,this.u=this.S=!1}F(pl,Ln);var bC="";pl.prototype.b=ay("goog.net.XhrIo");var Qj=/^https?$/i,Yj=["POST","PUT"];function Xj(o,u,f,p,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():ty.a(),o.C=o.D?vC(o.D):vC(ty),o.a.onreadystatechange=P(o.Wb,o);try{Pr(o.b,zi(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(E){Pr(o.b,zi(o,"Error opening Xhr: "+E.message)),EC(o,E);return}u=p||"";var w=new Ga(o.headers);m&&rj(m,function(E,S){w.set(S,E)}),m=N(w.Y()),p=l.FormData&&u instanceof l.FormData,!M(Yj,f)||m||p||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(E,S){this.a.setRequestHeader(S,E)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{SC(o),0<o.g&&(o.u=Jj(o.a),Pr(o.b,zi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=P(o.Ma,o)):o.s=bm(o.Ma,o.g,o)),Pr(o.b,zi(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(E){Pr(o.b,zi(o,"Send error: "+E.message)),EC(o,E)}}function Jj(o){return Gr&&qI(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function Zj(o){return o.toLowerCase()=="content-type"}e=pl.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Pr(this.b,zi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function EC(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,TC(o),od(o)}function TC(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Pr(this.b,zi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),od(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),od(this,!0)),pl.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?IC(this):this.Jc())},e.Jc=function(){IC(this)};function IC(o){if(o.c&&typeof c<"u"){if(o.C[1]&&vl(o)==4&&sd(o)==2)Pr(o.b,zi(o,"Local request error detected and ignored"));else if(o.i&&vl(o)==4)bm(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),vl(o)==4){Pr(o.b,zi(o,"Request complete")),o.c=!1;try{var u=sd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var m;if(m=u===0){var w=String(o.l).match(mS)[1]||null;if(!w&&l.self&&l.self.location){var E=l.self.location.protocol;w=E.substr(0,E.length-1)}m=!Qj.test(w?w.toLowerCase():"")}p=m}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var S=2<vl(o)?o.a.statusText:""}catch(U){Pr(o.b,"Can not get status: "+U.message),S=""}o.h=S+" ["+sd(o)+"]",TC(o)}}finally{od(o)}}}}function od(o,u){if(o.a){SC(o);var f=o.a,p=o.C[0]?g:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(m){(o=o.b)&&o.log(yC,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function SC(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function vl(o){return o.a?o.a.readyState:0}function sd(o){try{return 2<vl(o)?o.a.status:-1}catch{return-1}}function eV(o){try{return o.a?o.a.responseText:""}catch(u){return Pr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case bC:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(yC,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Pr(this.b,"Can not get response: "+u.message),null}};function zi(o,u){return u+" ["+o.P+" "+o.l+" "+sd(o)+"]"}function ks(o){var u=rV;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ks.prototype.cancel=function(o){if(this.a)this.c instanceof ks&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new ml,ad(this),gl(this,!1,o))}},ks.prototype.m=function(o,u){this.i=!1,gl(this,o,u)};function gl(o,u,f){o.a=!0,o.c=f,o.f=!u,AC(o)}function ad(o){if(o.a){if(!o.v)throw new ud;o.v=!1}}function tV(o,u){cy(o,null,u,void 0)}function cy(o,u,f,p){o.g.push([u,f,p]),o.a&&AC(o)}ks.prototype.then=function(o,u,f){var p,m,w=new Ue(function(E,S){p=E,m=S});return cy(this,p,function(E){E instanceof ml?w.cancel():m(E)}),w.then(o,u,f)},ks.prototype.$goog_Thenable=!0;function CC(o){return I(o.g,function(u){return b(u[1])})}function AC(o){if(o.h&&o.a&&CC(o)){var u=o.h,f=cd[u];f&&(l.clearTimeout(f.a),delete cd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),w=m[0],E=m[1];if(m=m[2],w=o.f?E:w)try{var S=w.call(m||o.s,u);S!==void 0&&(o.f=o.f&&(S==u||S instanceof Error),o.c=u=S),(nt(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(U){u=U,o.f=!0,CC(o)||(f=!0)}}o.c=u,p&&(S=P(o.m,o,!0),p=P(o.m,o,!1),u instanceof ks?(cy(u,S,p),u.C=!0):u.then(S,p)),f&&(u=new kC(u),cd[u.a]=u,o.h=u.a)}function ud(){Ce.call(this)}F(ud,Ce),ud.prototype.message="Deferred has already fired",ud.prototype.name="AlreadyCalledError";function ml(){Ce.call(this)}F(ml,Ce),ml.prototype.message="Deferred was canceled",ml.prototype.name="CanceledError";function kC(o){this.a=l.setTimeout(P(this.c,this),0),this.b=o}kC.prototype.c=function(){throw delete cd[this.a],this.b};var cd={};function ly(o){var u={},f=u.document||document,p=NI(o).toString(),m=Dh(document,"SCRIPT"),w={Xb:m,Ma:void 0},E=new ks(w),S=null,U=u.timeout!=null?u.timeout:5e3;return 0<U&&(S=window.setTimeout(function(){ld(m,!0);var q=new fy(oV,"Timeout reached for loading script "+p);ad(E),gl(E,!1,q)},U),w.Ma=S),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(ld(m,u.xd||!1,S),ad(E),gl(E,!0,null))},m.onerror=function(){ld(m,!0,S);var q=new fy(iV,"Error while loading script "+p);ad(E),gl(E,!1,q)},w=u.attributes||{},cn(w,{type:"text/javascript",charset:"UTF-8"}),HI(m,w),DU(m,o),nV(f).appendChild(m),E}function nV(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function rV(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&ld(o,!0,this.Ma)}}function ld(o,u,f){f!=null&&l.clearTimeout(f),o.onload=g,o.onerror=g,o.onreadystatechange=g,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var iV=0,oV=1;function fy(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),Ce.call(this,f),this.code=o}F(fy,Ce);function fd(o){this.f=o}F(fd,ll),fd.prototype.a=function(){return new this.f},fd.prototype.b=function(){return{}};function Yr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||sV,this.g=St(o.secureTokenHeaders||aV),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||uV,this.a=St(o.firebaseHeaders||cV),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=mi()=="Node",f=l.XMLHttpRequest||f&&re.INTERNAL.node&&re.INTERNAL.node.XMLHttpRequest,!f&&!zr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,zr()?this.f=new rd(self):RS()?this.f=new fd(f):this.f=new td,this.b=null}var hy,Xr="idToken",sV=new Io(3e4,6e4),aV={"Content-Type":"application/x-www-form-urlencoded"},uV=new Io(3e4,6e4),cV={"Content-Type":"application/json"};function RC(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function hd(o,u){u&&(o.l=dy("https://securetoken.googleapis.com/v1/token",u),o.h=dy("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=dy("https://identitytoolkit.googleapis.com/v2/",u))}function dy(o,u){return o=tr(o),u=tr(u.url),o.f=o.a+o.f,Yc(o,u.c),o.a=u.a,Xc(o,u.g),o.toString()}function NC(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Yr.prototype.T=function(){return this.b};function xC(o,u,f,p,m,w,E){dj()||zr()?o=P(o.u,o):(hy||(hy=new Ue(function(S,U){fV(S,U)})),o=P(o.s,o)),o(u,f,p,m,w,E)}Yr.prototype.u=function(o,u,f,p,m,w){if(zr()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new pl(this.f);if(w){E.g=Math.max(0,w);var S=setTimeout(function(){E.dispatchEvent("timeout")},w)}pS(E,"complete",function(){S&&clearTimeout(S);var U=null;try{U=JSON.parse(eV(this))||null}catch{U=null}u&&u(U)}),wm(E,"ready",function(){S&&clearTimeout(S),aS(this)}),wm(E,"timeout",function(){S&&clearTimeout(S),aS(this),u&&u(null)}),Xj(E,o,f,p,m)};var lV=new vi(Nh,"https://apis.google.com/js/client.js?onload=%{onload}"),OC="__fcb"+Math.floor(1e6*Math.random()).toString();function fV(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[OC]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=nm(lV,{onload:OC});tV(ly(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Yr.prototype.s=function(o,u,f,p,m){var w=this;hy.then(function(){window.gapi.client.setApiKey(w.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:m,authType:"none",callback:function(S){window.gapi.auth.setToken(E),u&&u(S)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function hV(o,u){return new Ue(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?xC(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?p(by(m)):m.access_token&&m.refresh_token?f(m):p(new k("internal-error")):p(new k("network-request-failed"))},"POST",_S(u).toString(),o.g,o.m.get()):p(new k("internal-error"))})}function PC(o,u,f,p,m,w,E){var S=tr(u+f);Nt(S,"key",o.c),E&&Nt(S,"cb",Date.now().toString());var U=p=="GET";if(U)for(var q in m)m.hasOwnProperty(q)&&Nt(S,q,m[q]);return new Ue(function(Te,rt){xC(o,S.toString(),function(ze){ze?ze.error?rt(by(ze,w||{})):Te(ze):rt(new k("network-request-failed"))},p,U?void 0:ES(OS(m)),o.a,o.v.get())})}function Rs(o){if(o=o.email,typeof o!="string"||!gj.test(o))throw new k("invalid-email")}function DC(o){"email"in o&&Rs(o)}function dV(o,u){return je(o,TV,{identifier:u,continueUri:Hh()?el():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function pV(o){return je(o,MV,{}).then(function(u){return u.authorizedDomains||[]})}function nr(o){if(!o[Xr])throw o.mfaPendingCredential?new k("multi-factor-auth-required",null,St(o)):new k("internal-error")}function py(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new k("internal-error")}else{if(!o.sessionInfo)throw new k("missing-verification-id");if(!o.code)throw new k("missing-verification-code")}}Yr.prototype.Ab=function(){return je(this,jV,{})},Yr.prototype.Cb=function(o,u){return je(this,FC,{idToken:o,email:u})},Yr.prototype.Db=function(o,u){return je(this,UC,{idToken:o,password:u})};var vV={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Yr.prototype,e.Eb=function(o,u){var f={idToken:o},p=[];return wo(vV,function(m,w){var E=u[w];E===null?p.push(m):w in u&&(f[w]=E)}),p.length&&(f.deleteAttribute=p),je(this,FC,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},cn(o,u),je(this,DV,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},cn(o,u),je(this,xV,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},cn(o,u),je(this,OV,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},cn(o,f),je(this,PV,o)};function gV(o,u){return je(o,UV,u)}e.gb=function(o){return je(this,WV,o)};function mV(o,u){return je(o,VV,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function MC(o){if(!o.phoneVerificationInfo)throw new k("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new k("missing-verification-code")}function yV(o,u){return je(o,BV,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function _V(o,u,f){return je(o,SV,{idToken:u,deleteProvider:f})}function vy(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new k("internal-error")}function gy(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new _s(o.postBody),Im(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function LC(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Zh(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Zh(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Zh(o)):o.errorMessage&&(u=VC(o.errorMessage)),u)throw u;nr(o)}function my(o,u){return u.returnIdpCredential=!0,je(o,qV,u)}function yy(o,u){return u.returnIdpCredential=!0,je(o,HV,u)}function _y(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,je(o,$V,u)}function wy(o){if(!o.oobCode)throw new k("invalid-action-code")}e.ob=function(o,u){return je(this,FV,{oobCode:o,newPassword:u})},e.Sa=function(o){return je(this,bV,{oobCode:o})},e.kb=function(o){return je(this,wV,{oobCode:o})};var wV={endpoint:"setAccountInfo",A:wy,Z:"email",B:!0},bV={endpoint:"resetPassword",A:wy,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},EV={endpoint:"signupNewUser",A:function(o){if(Rs(o),!o.password)throw new k("weak-password")},G:nr,V:!0,B:!0},TV={endpoint:"createAuthUri",B:!0},IV={endpoint:"deleteAccount",O:["idToken"]},SV={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new k("internal-error")}},CV={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Rs,G:nr,V:!0,B:!0},AV={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Rs,G:nr,V:!0},kV={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:MC,G:nr,B:!0,Na:!0},RV={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:MC,G:nr,B:!0,Na:!0},NV={endpoint:"getAccountInfo"},xV={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new k("internal-error");Rs(o)},Z:"email",B:!0},OV={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},PV={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},DV={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new k("internal-error");Rs(o)},Z:"email",B:!0},MV={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},LV={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new k("internal-error")}},FV={endpoint:"resetPassword",A:wy,Z:"email",B:!0},UV={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},FC={endpoint:"setAccountInfo",O:["idToken"],A:DC,V:!0},UC={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(DC(o),!o.password)throw new k("weak-password")},G:nr,V:!0},jV={endpoint:"signupNewUser",G:nr,V:!0,B:!0},VV={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new k("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},BV={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},qV={endpoint:"verifyAssertion",A:vy,Za:gy,G:LC,V:!0,B:!0},$V={endpoint:"verifyAssertion",A:vy,Za:gy,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(o.errorMessage)throw VC(o.errorMessage);nr(o)},V:!0,B:!0},HV={endpoint:"verifyAssertion",A:function(o){if(vy(o),!o.idToken)throw new k("internal-error")},Za:gy,G:LC,V:!0},KV={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new k("invalid-custom-token")},G:nr,V:!0,B:!0},jC={endpoint:"verifyPassword",A:function(o){if(Rs(o),!o.password)throw new k("wrong-password")},G:nr,V:!0,B:!0},WV={endpoint:"verifyPhoneNumber",A:py,G:nr,B:!0},GV={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new k("internal-error");py(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Zh(o);nr(o)}},zV={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:py,G:nr,B:!0},QV={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Xr]^!!o.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function je(o,u,f){if(!Tj(f,u.O))return mt(new k("internal-error"));var p=!!u.Na,m=u.Vb||"POST",w;return me(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?PC(o,o.i,u.endpoint,m,f,u.Ib,u.mb||!1):PC(o,o.h,u.endpoint,m,f,u.Ib,u.mb||!1)}).then(function(E){return w=E,u.Za?u.Za(f,w):w}).then(u.G).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new k("internal-error");return w[u.Z]})}function VC(o){return by({error:{errors:[{message:o}],code:400,message:o}})}function by(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new k(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},cn(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in p)if(f.indexOf(m)===0)return new k(p[m],u);return!u&&o&&(u=nl(o)),new k("internal-error",u)}function YV(o){this.b=o,this.a=null,this.sb=XV(this)}function XV(o){return r4().then(function(){return new Ue(function(u,f){yt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:yt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(w),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){f(Error("Network Error"))},n4.get());p.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function JV(o,u){return o.sb.then(function(){return new Ue(function(f){o.a.send(u.type,u,f,yt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function ZV(o,u){o.sb.then(function(){o.a.register("authEvent",u,yt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var e4=new vi(Nh,"https://apis.google.com/js/api.js?onload=%{onload}"),t4=new Io(3e4,6e4),n4=new Io(5e3,15e3),dd=null;function r4(){return dd||(dd=new Ue(function(o,u){function f(){DS(),yt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){DS(),u(Error("Network Error"))},timeout:t4.get()})}if(yt("gapi.iframes.Iframe"))o();else if(yt("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){yt("gapi.load")?f():u(Error("Network Error"))},p=nm(e4,{onload:p}),me(ly(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw dd=null,o}))}function BC(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=tr(this.g.url),o=qh(o.c,o.a,o.g,"/emulator/auth/iframe")):o=qh("https",this.l,null,"/__/auth/iframe"),this.a=o,Nt(this.a,"apiKey",this.h),Nt(this.a,"appName",this.i),this.b=null,this.c=[]}BC.prototype.toString=function(){return this.f?Nt(this.a,"v",this.f):gi(this.a.b,"v"),this.b?Nt(this.a,"eid",this.b):gi(this.a.b,"eid"),this.c.length?Nt(this.a,"fw",this.c.join(",")):gi(this.a.b,"fw"),this.a.toString()};function Ey(o,u,f,p,m,w){this.u=o,this.s=u,this.c=f,this.m=p,this.v=w,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}Ey.prototype.zb=function(o){return this.h=o,this},Ey.prototype.toString=function(){if(this.v){var o=tr(this.v.url);o=qh(o.c,o.a,o.g,"/emulator/auth/handler")}else o=qh("https",this.u,null,"/__/auth/handler");if(Nt(o,"apiKey",this.s),Nt(o,"appName",this.c),Nt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=re.app(this.c).auth().la()}catch{f=null}u.pb=f,Nt(o,"providerId",this.a.providerId),f=this.a,u=OS(f.Jb);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=St(u);for(var m=0;m<p.length;m++){var w=p[m];w in u&&delete u[w]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),pi(u)||Nt(o,"customParameters",nl(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&Nt(o,"scopes",f.join(","))),this.l?Nt(o,"redirectUrl",this.l):gi(o.b,"redirectUrl"),this.g?Nt(o,"eventId",this.g):gi(o.b,"eventId"),this.i?Nt(o,"v",this.i):gi(o.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!xr(o,E)&&Nt(o,E,this.b[E]);return this.h?Nt(o,"tid",this.h):gi(o.b,"tid"),this.f?Nt(o,"eid",this.f):gi(o.b,"eid"),E=Ty(this.c),E.length&&Nt(o,"fw",E.join(",")),o.toString()};function Ty(o){try{return re.app(o).auth().Ga()}catch{return[]}}function qC(o,u,f,p,m,w){this.s=o,this.g=u,this.b=f,this.f=w,this.c=p||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function $C(o){var u=el();return pV(o).then(function(f){e:{var p=tr(u),m=p.c;p=p.a;for(var w=0;w<f.length;w++){var E=f[w],S=p,U=m;if(E.indexOf("chrome-extension://")==0?S=tr(E).a==S&&U=="chrome-extension":U!="http"&&U!="https"?S=!1:vj.test(E)?S=S==E:(E=E.split(".").join("\\."),S=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(S)),S){f=!0;break e}}f=!1}if(!f)throw new ey(el())})}function HC(o){return o.m||(o.m=$h().then(function(){if(!o.u){var u=o.c,f=o.i,p=Ty(o.b),m=new BC(o.s,o.g,o.b,o.f);m.f=u,m.b=f,m.c=J(p||[]),o.u=m.toString()}o.v=new YV(o.u),i4(o)})),o.m}e=qC.prototype,e.Pb=function(o,u,f){var p=new k("popup-closed-by-user"),m=new k("web-storage-unsupported"),w=this,E=!1;return this.ma().then(function(){o4(w).then(function(S){S||(o&&ws(o),u(m),E=!0)})}).o(function(){}).then(function(){if(!E)return pj(o)}).then(function(){if(!E)return Wa(f).then(function(){u(p)})})},e.Yb=function(){var o=ln();return!tl(o)&&!PS(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,p,m,w,E,S){if(!o)return mt(new k("popup-blocked"));if(E&&!tl())return this.ma().o(function(q){ws(o),m(q)}),p(),me();this.a||(this.a=$C(KC(this)));var U=this;return this.a.then(function(){var q=U.ma().o(function(Te){throw ws(o),m(Te),Te});return p(),q}).then(function(){if(Jm(f),!E){var q=yl(U.s,U.g,U.b,u,f,null,w,U.c,void 0,U.i,S,U.f);SS(q,o)}}).o(function(q){throw q.code=="auth/network-request-failed"&&(U.a=null),q})};function KC(o){return o.l||(o.C=o.c?Ya(o.c,Ty(o.b)):null,o.l=new Yr(o.g,Yn(o.i),o.C),o.f&&hd(o.l,o.f)),o.l}e.Ob=function(o,u,f,p){this.a||(this.a=$C(KC(this)));var m=this;return this.a.then(function(){Jm(u);var w=yl(m.s,m.g,m.b,o,u,el(),f,m.c,void 0,m.i,p,m.f);SS(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(m.a=null),w})},e.ma=function(){var o=this;return HC(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function yl(o,u,f,p,m,w,E,S,U,q,Te,rt){return o=new Ey(o,u,f,p,m,rt),o.l=w,o.g=E,o.i=S,o.b=St(U||null),o.f=q,o.zb(Te).toString()}function i4(o){if(!o.v)throw Error("IfcHandler must be initialized!");ZV(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=pC(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",me(f)}return f.status="ERROR",me(f)})}function o4(o){var u={type:"webStorageSupport"};return HC(o).then(function(){return JV(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){V(this.h,function(u){return u==o})};function WC(o){if(this.a=o||re.INTERNAL.reactNative&&re.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=WC.prototype,e.get=function(o){return me(this.a.getItem(o)).then(function(u){return u&&Ja(u)})},e.set=function(o,u){return me(this.a.setItem(o,nl(u)))},e.U=function(o){return me(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function GC(o){this.b=o,this.a={},this.f=P(this.c,this)}var zC=[];function s4(){var o=zr()?self:null;if(Z(zC,function(f){f.b==o&&(u=f)}),!u){var u=new GC(o);zC.push(u)}return u}GC.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];Z(p,function(w){m.push(me().then(function(){return w(o.origin,o.data.data)}))}),JI(m).then(function(w){var E=[];Z(w,function(S){E.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),Z(E,function(S){for(var U in S)typeof S[U]>"u"&&delete S[U]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:E})})}};function QC(o,u,f){pi(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function YC(o){this.a=o}YC.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function XC(o){this.c=o,this.b=!1,this.a=[]}function JC(o,u,f,p){var m,w=f||{},E,S,U,q=null;if(o.b)return mt(Error("connection_unavailable"));var Te=p?800:50,rt=typeof MessageChannel<"u"?new MessageChannel:null;return new Ue(function(ze,Yt){rt?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),rt.port1.start(),S=setTimeout(function(){Yt(Error("unsupported_event"))},Te),E=function(Qi){Qi.data.eventId===m&&(Qi.data.status==="ack"?(clearTimeout(S),U=setTimeout(function(){Yt(Error("timeout"))},3e3)):Qi.data.status==="done"?(clearTimeout(U),typeof Qi.data.response<"u"?ze(Qi.data.response):Yt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(U),Yt(Error("invalid_response"))))},q={messageChannel:rt,onMessage:E},o.a.push(q),rt.port1.addEventListener("message",E),o.c.postMessage({eventType:u,eventId:m,data:w},[rt.port2])):Yt(Error("connection_unavailable"))}).then(function(ze){return Iy(o,q),ze}).o(function(ze){throw Iy(o,q),ze})}function Iy(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),V(o.a,function(m){return m==u})}}XC.prototype.close=function(){for(;0<this.a.length;)Iy(this,this.a[0]);this.b=!0};function ZC(){if(!Ay())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;zr()&&self?(this.v=s4(),QC(this.v,"keyChanged",function(u,f){return nA(o).then(function(p){return 0<p.length&&Z(o.a,function(m){m(p)}),{keyProcessed:M(p,f.key)}})}),QC(this.v,"ping",function(){return me(["keyChanged"])})):bj().then(function(u){(o.h=u)&&(o.g=new XC(new YC(u)),JC(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&M(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Sy;function a4(o){return new Ue(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(m){f(Error(m.target.error))}})}function eA(o){return new Ue(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){f(w)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):a4(o).then(function(){return eA(o)}).then(function(w){u(w)}).o(function(w){f(w)})}})}function Cy(o){return o.i||(o.i=eA(o)),o.i}function pd(o,u){function f(m,w){Cy(o).then(u).then(m).o(function(E){if(3<++p)w(E);else return Cy(o).then(function(S){return S.close(),o.i=void 0,f(m,w)}).o(function(S){w(S)})})}var p=0;return new Ue(f)}function Ay(){try{return!!l.indexedDB}catch{return!1}}function _l(o){return o.objectStore("firebaseLocalStorage")}function wl(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function nu(o){return new Ue(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}e=ZC.prototype,e.set=function(o,u){var f=this,p=!1;return pd(this,function(m){return m=_l(wl(m,!0)),nu(m.get(o))}).then(function(m){return pd(f,function(w){if(w=_l(wl(w,!0)),m)return m.value=u,nu(w.put(m));f.b++,p=!0;var E={};return E.fbase_key=o,E.value=u,nu(w.add(E))})}).then(function(){return f.c[o]=u,tA(f,o)}).oa(function(){p&&f.b--})};function tA(o,u){return o.g&&o.h&&wj()===o.h?JC(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):me()}e.get=function(o){return pd(this,function(u){return nu(_l(wl(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return pd(this,function(p){return f=!0,u.b++,nu(_l(wl(p,!0)).delete(o))}).then(function(){return delete u.c[o],tA(u,o)}).oa(function(){f&&u.b--})};function nA(o){return Cy(o).then(function(u){var f=_l(wl(u,!1));return f.getAll?nu(f.getAll()):new Ue(function(p,m){var w=[],E=f.openCursor();E.onsuccess=function(S){(S=S.target.result)?(w.push(S.value),S.continue()):p(w)},E.onerror=function(S){m(S.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=CS(o.c,f),o.c=f}return p})}e.ca=function(o){this.a.length==0&&u4(this),this.a.push(o)},e.ia=function(o){V(this.a,function(u){return u==o}),this.a.length==0&&rA(this)};function u4(o){function u(){o.f=setTimeout(function(){o.l=nA(o).then(function(f){0<f.length&&Z(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}rA(o),u()}function rA(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function iA(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=me().then(function(){if(Ay()){var p=Es(),m="__sak"+p;return Sy||(Sy=new ZC),f=Sy,f.set(m,p).then(function(){return f.get(m)}).then(function(w){if(w!==p)throw Error("indexedDB not supported!");return f.U(m)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(m){Z(u.a,function(w){w(m)})}),p})}e=iA.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){V(this.a,function(u){return u==o})};function bl(){this.a={},this.type="inMemory"}e=bl.prototype,e.get=function(o){return me(this.a[o])},e.set=function(o,u){return this.a[o]=u,me()},e.U=function(o){return delete this.a[o],me()},e.ca=function(){},e.ia=function(){};function vd(){if(!c4())throw mi()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=oA()||re.INTERNAL.node.localStorage,this.type="localStorage"}function oA(){try{var o=l.localStorage,u=Es();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function c4(){var o=mi()=="Node";if(o=oA()||o&&re.INTERNAL.node&&re.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=vd.prototype,e.get=function(o){var u=this;return me().then(function(){var f=u.a.getItem(o);return Ja(f)})},e.set=function(o,u){var f=this;return me().then(function(){var p=nl(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return me().then(function(){u.a.removeItem(o)})},e.ca=function(o){l.window&&Nr(l.window,"storage",o)},e.ia=function(o){l.window&&vr(l.window,"storage",o)};function ky(){this.type="nullStorage"}e=ky.prototype,e.get=function(){return me(null)},e.set=function(){return me()},e.U=function(){return me()},e.ca=function(){},e.ia=function(){};function Ry(){if(!l4())throw mi()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=sA()||re.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function sA(){try{var o=l.sessionStorage,u=Es();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function l4(){var o=mi()=="Node";if(o=sA()||o&&re.INTERNAL.node&&re.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Ry.prototype,e.get=function(o){var u=this;return me().then(function(){var f=u.a.getItem(o);return Ja(f)})},e.set=function(o,u){var f=this;return me().then(function(){var p=nl(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return me().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function f4(){var o={};o.Browser=h4,o.Node=d4,o.ReactNative=p4,o.Worker=v4,this.a=o[mi()]}var Ny,h4={F:vd,cb:Ry},d4={F:vd,cb:Ry},p4={F:WC,cb:ky},v4={F:vd,cb:ky},ru={rd:"local",NONE:"none",td:"session"};function g4(o){var u=new k("invalid-persistence-type"),f=new k("unsupported-persistence-type");e:{for(p in ru)if(ru[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(mi()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!Ay()&&o!=="none")throw f;break;default:if(!Nm()&&o!=="none")throw f}}function aA(){var o=!!(!PS(ln())&&km()),u=tl(),f=Nm();this.m=o,this.h=u,this.l=f,this.a={},Ny||(Ny=new f4),o=Ny;try{this.g=!Cm()&&MS()||!l.indexedDB?new o.a.F:new iA(zr()?new bl:new o.a.F)}catch{this.g=new bl,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new bl}this.v=new bl,this.f=P(this.Zb,this),this.b={}}var xy;function El(){return xy||(xy=new aA),xy}function Ns(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function iu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function m4(o,u,f){var p=iu(u,f),m=Ns(o,u.F);return o.get(u,f).then(function(w){var E=null;try{E=Ja(l.localStorage.getItem(p))}catch{}if(E&&!w)return l.localStorage.removeItem(p),o.set(u,E,f);E&&w&&m.type!="localStorage"&&l.localStorage.removeItem(p)})}e=aA.prototype,e.get=function(o,u){return Ns(this,o.F).get(iu(o,u))};function ou(o,u,f){return f=iu(u,f),u.F=="local"&&(o.b[f]=null),Ns(o,u.F).U(f)}e.set=function(o,u,f){var p=iu(o,f),m=this,w=Ns(this,o.F);return w.set(p,u).then(function(){return w.get(p)}).then(function(E){o.F=="local"&&(m.b[p]=E)})},e.addListener=function(o,u,f){o=iu(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),pi(this.a)&&(Ns(this,"local").ca(this.f),this.h||(Cm()||!MS())&&l.indexedDB||!this.l||y4(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=iu(o,u),this.a[o]&&(V(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),pi(this.a)&&(Ns(this,"local").ia(this.f),Oy(this))};function y4(o){Oy(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new ms({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Zb(f))}},1e3)}function Oy(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var m=l.localStorage.getItem(f);m!==p&&(this.b[f]=m,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ns(this,"local").ia(this.f):Oy(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var w=this;f=function(){(typeof o.a.a<"u"||w.b[u]!==l.localStorage.getItem(u))&&(w.b[u]=l.localStorage.getItem(u),w.nb(u))},Gr&&bo&&bo==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Z(o,P(this.nb,this))},e.nb=function(o){this.a[o]&&Z(this.a[o],function(u){u()})};function _4(o){this.a=o,this.b=El()}var Py={name:"authEvent",F:"local"};function w4(o){return o.b.get(Py,o.a).then(function(u){return pC(u)})}function b4(){this.a=El()}function E4(){this.b=-1}function gd(o,u){this.b=uA,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),md===void 0&&(l.Int32Array?md=new Int32Array(fA):md=fA),this.reset()}var md;F(gd,E4);for(var uA=64,T4=uA-1,cA=[],Dy=0;Dy<T4;Dy++)cA[Dy]=0;var lA=Q(128,cA);gd.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):J(this.h)};function My(o){for(var u=o.f,f=o.l,p=0,m=0;m<u.length;)f[p++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*p;for(u=16;64>u;u++){m=f[u-15]|0,p=f[u-2]|0;var w=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,E=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=w+E|0}p=o.a[0]|0,m=o.a[1]|0;var S=o.a[2]|0,U=o.a[3]|0,q=o.a[4]|0,Te=o.a[5]|0,rt=o.a[6]|0;for(w=o.a[7]|0,u=0;64>u;u++){var ze=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&S^m&S)|0;E=q&Te^~q&rt,w=w+((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))|0,E=E+(md[u]|0)|0,E=w+(E+(f[u]|0)|0)|0,w=rt,rt=Te,Te=q,q=U+E|0,U=S,S=m,m=p,p=E+ze|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+S|0,o.a[3]=o.a[3]+U|0,o.a[4]=o.a[4]+q|0,o.a[5]=o.a[5]+Te|0,o.a[6]=o.a[6]+rt|0,o.a[7]=o.a[7]+w|0}function Ly(o,u,f){f===void 0&&(f=u.length);var p=0,m=o.c;if(typeof u=="string")for(;p<f;)o.f[m++]=u.charCodeAt(p++),m==o.b&&(My(o),m=0);else if(_(u))for(;p<f;){var w=u[p++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");o.f[m++]=w,m==o.b&&(My(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var fA=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hA(){gd.call(this,8,I4)}F(hA,gd);var I4=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function dA(o,u,f,p,m,w){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=m||null,this.s=w,this.h=u+":"+f,this.C=new b4,this.g=new _4(this.h),this.f=null,this.b=[],this.a=this.c=null}function yd(o){return new k("invalid-cordova-configuration",o)}e=dA.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=mj().then(function(){if(typeof yt("universalLinks.subscribe",l)!="function")throw yd("cordova-universal-links-plugin-fix is not installed");if(typeof yt("BuildInfo.packageName",l)>"u")throw yd("cordova-plugin-buildinfo is not installed");if(typeof yt("cordova.plugins.browsertab.openUrl",l)!="function")throw yd("cordova-plugin-browsertab is not installed");if(typeof yt("cordova.InAppBrowser.open",l)!="function")throw yd("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function S4(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function C4(o){var u=new hA;Ly(u,o),o=[];var f=8*u.g;56>u.c?Ly(u,lA,56-u.c):Ly(u,lA,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(My(u),p=f=0;p<u.i;p++)for(var m=24;0<=m;m-=8)o[f++]=u.a[p]>>m&255;return Fj(o)}e.Pb=function(o,u){return u(new k("operation-not-supported-in-this-environment")),me()},e.Nb=function(){return mt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,p){if(this.c)return mt(new k("redirect-operation-pending"));var m=this,w=l.document,E=null,S=null,U=null,q=null;return this.c=me().then(function(){return Jm(u),vA(m)}).then(function(){return A4(m,o,u,f,p)}).then(function(){return new Ue(function(Te,rt){S=function(){var ze=yt("cordova.plugins.browsertab.close",l);return Te(),typeof ze=="function"&&ze(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(S),U=function(){E||(E=Wa(2e3).then(function(){rt(new k("redirect-cancelled-by-user"))}))},q=function(){xm()&&U()},w.addEventListener("resume",U,!1),ln().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",q,!1)}).o(function(Te){return Fy(m).then(function(){throw Te})})}).oa(function(){U&&w.removeEventListener("resume",U,!1),q&&w.removeEventListener("visibilitychange",q,!1),E&&E.cancel(),S&&m.Ta(S),m.c=null})};function A4(o,u,f,p,m){var w=S4(),E=new Qr(u,p,null,w,new k("no-auth-event"),null,m),S=yt("BuildInfo.packageName",l);if(typeof S!="string")throw new k("invalid-cordova-configuration");var U=yt("BuildInfo.displayName",l),q={};if(ln().toLowerCase().match(/iphone|ipad|ipod/))q.ibi=S;else if(ln().toLowerCase().match(/android/))q.apn=S;else return mt(new k("operation-not-supported-in-this-environment"));U&&(q.appDisplayName=U),w=C4(w),q.sessionId=w;var Te=yl(o.v,o.i,o.l,u,f,null,p,o.m,q,o.u,m,o.s);return o.ma().then(function(){var rt=o.h;return o.C.a.set(Py,E.w(),rt)}).then(function(){var rt=yt("cordova.plugins.browsertab.isAvailable",l);if(typeof rt!="function")throw new k("invalid-cordova-configuration");var ze=null;rt(function(Yt){if(Yt){if(ze=yt("cordova.plugins.browsertab.openUrl",l),typeof ze!="function")throw new k("invalid-cordova-configuration");ze(Te)}else{if(ze=yt("cordova.InAppBrowser.open",l),typeof ze!="function")throw new k("invalid-cordova-configuration");Yt=ln(),o.a=ze(Te,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function pA(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function vA(o){return o.f||(o.f=o.ma().then(function(){return new Ue(function(u){function f(p){return u(p),o.Ta(f),!1}o.Ea(f),k4(o)})})),o.f}function Fy(o){var u=null;return w4(o.g).then(function(f){return u=f,f=o.g,ou(f.b,Py,f.a)}).then(function(){return u})}function k4(o){function u(E){p=!0,m&&m.cancel(),Fy(o).then(function(S){var U=f;if(S&&E&&E.url){var q=null;U=sC(E.url),U.indexOf("/__/auth/callback")!=-1&&(q=tr(U),q=Ja(xr(q,"firebaseError")||null),q=(q=typeof q=="object"?dt(q):null)?new Qr(S.c,S.b,null,null,q,null,S.T()):new Qr(S.c,S.b,U,S.f,null,null,S.T())),U=q||f}pA(o,U)})}var f=new Qr("unknown",null,null,null,new k("no-auth-event")),p=!1,m=Wa(500).then(function(){return Fy(o).then(function(){p||pA(o,f)})}),w=l.handleOpenURL;l.handleOpenURL=function(E){if(E.toLowerCase().indexOf(yt("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:E}),typeof w=="function")try{w(E)}catch(S){console.error(S)}},Zm||(Zm=new Kj),Wj(u)}e.Ea=function(o){this.b.push(o),vA(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Qr("unknown",null,null,null,new k("no-auth-event")),o(u))})},e.Ta=function(o){V(this.b,function(u){return u==o})};function R4(o){this.a=o,this.b=El()}var Uy={name:"pendingRedirect",F:"session"};function N4(o){return o.b.set(Uy,"pending",o.a)}function jy(o){return ou(o.b,Uy,o.a)}function x4(o){return o.b.get(Uy,o.a).then(function(u){return u=="pending"})}function _d(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=P(this.s,this),this.b=new bd,this.C=new SA,this.g=new R4(EA(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=gA(this.D,this.v,this.m,tt,this.J)}function gA(o,u,f,p,m){var w=re.SDK_VERSION||null;return Am()?new dA(o,u,f,w,p,m):new qC(o,u,f,w,p,m)}_d.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=gA(this.D,this.v,this.m,null,this.J),this.i={}};function mA(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function yA(o){o.a.Yb()&&mA(o).o(function(u){var f=new Qr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));By(u)&&o.s(f)}),o.a.Ub()||TA(o.b)}function wd(o,u){M(o.h,u)||o.h.push(u),o.f||x4(o.g).then(function(f){f?jy(o.g).then(function(){mA(o).o(function(p){var m=new Qr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));By(p)&&o.s(m)})}):yA(o)}).o(function(){yA(o)})}function Vy(o,u){V(o.h,function(f){return f==u})}_d.prototype.s=function(o){if(!o)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return TA(this.b),u};var O4=new Io(2e3,1e4),P4=new Io(3e4,6e4);_d.prototype.ra=function(){return this.b.ra()};function _A(o,u,f,p,m,w,E){return o.a.Nb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,w,E)}function By(o){return!!(o&&o.code=="auth/cordova-not-ready")}function wA(o,u,f,p,m){var w;return N4(o.g).then(function(){return o.a.Ob(u,f,p,m).o(function(E){if(By(E))throw new k("operation-not-supported-in-this-environment");return w=E,jy(o.g).then(function(){throw w})}).then(function(){return o.a.ac()?new Ue(function(){}):jy(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function bA(o,u,f,p,m){return o.a.Pb(p,function(w){u.na(f,null,w,m)},O4.get())}var qy={};function EA(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function $y(o,u,f,p){var m=EA(u,f,p);return qy[m]||(qy[m]=new _d(o,u,f,p)),qy[m]}function bd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}bd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},bd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",w=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!w),f!="unknown"||m||w?o.a?(xs(this,!0,null,o.a),me()):u.Fa(f,p)?D4(this,o,u):mt(new k("invalid-auth-event")):(xs(this,!1,null,null),me())}else mt(new k("invalid-auth-event"))};function TA(o){o.g||(o.g=!0,xs(o,!1,null,null))}function Ed(o){o.g&&!o.i&&xs(o,!1,null,null)}function D4(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,m=u.f,w=u.i,E=u.T(),S=!!u.c.match(/Redirect$/);f(p,m,E,w).then(function(U){xs(o,S,U,null)}).o(function(U){xs(o,S,null,U)})}function M4(o,u){if(o.b=function(){return mt(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function IA(o,u){if(o.b=function(){return me(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function xs(o,u,f,p){u?p?M4(o,p):IA(o,f):IA(o,{user:null}),o.f=[],o.c=[]}bd.prototype.ra=function(){var o=this;return new Ue(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),L4(o))})};function L4(o){var u=new k("timeout");o.a&&o.a.cancel(),o.a=Wa(P4.get()).then(function(){o.b||(o.g=!0,xs(o,!0,null,u))})}function SA(){}SA.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),me()):u.Fa(f,p)?F4(o,u):mt(new k("invalid-auth-event"))}else mt(new k("invalid-auth-event"))};function F4(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(m){u.na(p,m,null,f)}).o(function(m){u.na(p,null,m,f)})}function CA(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function Hy(o,u){this.a=u,le(this,"verificationId",o)}Hy.prototype.confirm=function(o){return o=dC(this.verificationId,o),this.a(o)};function Ky(o,u,f,p){return new Gi(o).gb(u,f).then(function(m){return new Hy(m,p)})}function U4(o){var u=JS(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fn(this,{token:o,expirationTime:rl(1e3*u.exp),authTime:rl(1e3*u.auth_time),issuedAtTime:rl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Wy(o,u,f){var p=u&&u[kA];if(!p)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=St(u),this.g=f,this.c=new Xh(null,p),this.b=[];var m=this;Z(u[AA]||[],function(w){(w=Fm(w))&&m.b.push(w)}),le(this,"auth",this.a),le(this,"session",this.c),le(this,"hints",this.b)}var AA="mfaInfo",kA="mfaPendingCredential";Wy.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var p=St(u.f);return delete p[AA],delete p[kA],cn(p,f),u.g(p)})};function Gy(o,u,f,p){k.call(this,"multi-factor-auth-required",p,u),this.b=new Wy(o,u,f),le(this,"resolver",this.b)}F(Gy,k);function RA(o,u,f){if(o&&T(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new Gy(u,o.serverResponse,f,o.message)}catch{}return null}function NA(){}NA.prototype.tb=function(o,u,f){return u.type==al?j4(this,o,u,f):V4(this,o,u)};function j4(o,u,f,p){return f.Ha().then(function(m){return m={idToken:m},typeof p<"u"&&(m.displayName=p),cn(m,{phoneVerificationInfo:ul(o.a)}),je(u,kV,m)})}function V4(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},cn(p,{phoneVerificationInfo:ul(o.a)}),je(u,RV,p)})}function zy(o){le(this,"factorId",o.fa),this.a=o}F(zy,NA);function xA(o){if(zy.call(this,o),this.a.fa!=Gi.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}F(xA,zy);function su(o,u){er.call(this,o);for(var f in u)this[f]=u[f]}F(su,er);function Qy(o,u){this.a=o,this.b=[],this.c=P(this.yc,this),Nr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Z(u.multiFactor.enrolledFactors,function(p){var m=null,w={};if(p){p.uid&&(w[jm]=p.uid),p.displayName&&(w[FS]=p.displayName),p.enrollmentTime&&(w[Um]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(w[Vm]=p.phoneNumber);try{m=new il(w)}catch{}p=m}else p=null;p&&f.push(p)}),Td(this,f)}function B4(o){var u=[];return Z(o.mfaInfo||[],function(f){(f=Fm(f))&&u.push(f)}),u}e=Qy.prototype,e.yc=function(o){Td(this,B4(o.hd))};function Td(o,u){o.b=u,le(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new Xh(o,null)})},e.fc=function(o,u){var f=this,p=this.a.a;return this.Sb().then(function(m){return o.tb(p,m,u)}).then(function(m){return wi(f.a,m),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(m){return je(p,QV,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var w=pt(u.b,function(E){return E.uid!=f});return Td(u,w),wi(u.a,m),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:Ae(this.b,function(o){return o.w()})}}};function Yy(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Yy.prototype.start=function(){this.a=this.c,Xy(this,!0)};function q4(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function Xy(o,u){o.stop(),o.b=Wa(q4(o,u)).then(function(){return _j()}).then(function(){return o.h()}).then(function(){Xy(o,!0)}).o(function(f){o.i(f)&&Xy(o,!1)})}Yy.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Jy(o){this.f=o,this.b=this.a=null,this.c=Date.now()}Jy.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function OA(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function PA(o,u){o.b=Qh(u[Xr]||""),o.a=u.refreshToken,u=u.expiresIn,OA(o,typeof u<"u"?Number(u):void 0)}function $4(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function H4(o,u){return hV(o.f,u).then(function(f){return o.b=Qh(f.access_token),o.a=f.refresh_token,OA(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}Jy.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?mt(new k("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?H4(this,{grant_type:"refresh_token",refresh_token:this.a}):me(null):me({accessToken:this.b.toString(),refreshToken:this.a})};function Id(o,u){this.a=o||null,this.b=u||null,Fn(this,{lastSignInTime:rl(u||null),creationTime:rl(o||null)})}function K4(o){return new Id(o.a,o.b)}Id.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function W4(o,u,f,p,m,w){Fn(this,{uid:o,displayName:p||null,photoURL:m||null,email:f||null,phoneNumber:w||null,providerId:u})}function mr(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=re.SDK_VERSION?Ya(re.SDK_VERSION):null;this.a=new Yr(this.l,Yn(tt),p),(this.u=o.emulatorConfig||null)&&hd(this.a,this.u),this.h=new Jy(this.a),o_(this,u[Xr]),PA(this.h,u),le(this,"refreshToken",this.h.a),MA(this,f||{}),Ln.call(this),this.P=!1,this.s&&bs()&&(this.b=$y(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=G4(this),this.ba=P(this.ib,this);var m=this;this.za=null,this.Pa=function(w){m.xa(w.h)},this.qa=null,this.Ba=function(w){Zy(m,w.c)},this.$=null,this.aa=[],this.Oa=function(w){Tl(m,w.f)},this.ja=null,this.S=new Qy(this,f),le(this,"multiFactor",this.S)}F(mr,Ln),mr.prototype.xa=function(o){this.za=o,RC(this.a,o)};function Zy(o,u){o.u=u,hd(o.a,u),o.b&&(u=o.b,o.b=$y(o.s,o.l,o.m,o.u),o.P&&(Vy(u,o),wd(o.b,o)))}mr.prototype.la=function(){return this.za};function e_(o,u){o.qa&&vr(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&Nr(u,"languageCodeChanged",o.Pa)}function t_(o,u){o.$&&vr(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&Nr(u,"emulatorConfigChanged",o.Ba)}function Tl(o,u){o.aa=u,NC(o.a,re.SDK_VERSION?Ya(re.SDK_VERSION,o.aa):null)}mr.prototype.Ga=function(){return J(this.aa)};function n_(o,u){o.ja&&vr(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&Nr(u,"frameworkChanged",o.Oa)}mr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function r_(o){try{return re.app(o.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function G4(o){return new Yy(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function DA(o){o.J||o.D.b||(o.D.start(),vr(o,"tokenChanged",o.ba),Nr(o,"tokenChanged",o.ba))}function i_(o){vr(o,"tokenChanged",o.ba),o.D.stop()}function o_(o,u){o.Aa=u,le(o,"_lat",u)}function z4(o,u){V(o.W,function(f){return f==u})}function Os(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return JI(u).then(function(){return o})}function Il(o){o.b&&!o.P&&(o.P=!0,wd(o.b,o))}function MA(o,u){Fn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Id(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}le(mr.prototype,"providerId","firebase");function LA(){}function s_(o){return me().then(function(){if(o.J)throw new k("app-deleted")})}function a_(o){return Ae(o.providerData,function(u){return u.providerId})}function u_(o,u){u&&(FA(o,u.providerId),o.providerData.push(u))}function FA(o,u){V(o.providerData,function(f){return f.providerId==u})}function Ao(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&le(o,u,f)}function Sd(o,u){o!=u&&(Fn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?le(o,"metadata",K4(u.metadata)):le(o,"metadata",new Id),Z(u.providerData,function(f){u_(o,f)}),$4(o.h,u.h),le(o,"refreshToken",o.h.a),Td(o.S,u.S.b))}e=mr.prototype,e.reload=function(){var o=this;return qt(this,s_(this).then(function(){return c_(o).then(function(){return Os(o)}).then(LA)}))};function c_(o){return o.I().then(function(u){var f=o.isAnonymous;return Q4(o,u).then(function(){return f||Ao(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new U4(u)})},e.I=function(o){var u=this;return qt(this,s_(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new k("internal-error");return f.accessToken!=u.Aa&&(o_(u,f.accessToken),u.dispatchEvent(new su("tokenChanged"))),Ao(u,"refreshToken",f.refreshToken),f.accessToken}))};function wi(o,u){u[Xr]&&o.Aa!=u[Xr]&&(PA(o.h,u),o.dispatchEvent(new su("tokenChanged")),o_(o,u[Xr]),Ao(o,"refreshToken",o.h.a))}function Q4(o,u){return je(o.a,NV,{idToken:u}).then(P(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new k("internal-error");o=o[0],MA(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=Y4(o),f=0;f<u.length;f++)u_(this,u[f]);Ao(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new su("userReloaded",{hd:o}))};function Y4(o){return(o=o.providerUserInfo)&&o.length?Ae(o,function(u){return new W4(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return Om("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return qt(this,o.c(this.a,this.uid).then(function(p){return wi(u,p),f=Sl(u,p,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function Cd(o,u){return c_(o).then(function(){if(M(a_(o),u))return Os(o).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(o){return Om("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return qt(this,Cd(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Sl(u,p,"link"),UA(u,p)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return qt(this,Cd(this,"phone").then(function(){return Ky(r_(f),o,u,P(f.rb,f))}))},e.Mc=function(o,u){var f=this;return qt(this,me().then(function(){return Ky(r_(f),o,u,P(f.ub,f))}),!0)};function Sl(o,u,f){var p=Xm(u);return u=eC(u),yi({user:o,credential:p,additionalUserInfo:u,operationType:f})}function UA(o,u){return wi(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return qt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return wi(u,f),u.reload()}))},e.ed=function(o){var u=this;return qt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return wi(u,f),u.reload()}))},e.Db=function(o){var u=this;return qt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return wi(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return s_(this);var u=this;return qt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return wi(u,f),Ao(u,"displayName",f.displayName||null),Ao(u,"photoURL",f.photoUrl||null),Z(u.providerData,function(p){p.providerId==="password"&&(le(p,"displayName",u.displayName),le(p,"photoURL",u.photoURL))}),Os(u)}).then(LA))},e.cd=function(o){var u=this;return qt(this,c_(this).then(function(f){return M(a_(u),o)?_V(u.a,f,[o]).then(function(p){var m={};return Z(p.providerUserInfo||[],function(w){m[w.providerId]=!0}),Z(a_(u),function(w){m[w]||FA(u,w)}),m[Gi.PROVIDER_ID]||le(u,"phoneNumber",null),Os(u)}):Os(u).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var o=this;return qt(this,this.I().then(function(u){return je(o.a,IV,{idToken:u})}).then(function(){o.dispatchEvent(new su("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");e_(o,null),t_(o,null),n_(o,null),o.N=[],o.J=!0,i_(o),le(o,"refreshToken",null),o.b&&Vy(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?P(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?P(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?P(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?P(this.Mb,this):null},e.Ec=function(o){var u=this;return jA(this,"linkViaPopup",o,function(){return Cd(u,o.providerId).then(function(){return Os(u)})},!1)},e.Nc=function(o){return jA(this,"reauthViaPopup",o,function(){return me()},!0)};function jA(o,u,f,p,m){if(!bs())return mt(new k("operation-not-supported-in-this-environment"));if(o.i&&!m)return mt(o.i);var w=Km(f.providerId),E=Es(o.uid+":::"),S=null;(!tl()||km())&&o.s&&f.isOAuthProvider&&(S=yl(o.s,o.l,o.m,u,f,null,E,re.SDK_VERSION||null,null,null,o.tenantId,o.u));var U=kS(S,w&&w.va,w&&w.ua);return p=p().then(function(){if(BA(o),!m)return o.I().then(function(){})}).then(function(){return _A(o.b,U,u,f,E,!!S,o.tenantId)}).then(function(){return new Ue(function(q,Te){o.na(u,null,new k("cancelled-popup-request"),o.g||null),o.f=q,o.C=Te,o.g=E,o.c=bA(o.b,o,u,U,E)})}).then(function(q){return U&&ws(U),q?yi(q):null}).o(function(q){throw U&&ws(U),q}),qt(o,p,m)}e.Fc=function(o){var u=this;return VA(this,"linkViaRedirect",o,function(){return Cd(u,o.providerId)},!1)},e.Oc=function(o){return VA(this,"reauthViaRedirect",o,function(){return me()},!0)};function VA(o,u,f,p,m){if(!bs())return mt(new k("operation-not-supported-in-this-environment"));if(o.i&&!m)return mt(o.i);var w=null,E=Es(o.uid+":::");return p=p().then(function(){if(BA(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=E,Os(o)}).then(function(S){return o.ha&&(S=o.ha,S=S.b.set(l_,o.w(),S.a)),S}).then(function(){return wA(o.b,u,f,E,o.tenantId)}).o(function(S){if(w=S,o.ha)return $A(o.ha);throw w}).then(function(){if(w)throw w}),qt(o,p,m)}function BA(o){if(!o.b||!o.P)throw o.b&&!o.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return f=this.I().then(function(E){return yy(m.a,{requestUri:o,postBody:p,sessionId:u,idToken:E})}).then(function(E){return w=Sl(m,E,"link"),UA(m,E)}).then(function(){return w}),qt(this,f)},e.Mb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var w=null,E=me().then(function(){return eu(_y(m.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),m.uid)}).then(function(S){return w=Sl(m,S,"reauthenticate"),wi(m,S),m.i=null,m.reload()}).then(function(){return w});return qt(this,E,!0)},e.vb=function(o){var u=this,f=null;return qt(this,this.I().then(function(p){return f=p,typeof o>"u"||pi(o)?{}:Gh(new Wh(o))}).then(function(p){return u.a.vb(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,p=null;return qt(this,this.I().then(function(m){return p=m,typeof u>"u"||pi(u)?{}:Gh(new Wh(u))}).then(function(m){return f.a.Fb(p,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function qt(o,u,f){var p=X4(o,u,f);return o.N.push(p),p.oa(function(){j(o.N,p)}),p.o(function(m){var w=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(w=RA(m.w(),r_(o),P(o.jc,o))),w||m})}e.jc=function(o){var u=null,f=this;return o=eu(me(o),f.uid).then(function(p){return u=Sl(f,p,"reauthenticate"),wi(f,p),f.i=null,f.reload()}).then(function(){return u}),qt(this,o,!0)};function X4(o,u,f){return o.i&&!f?(u.cancel(),mt(o.i)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new su("userInvalidated")),o.i=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&cn(o,this.metadata.w()),Z(this.providerData,function(u){o.providerData.push(Ej(u))}),cn(o,this.S.w()),o};function qA(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Xr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var m=new mr(u,f,o);return o.providerData&&Z(o.providerData,function(w){w&&u_(m,yi(w))}),o.redirectEventId&&(m.ga=o.redirectEventId),m}function J4(o,u,f,p){var m=new mr(o,u);return f&&(m.ha=f),p&&Tl(m,p),m.reload().then(function(){return m})}function Z4(o,u,f,p){var m=o.h,w={};return w[Xr]=m.b&&m.b.toString(),w.refreshToken=m.a,u=new mr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},w),f&&(u.ha=f),p&&Tl(u,p),Sd(u,o),u}function eB(o){this.a=o,this.b=El()}var l_={name:"redirectUser",F:"session"};function $A(o){return ou(o.b,l_,o.a)}function tB(o,u){return o.b.get(l_,o.a).then(function(f){return f&&u&&(f.authDomain=u),qA(f||{})})}function f_(o){this.a=o,this.b=El(),this.c=null,this.f=nB(this),this.b.addListener(bi("local"),this.a,P(this.g,this))}f_.prototype.g=function(){var o=this,u=bi("local");au(this,function(){return me().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return h_(o,"local").then(function(){o.c=u})})})};function h_(o,u){var f=[],p;for(p in ru)ru[p]!==u&&f.push(ou(o.b,bi(ru[p]),o.a));return f.push(ou(o.b,d_,o.a)),KU(f)}function nB(o){var u=bi("local"),f=bi("session"),p=bi("none");return m4(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(p,o.a).then(function(w){return w?p:o.b.get(u,o.a).then(function(E){return E?u:o.b.get(d_,o.a).then(function(S){return S?bi(S):u})})})}).then(function(m){return o.c=m,h_(o,m.F)}).o(function(){o.c||(o.c=u)})}var d_={name:"persistence",F:"session"};function bi(o){return{name:"authUser",F:o}}f_.prototype.yb=function(o){var u=null,f=this;return g4(o),au(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,h_(f,o)}).then(function(){if(f.c=bi(o),u)return f.b.set(f.c,u,f.a)}):me()})};function rB(o){return au(o,function(){return o.b.set(d_,o.c.F,o.a)})}function HA(o,u){return au(o,function(){return o.b.set(o.c,u.w(),o.a)})}function KA(o){return au(o,function(){return ou(o.b,o.c,o.a)})}function WA(o,u,f){return au(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),qA(p||{})})})}function au(o,u){return o.f=o.f.then(u,u),o.f}function Jr(o){if(this.l=!1,le(this,"settings",new CA),le(this,"app",o),st(this).options&&st(this).options.apiKey)o=re.SDK_VERSION?Ya(re.SDK_VERSION):null,this.a=new Yr(st(this).options&&st(this).options.apiKey,Yn(tt),o);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=re.INTERNAL.createSubscribe(P(this.zc,this)),this.W=void 0,this.ib=re.INTERNAL.createSubscribe(P(this.Ac,this)),uu(this,null),this.i=new f_(st(this).options.apiKey+":"+st(this).name),this.D=new eB(st(this).options.apiKey+":"+st(this).name),this.$=Ct(this,cB(this)),this.h=Ct(this,lB(this)),this.ba=!1,this.ja=P(this.Zc,this),this.Ba=P(this.da,this),this.qa=P(this.mc,this),this.za=P(this.wc,this),this.Aa=P(this.xc,this),this.b=null,sB(this),this.INTERNAL={},this.INTERNAL.delete=P(this.delete,this),this.INTERNAL.logFramework=P(this.Gc,this),this.u=0,Ln.call(this),oB(this),this.J=[],this.R=null}F(Jr,Ln);function GA(o){er.call(this,"languageCodeChanged"),this.h=o}F(GA,er);function zA(o){er.call(this,"emulatorConfigChanged"),this.c=o}F(zA,er);function QA(o){er.call(this,"frameworkChanged"),this.f=o}F(QA,er),e=Jr.prototype,e.yb=function(o){return o=this.i.yb(o),Ct(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,RC(this.a,this.aa),this.dispatchEvent(new GA(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=l.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,iB(u),this.R={url:o,ec:u},this.settings.jb=!0,hd(this.a,this.R),this.dispatchEvent(new zA(this.R))}};function iB(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&$h().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),NC(this.a,re.SDK_VERSION?Ya(re.SDK_VERSION,this.J):null),this.dispatchEvent(new QA(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function oB(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=tr(this.R.url);u=yi({protocol:u.c,host:u.a,port:u.g,options:yi({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:st(this).options.apiKey,authDomain:st(this).options.authDomain,appName:st(this).name,currentUser:Re(this)&&Re(this).w()}};function p_(o){return o.Oa||mt(new k("auth-domain-config-required"))}function sB(o){var u=st(o).options.authDomain,f=st(o).options.apiKey;u&&bs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=$y(u,f,st(o).name,o.R),wd(o.b,o),Re(o)&&Il(Re(o)),o.m){Il(o.m);var p=o.m;p.xa(o.la()),e_(p,o),p=o.m,Tl(p,o.J),n_(p,o),p=o.m,Zy(p,o.R),t_(p,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?P(this.ic,this):null},e.ic=function(o,u,f,p){var m=this,w={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return Ps(m,my(m.a,w))})},e.Xc=function(o){if(!bs())return mt(new k("operation-not-supported-in-this-environment"));var u=this,f=Km(o.providerId),p=Es(),m=null;(!tl()||km())&&st(this).options.authDomain&&o.isOAuthProvider&&(m=yl(st(this).options.authDomain,st(this).options.apiKey,st(this).name,"signInViaPopup",o,null,p,re.SDK_VERSION||null,null,null,this.T(),this.R));var w=kS(m,f&&f.va,f&&f.ua);return f=p_(this).then(function(E){return _A(E,w,"signInViaPopup",o,p,!!m,u.T())}).then(function(){return new Ue(function(E,S){u.na("signInViaPopup",null,new k("cancelled-popup-request"),u.g),u.f=E,u.C=S,u.g=p,u.c=bA(u.b,u,"signInViaPopup",w,p)})}).then(function(E){return w&&ws(w),E?yi(E):null}).o(function(E){throw w&&ws(w),E}),Ct(this,f)},e.Yc=function(o){if(!bs())return mt(new k("operation-not-supported-in-this-environment"));var u=this,f=p_(this).then(function(){return rB(u.i)}).then(function(){return wA(u.b,"signInViaRedirect",o,void 0,u.T())});return Ct(this,f)};function YA(o){if(!bs())return mt(new k("operation-not-supported-in-this-environment"));var u=p_(o).then(function(){return o.b.ra()}).then(function(f){return f?yi(f):null});return Ct(o,u)}e.ra=function(){var o=this;return YA(this).then(function(u){return o.b&&Ed(o.b.b),u}).o(function(u){throw o.b&&Ed(o.b.b),u})},e.dd=function(o){if(!o)return mt(new k("null-user"));if(this.S!=o.tenantId)return mt(new k("tenant-id-mismatch"));var u=this,f={};f.apiKey=st(this).options.apiKey,f.authDomain=st(this).options.authDomain,f.appName=st(this).name;var p=Z4(o,f,u.D,u.Ga());return Ct(this,this.h.then(function(){if(st(u).options.apiKey!=o.l)return p.reload()}).then(function(){return Re(u)&&o.uid==Re(u).uid?(Sd(Re(u),o),u.da(o)):(uu(u,p),Il(p),u.da(p))}).then(function(){Cl(u)}))};function aB(o,u){var f={};return f.apiKey=st(o).options.apiKey,f.authDomain=st(o).options.authDomain,f.appName=st(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return J4(f,u,o.D,o.Ga())}).then(function(p){return Re(o)&&p.uid==Re(o).uid?(Sd(Re(o),p),o.da(p)):(uu(o,p),Il(p),o.da(p))}).then(function(){Cl(o)})}function uu(o,u){Re(o)&&(z4(Re(o),o.Ba),vr(Re(o),"tokenChanged",o.qa),vr(Re(o),"userDeleted",o.za),vr(Re(o),"userInvalidated",o.Aa),i_(Re(o))),u&&(u.W.push(o.Ba),Nr(u,"tokenChanged",o.qa),Nr(u,"userDeleted",o.za),Nr(u,"userInvalidated",o.Aa),0<o.u&&DA(u)),le(o,"currentUser",u),u&&(u.xa(o.la()),e_(u,o),Tl(u,o.J),n_(u,o),Zy(u,o.R),t_(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&Ed(o.b.b),Re(o)?(uu(o,null),KA(o.i).then(function(){Cl(o)})):me()});return Ct(this,u)};function uB(o){var u=tB(o.D,st(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),$A(o.D)});return Ct(o,u)}function cB(o){var u=st(o).options.authDomain,f=uB(o).then(function(){return WA(o.i,u,o.R)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return HA(o.i,p).then(function(){return p})}).o(function(m){return m.code=="auth/network-request-failed"?p:KA(o.i)})):null}).then(function(p){uu(o,p||null)});return Ct(o,f)}function lB(o){return o.$.then(function(){return YA(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(bi("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return WA(this.i,st(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=Re(o)&&u){f=Re(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return Sd(Re(o),u),Re(o).I();(Re(o)||u)&&(uu(o,u),u&&(Il(u),u.ha=o.D),o.b&&wd(o.b,o),Cl(o))}})},e.da=function(o){return HA(this.i,o)},e.mc=function(){Cl(this),this.da(Re(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ps(o,u){var f=null,p=null;return Ct(o,u.then(function(m){return f=Xm(m),p=eC(m),aB(o,m)},function(m){var w=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(w=RA(m.w(),o,P(o.kc,o))),w||m}).then(function(){return yi({user:Re(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ps(u,me(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(Re(u))})},e.Ac=function(o){var u=this;fB(this,function(){o.next(Re(u))})},e.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Re(p)):typeof o.next=="function"&&o.next(Re(p))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof o=="function"?o(Re(p)):typeof o.next=="function"&&o.next(Re(p))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return Re(u)?Re(u).I(o).then(function(p){return{accessToken:p}}):null});return Ct(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ps(u,je(u.a,KV,{token:o}))}).then(function(f){var p=f.user;return Ao(p,"isAnonymous",!1),u.da(p),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ps(f,je(f.a,jC,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ps(f,je(f.a,EV,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Ps(u,o.ka(u.a))})},e.Sc=function(o){return Om("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=Re(o);if(u&&u.isAnonymous){var f=yi({providerId:null,isNewUser:!1});return yi({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ps(o,o.a.Ab()).then(function(p){var m=p.user;return Ao(m,"isAnonymous",!0),o.da(m),p})})};function st(o){return o.app}function Re(o){return o.currentUser}e.getUid=function(){return Re(this)&&Re(this).uid||null};function Ad(o){return Re(o)&&Re(o)._lat||null}function Cl(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Ad(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](Ad(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Re(this)&&DA(Re(this))},e.Pc=function(o){var u=this;Z(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Re(this)&&i_(Re(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),Ct(this,this.h.then(function(){u.l||M(u.s,o)&&o(Ad(u))}))},e.removeAuthTokenListener=function(o){V(this.s,function(u){return u==o})};function fB(o,u){o.N.push(u),Ct(o,o.h.then(function(){!o.l&&M(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(Ad(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(bi("local"),o.a,this.ja)),this.b&&(Vy(this.b,this),Ed(this.b.b)),Promise.resolve()};function Ct(o,u){return o.P.push(u),u.oa(function(){j(o.P,u)}),u}e.hc=function(o){return Ct(this,dV(this.a,o))},e.Bc=function(o){return!!Ym(o)},e.xb=function(o,u){var f=this;return Ct(this,me().then(function(){var p=new Wh(u);if(!p.c)throw new k("argument-error",$m+" must be true when sending sign in link to email");return Gh(p)}).then(function(p){return f.a.xb(o,p)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return Ct(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return Ct(this,this.a.Sa(o).then(function(u){return new Ij(u)}))},e.kb=function(o){return Ct(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return Ct(this,me().then(function(){return typeof u>"u"||pi(u)?{}:Gh(new Wh(u))}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},e.Wc=function(o,u){return Ct(this,Ky(this,o,u,P(this.ab,this)))},e.Vc=function(o,u){var f=this;return Ct(this,me().then(function(){var p=u||el(),m=hC(o,p);if(p=Ym(p),!p)throw new k("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new k("tenant-id-mismatch");return f.ab(m)}))};function Al(){}Al.prototype.render=function(){},Al.prototype.reset=function(){},Al.prototype.getResponse=function(){},Al.prototype.execute=function(){};function cu(){this.a={},this.b=1e12}var v_=null;cu.prototype.render=function(o,u){return this.a[this.b.toString()]=new kd(o,u),this.b++},cu.prototype.reset=function(o){var u=g_(this,o);o=XA(o),u&&o&&(u.delete(),delete this.a[o])},cu.prototype.getResponse=function(o){return(o=g_(this,o))?o.getResponse():null},cu.prototype.execute=function(o){(o=g_(this,o))&&o.execute()};function g_(o,u){return(u=XA(u))&&o.a[u]||null}function XA(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function kd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Gc(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Nr(this.f,"click",this.i)}kd.prototype.getResponse=function(){return m_(this),this.b},kd.prototype.execute=function(){m_(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=yj();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},kd.prototype.delete=function(){m_(this),this.g=!0,clearTimeout(this.a),this.a=null,vr(this.f,"click",this.i)};function m_(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function y_(){}le(y_,"FACTOR_ID","phone");function __(){}__.prototype.g=function(){return v_||(v_=new cu),me(v_)},__.prototype.c=function(){};var w_=null;function b_(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var hB=new vi(Nh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),dB=new Io(3e4,6e4);b_.prototype.g=function(o){var u=this;return new Ue(function(f,p){var m=setTimeout(function(){p(new k("network-request-failed"))},dB.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var E=l.grecaptcha.render;l.grecaptcha.render=function(S,U){return S=E(S,U),u.b++,S},clearTimeout(m),f(l.grecaptcha)}else clearTimeout(m),p(new k("internal-error"));delete l[u.a]};var w=nm(hB,{onload:u.a,hl:o||""});me(ly(w)).o(function(){clearTimeout(m),p(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(l.grecaptcha)})},b_.prototype.c=function(){this.b--};var E_=null;function T_(o,u,f,p,m,w,E){if(le(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,E?(w_||(w_=new __),E=w_):(E_||(E_=new b_),E=E_),this.m=E,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[ek])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[pB]==="invisible",!l.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Gc(u)||!this.i&&Gc(u).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Yr(o,w||null,m||null),this.u=p||function(){return null};var S=this;this.l=[];var U=this.a[JA];this.a[JA]=function(Te){if(tk(S,Te),typeof U=="function")U(Te);else if(typeof U=="string"){var rt=yt(U,l);typeof rt=="function"&&rt(Te)}};var q=this.a[ZA];this.a[ZA]=function(){if(tk(S,null),typeof q=="function")q();else if(typeof q=="string"){var Te=yt(q,l);typeof Te=="function"&&Te()}}}var JA="callback",ZA="expired-callback",ek="sitekey",pB="size";function tk(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function vB(o,u){V(o.l,function(f){return f==u})}function I_(o,u){return o.h.push(u),u.oa(function(){j(o.h,u)}),u}e=T_.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=I_(this,me().then(function(){if(Hh()&&!zr())return $h();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,je(o.s,LV,{})}).then(function(u){o.a[ek]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Rd(this);var o=this;return I_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Gc(u);u=BU("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Rd(this);var o=this;return I_(this,this.render().then(function(u){return new Ue(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var m=function(w){w&&(vB(o,m),f(w))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Rd(this),this.c!==null&&this.g.reset(this.c)};function Rd(o){if(o.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Rd(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Gc(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function S_(o,u,f){var p=!1;try{this.b=f||re.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new k("invalid-api-key");var m=this,w=null;try{w=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=re.SDK_VERSION?Ya(re.SDK_VERSION,w):null,T_.call(this,f,o,u,function(){try{var E=m.b.auth().la()}catch{E=null}return E},w,Yn(tt),p)}F(S_,T_);function nk(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var m=0,w=!1,E=0;E<u.length;E++)if(u[E].optional)w=!0;else{if(w)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(w=u.length,f.length<m||w<f.length)p="Expected "+(m==w?m==1?"1 argument":m+" arguments":m+"-"+w+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(w=u[m].optional&&f[m]===void 0,!u[m].M(f[m])&&!w){if(u=u[m],0>m||m>=rk.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");f=rk[m],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new k("argument-error",o+" failed: "+p)}var rk="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ce(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function C_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function Dt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:T}}function lu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Ei(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function gB(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function mB(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Jr)}}}function yB(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof re.app.App)}}}function ko(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function ik(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function fu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function A_(o,u){return T(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function ok(o){return T(o)&&typeof o.uid=="string"}function Nd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function xt(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(m){return o.M(m)||u.M(m)}}}function bt(o,u){for(var f in u){var p=u[f].name;o[p]=ak(p,o[f],u[f].j)}}function sk(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:ie(function(m){return this[m]},f),set:ie(function(m,w,E,S){nk(m,[E],[S],!0),this[w]=S},p,f,u[f].lb),enumerable:!0})}}function Ot(o,u,f,p){o[u]=ak(u,f,p)}function ak(o,u,f){function p(){var E=Array.prototype.slice.call(arguments);return nk(m,f,E),u.apply(this,E)}if(!f)return u;var m=_B(o),w;for(w in u)p[w]=u[w];for(w in u.prototype)p.prototype[w]=u.prototype[w];return p}function _B(o){return o=o.split("."),o[o.length-1]}bt(Jr.prototype,{kb:{name:"applyActionCode",j:[ce("code")]},Sa:{name:"checkActionCode",j:[ce("code")]},ob:{name:"confirmPasswordReset",j:[ce("code"),ce("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ce("email"),ce("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ce("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ce("emailLink")]},Hc:{name:"onAuthStateChanged",j:[xt(Dt(),lu(),"nextOrObserver"),lu("opt_error",!0),lu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[xt(Dt(),lu(),"nextOrObserver"),lu("opt_error",!0),lu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ce("email"),xt(Dt("opt_actionCodeSettings",!0),Ei(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ce("email"),Dt("actionCodeSettings")]},yb:{name:"setPersistence",j:[ce("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ko()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ko()]},Tc:{name:"signInWithCustomToken",j:[ce("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ce("email"),ce("password")]},Vc:{name:"signInWithEmailLink",j:[ce("email"),ce("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ce("phoneNumber"),Nd()]},Xc:{name:"signInWithPopup",j:[fu()]},Yc:{name:"signInWithRedirect",j:[fu()]},dd:{name:"updateCurrentUser",j:[xt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof mr)}}}(),Ei(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ce(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ce("url"),Dt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ce("code")]}}),sk(Jr.prototype,{lc:{name:"languageCode",lb:xt(ce(),Ei(),"languageCode")},ti:{name:"tenantId",lb:xt(ce(),Ei(),"tenantId")}}),Jr.Persistence=ru,Jr.Persistence.LOCAL="local",Jr.Persistence.SESSION="session",Jr.Persistence.NONE="none",bt(mr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[C_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[C_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ko()]},rb:{name:"linkWithCredential",j:[ko()]},Dc:{name:"linkWithPhoneNumber",j:[ce("phoneNumber"),Nd()]},Ec:{name:"linkWithPopup",j:[fu()]},Fc:{name:"linkWithRedirect",j:[fu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ko()]},ub:{name:"reauthenticateWithCredential",j:[ko()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ce("phoneNumber"),Nd()]},Nc:{name:"reauthenticateWithPopup",j:[fu()]},Oc:{name:"reauthenticateWithRedirect",j:[fu()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[xt(Dt("opt_actionCodeSettings",!0),Ei(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ce(null,!0)]},cd:{name:"unlink",j:[ce("provider")]},Cb:{name:"updateEmail",j:[ce("email")]},Db:{name:"updatePassword",j:[ce("password")]},ed:{name:"updatePhoneNumber",j:[ko("phone")]},Eb:{name:"updateProfile",j:[Dt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ce("email"),xt(Dt("opt_actionCodeSettings",!0),Ei(null,!0),"opt_actionCodeSettings",!0)]}}),bt(cu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),bt(Al.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),bt(Ue.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sk(CA.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:C_("appVerificationDisabledForTesting")}}),bt(Hy.prototype,{confirm:{name:"confirm",j:[ce("verificationCode")]}}),Ot(Za,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[qj,$j,Hj,Bj],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[xt(ce(),Dt(),"json")]),Ot(Or,"credential",function(o,u){return new So(o,u)},[ce("email"),ce("password")]),bt(So.prototype,{w:{name:"toJSON",j:[ce(null,!0)]}}),bt(Ss.prototype,{Ca:{name:"addScope",j:[ce("scope")]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Ot(Ss,"credential",uC,[xt(ce(),Dt(),"token")]),Ot(Or,"credentialWithLink",hC,[ce("email"),ce("emailLink")]),bt(Cs.prototype,{Ca:{name:"addScope",j:[ce("scope")]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Ot(Cs,"credential",cC,[xt(ce(),Dt(),"token")]),bt(As.prototype,{Ca:{name:"addScope",j:[ce("scope")]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Ot(As,"credential",lC,[xt(ce(),xt(Dt(),Ei()),"idToken"),xt(ce(),Ei(),"accessToken",!0)]),bt(tu.prototype,{Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Ot(tu,"credential",fC,[xt(ce(),Dt(),"token"),ce("secret",!0)]),bt(gr.prototype,{Ca:{name:"addScope",j:[ce("scope")]},credential:{name:"credential",j:[xt(ce(),xt(Dt(),Ei()),"optionsOrIdToken"),xt(ce(),Ei(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),bt(Wi.prototype,{w:{name:"toJSON",j:[ce(null,!0)]}}),bt(Ts.prototype,{w:{name:"toJSON",j:[ce(null,!0)]}}),Ot(Gi,"credential",dC,[ce("verificationId"),ce("verificationCode")]),bt(Gi.prototype,{gb:{name:"verifyPhoneNumber",j:[xt(ce(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?A_(f.session,al)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?A_(f.session,Jh)&&ok(f.multiFactorHint):f.session&&f.multiFactorUid?A_(f.session,Jh)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Nd()]}}),bt(Co.prototype,{w:{name:"toJSON",j:[ce(null,!0)]}}),bt(k.prototype,{toJSON:{name:"toJSON",j:[ce(null,!0)]}}),bt(cl.prototype,{toJSON:{name:"toJSON",j:[ce(null,!0)]}}),bt(ey.prototype,{toJSON:{name:"toJSON",j:[ce(null,!0)]}}),bt(Gy.prototype,{toJSON:{name:"toJSON",j:[ce(null,!0)]}}),bt(Wy.prototype,{Rc:{name:"resolveSignIn",j:[ik()]}}),bt(Qy.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[ik(),ce("displayName",!0)]},bd:{name:"unenroll",j:[xt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ok},ce(),"multiFactorInfoIdentifier")]}}),bt(S_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ot(qm,"parseLink",HS,[ce("link")]),Ot(y_,"assertion",function(o){return new xA(o)},[ko("phone")]),function(){if(typeof re<"u"&&re.INTERNAL&&re.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Kh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Bm,VERIFY_AND_CHANGE_EMAIL:ol,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jr,AuthCredential:Za,Error:k};Ot(o,"EmailAuthProvider",Or,[]),Ot(o,"FacebookAuthProvider",Ss,[]),Ot(o,"GithubAuthProvider",Cs,[]),Ot(o,"GoogleAuthProvider",As,[]),Ot(o,"TwitterAuthProvider",tu,[]),Ot(o,"OAuthProvider",gr,[ce("providerId")]),Ot(o,"SAMLAuthProvider",aC,[ce("providerId")]),Ot(o,"PhoneAuthProvider",Gi,[mB()]),Ot(o,"RecaptchaVerifier",S_,[xt(ce(),gB(),"recaptchaContainer"),Dt("recaptchaParameters",!0),yB()]),Ot(o,"ActionCodeURL",qm,[]),Ot(o,"PhoneMultiFactorGenerator",y_,[]),re.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Jr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),re.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:P(u.getUid,u),getToken:P(u.nc,u),addAuthTokenListener:P(u.cc,u),removeAuthTokenListener:P(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),re.registerVersion("@firebase/auth","0.16.8"),re.INTERNAL.extendNamespace({User:mr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var ZW="@firebase/database",eG="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mP="";function yP(e){mP=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tG=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Kt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ef(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nG=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return Ar(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _P=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new tG(t)}}catch{}return new nG},zs=_P("localStorage"),ib=_P("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Du=new Ra("@firebase/database"),wP=function(){var e=1;return function(){return e++}}(),bP=function(e){var t=wW(e),n=new gW;n.update(t);var r=n.digest();return Kv.encodeByteArray(r)},Zf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Zf.apply(null,i):typeof i=="object"?n+=Kt(i):n+=i,n+=" "}return n},ra=null,A1=!0,EP=function(e,t){G(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Du.logLevel=Le.VERBOSE,ra=Du.log.bind(Du),t&&ib.set("logging_enabled",!0)):typeof e=="function"?ra=e:(ra=null,ib.remove("logging_enabled"))},en=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(A1===!0&&(A1=!1,ra===null&&ib.get("logging_enabled")===!0&&EP(!0)),ra){var n=Zf.apply(null,e);ra(n)}},eh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];en.apply(void 0,xe([e],gn(t)))}},ob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Zf.apply(void 0,xe([],gn(e)));Du.error(n)},Li=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Zf.apply(void 0,xe([],gn(e)));throw Du.error(n),new Error(n)},yn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Zf.apply(void 0,xe([],gn(e)));Du.warn(n)},rG=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},iG=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},co="[MIN_NAME]",Fi="[MAX_NAME]",Na=function(e,t){if(e===t)return 0;if(e===co||t===Fi)return-1;if(t===co||e===Fi)return 1;var n=Dp(e),r=Dp(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},oG=function(e,t){return e===t?0:e<t?-1:1},xl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Kt(t))},Z0=function(e){if(typeof e!="object"||e===null)return Kt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Kt(t[i]),r+=":",r+=Z0(e[t[i]]);return r+="}",r},TP=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Qt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var IP=function(e){G(!Gv(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,c,l;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,a=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=t;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},sG=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aG=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uG(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var cG=new RegExp("^-?(0*)\\d{1,10}$"),SP=-2147483648,eE=2147483647,Dp=function(e){if(cG.test(e)){var t=Number(e);if(t>=SP&&t<=eE)return t}return null},Cc=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw yn("Exception was thrown by user callback.",n),t},Math.floor(0))}},lG=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ql=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fG=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){yn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hG=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(en("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yn(t)},e}(),Yl=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tE="5",CP="v",AP="s",kP="r",RP="f",NP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xP="ls",dG="p",sb="ac",OP="websocket",PP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nE=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zs.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&zs.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function pG(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function DP(e,t,n){G(typeof t=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");var r;if(t===OP)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===PP)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);pG(e)&&(n.ns=e.namespace);var i=[];return Qt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vG=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),Ar(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return aP(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H_={},K_={};function rE(e){var t=e.toString();return H_[t]||(H_[t]=new vG),H_[t]}function gG(e,t){var n=e.toString();return K_[n]||(K_[n]=t()),K_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mG=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&Cc(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k1="start",yG="close",_G="pLPCommand",wG="pRTLPCB",MP="id",LP="pw",FP="ser",bG="cb",EG="seg",TG="ts",IG="d",SG="dframe",UP=1870,jP=30,CG=UP-jP,AG=25e3,kG=3e4,iE=function(){function e(t,n,r,i,s,a,c){var l=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eh(t),this.stats_=rE(n),this.urlFn=function(h){return l.appCheckToken&&(h[sb]=l.appCheckToken),DP(n,PP,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mG(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(kG)),iG(function(){if(!r.isClosed_){r.scriptTagHolder=new RG(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=gn(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===k1)r.id=d,r.password=v;else if(h===yG)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=gn(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[k1]="t",i[FP]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[bG]=r.scriptTagHolder.uniqueCallbackIdentifier),i[CP]=tE,r.transportSessionId&&(i[AP]=r.transportSessionId),r.lastSessionId&&(i[xP]=r.lastSessionId),r.applicationId&&(i[dG]=r.applicationId),r.appCheckToken&&(i[sb]=r.appCheckToken),typeof location<"u"&&location.hostname&&NP.test(location.hostname)&&(i[kP]=RP);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!sG()&&!aG()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Kt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=sP(n),i=TP(r,CG),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[SG]="t",r[MP]=t,r[LP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Kt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),RG=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wP(),window[_G+this.uniqueCallbackIdentifier]=t,window[wG+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){en("frame writing exception"),l.stack&&en(l.stack),en(l)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||en("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[MP]=this.myID,t[LP]=this.myPW,t[FP]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+jP+r.length<=UP){var a=this.pendingSegs.shift();r=r+"&"+EG+i+"="+a.seg+"&"+TG+i+"="+a.ts+"&"+IG+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(AG)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){en("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NG=16384,xG=45e3,Mp=null;typeof MozWebSocket<"u"?Mp=MozWebSocket:typeof WebSocket<"u"&&(Mp=WebSocket);var Ks=function(){function e(t,n,r,i,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eh(this.connId),this.stats_=rE(n),this.connURL=e.connectionURL_(n,a,c,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[CP]=tE,typeof location<"u"&&location.hostname&&NP.test(location.hostname)&&(s[kP]=RP),n&&(s[AP]=n),r&&(s[xP]=r),i&&(s[sb]=i),DP(t,OP,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zs.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!lP()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Mp(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Mp!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return zs.isInMemoryStorage||zs.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){zs.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Ef(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(G(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Kt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=TP(n,NG);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(xG))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OG=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[iE,Ks]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Ks&&Ks.isAvailable(),s=i&&!Ks.previouslyFailed();if(t.webSocketOnly&&(i||yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Ks];else{var a=this.transports_=[];try{for(var c=sn(e.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PG=6e4,DG=5e3,MG=10*1024,LG=100*1024,W_="t",R1="d",FG="s",N1="r",UG="e",x1="o",O1="a",P1="n",D1="p",jG="h",VP=function(){function e(t,n,r,i,s,a,c,l,h,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=l,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eh("c:"+this.id+":"),this.transportManager_=new OG(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ql(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>LG?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>MG?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(W_ in t){var n=t[W_];n===O1?this.upgradeIfSecondaryHealthy_():n===N1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===x1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=xl("t",t),r=xl("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:D1,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:O1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:P1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=xl("t",t),r=xl("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=xl(W_,t);if(R1 in t){var r=t[R1];if(n===jG)this.onHandshake_(r);else if(n===P1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===FG?this.onConnectionShutdown_(r):n===N1?this.onReset_(r):n===UG?ob("Server Error: "+r):n===x1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ob("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),tE!==r&&yn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Ql(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(PG))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ql(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(DG))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:D1,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BP=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qP=function(){function e(t){this.allowedEvents_=t,this.listeners_={},G(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=xe([],gn(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){G(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M1=function(e){te(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!G0()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return G(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(qP);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L1=32,F1=768,et=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Ye(){return new et("")}function Oe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function rs(e){return e.pieces_.length-e.pieceNum_}function ft(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new et(e.pieces_,t)}function oE(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function VG(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Tf(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function $P(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new et(t,0)}function wt(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof et)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new et(n,0)}function Pe(e){return e.pieceNum_>=e.pieces_.length}function Wn(e,t){var n=Oe(e),r=Oe(t);if(n===null)return t;if(n===r)return Wn(ft(e),ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function BG(e,t){for(var n=Tf(e,0),r=Tf(t,0),i=0;i<n.length&&i<r.length;i++){var s=Na(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function sE(e,t){if(rs(e)!==rs(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Mr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(rs(e)>rs(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var qG=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Tf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Wv(this.parts_[r]);HP(this)}return e}();function $G(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Wv(t),HP(e)}function HG(e){var t=e.parts_.pop();e.byteLength_-=Wv(t),e.parts_.length>0&&(e.byteLength_-=1)}function HP(e){if(e.byteLength_>F1)throw new Error(e.errorPrefix_+"has a key path longer than "+F1+" bytes ("+e.byteLength_+").");if(e.parts_.length>L1)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+L1+") or object contains a cycle "+Vs(e))}function Vs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KG=function(e){te(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return G(n==="visible","Unknown event type: "+n),[this.visible_]},t}(qP);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ol=1e3,WG=60*5*1e3,GG=3*1e3,U1=30*1e3,zG=1.3,QG=3e4,YG="server_kill",j1=3,ia=function(e){te(t,e);function t(n,r,i,s,a,c,l,h){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=s,d.onServerInfoUpdate_=a,d.authTokenProvider_=c,d.appCheckTokenProvider_=l,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=eh("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Ol,d.maxReconnectDelay_=WG,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!lP())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return KG.getInstance().on("visible",d.onVisible_,d),n.host.indexOf("fblocal")===-1&&M1.getInstance().on("online",d.onOnline_,d),d}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Kt(a)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new rn,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},GG),this.connected_&&this.sendGet_(c),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i._queryObject,c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;t.warnOnListenWarnings_(d,i);var g=r.listens.get(s)&&r.listens.get(s).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Ar(n,"w")){var i=pa(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();yn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||pW(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=U1)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=dW(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Kt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ob("Unrecognized action received from server: "+Kt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ol,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ol,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>QG&&(this.reconnectDelay_=Ol),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*zG)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,g,y,_,b,T=this;return A(this,function(C){switch(C.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())},d=function(x){G(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(x)},this.realtime_={close:h,sendRequest:d},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return g=gn.apply(void 0,[C.sent(),2]),y=g[0],_=g[1],c?en("getToken() completed but was canceled"):(en("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,l=new VP(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(x){yn(x+" ("+T.repoInfo_.toString()+")"),T.interrupt(YG)},a)),[3,4];case 3:return b=C.sent(),this.log_("Failed to get token: "+b),c||(this.repoInfo_.nodeAdmin&&yn(b),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){en("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){en("Resuming connection for reason: "+n),delete this.interruptReasons_[n],nb(this.interruptReasons_)&&(this.reconnectDelay_=Ol,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return Z0(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new et(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){en("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=j1&&(this.reconnectDelay_=U1,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){en("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=j1&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=sn(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,sn(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(_){i={error:_}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(_){n={error:_}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+mP.replace(/\./g,"-")]=1,G0()?n["framework.cordova"]=1:cP()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=M1.getInstance().currentlyOnline();return nb(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(BP);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zv=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Be(co,t),i=new Be(co,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Be.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd,KP=function(e){te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return jd},set:function(n){jd=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Na(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Ic("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return new Be(Fi,jd)},t.prototype.makePost=function(n,r){return G(typeof n=="string","KeyIndex indexValue must always be a string."),new Be(n,jd)},t.prototype.toString=function(){return".key"},t}(zv),Ni=new KP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vd=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),ri=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??to.EMPTY_NODE,this.right=s??to.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return to.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return to.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),XG=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new ri(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),to=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ri.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ri.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Vd(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Vd(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Vd(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Vd(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new XG,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(e,t){return Na(e.name,t.name)}function aE(e,t){return Na(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ab;function ZG(e){ab=e}var WP=function(e){return typeof e=="number"?"number:"+IP(e):"string:"+e},GP=function(e){if(e.isLeafNode()){var t=e.val();G(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ar(t,".sv"),"Priority must be a string or number.")}else G(e===ab||e.isEmpty(),"priority of unexpected type.");G(e===ab||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V1,Gu=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),GP(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return V1},set:function(t){V1=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Pe(t)?this:Oe(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Oe(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||rs(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+WP(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=IP(this.value_):t+=this.value_,this.lazyHash_=bP(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(G(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zP,QP;function e6(e){zP=e}function t6(e){QP=e}var n6=function(e){te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Na(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return new Be(Fi,new Gu("[PRIORITY-POST]",QP))},t.prototype.makePost=function(n,r){var i=zP(n);return new Be(r,new Gu("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(zv),ht=new n6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r6=Math.log(2),i6=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/r6,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),Lp=function(e,t,n,r){e.sort(t);var i=function(l,h){var d=h-l,v,g;if(d===0)return null;if(d===1)return v=e[l],g=n?n(v):v,new ri(g,v.node,ri.BLACK,null,null);var y=parseInt(d/2,10)+l,_=i(l,y),b=i(y+1,h);return v=e[y],g=n?n(v):v,new ri(g,v.node,ri.BLACK,_,b)},s=function(l){for(var h=null,d=null,v=e.length,g=function(C,x){var O=v-C,L=v;v-=C;var $=i(O+1,L),P=e[O],ie=n?n(P):P;y(new ri(ie,P.node,x,null,$))},y=function(C){h?(h.left=C,h=C):(d=C,h=C)},_=0;_<l.count;++_){var b=l.nextBitIsOne(),T=Math.pow(2,l.count-(_+1));b?g(T,ri.BLACK):(g(T,ri.BLACK),g(T,ri.RED))}return d},a=new i6(e.length),c=s(a);return new to(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G_,vu={},Fp=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return G(vu&&ht,"ChildrenNode.ts has not been loaded"),G_=G_||new e({".priority":vu},{".priority":ht}),G_},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=pa(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof to?n:null},e.prototype.hasIndex=function(t){return Ar(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){G(t!==Ni,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Be.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=Lp(r,t.getCompare()):c=vu;var l=t.toString(),h=_e({},this.indexSet_);h[l]=t;var d=_e({},this.indexes_);return d[l]=c,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Op(this.indexes_,function(s,a){var c=pa(r.indexSet_,a);if(G(c,"Missing index implementation for "+a),s===vu)if(c.isDefinedOn(t.node)){for(var l=[],h=n.getIterator(Be.Wrap),d=h.getNext();d;)d.name!==t.name&&l.push(d),d=h.getNext();return l.push(t),Lp(l,c.getCompare())}else return vu;else{var v=n.get(t.name),g=s;return v&&(g=g.remove(new Be(t.name,v))),g.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Op(this.indexes_,function(i){if(i===vu)return i;var s=n.get(t.name);return s?i.remove(new Be(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl,Se=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&GP(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Pl||(Pl=new e(new to(aE),null,Fp.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Pl},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Pl:n},e.prototype.getChild=function(t){var n=Oe(t);return n===null?this:this.getImmediateChild(n).getChild(ft(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(G(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Be(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Pl:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=Oe(t);if(r===null)return n;G(Oe(t)!==".priority"||rs(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(ft(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(ht,function(l,h){n[l]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!t&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+WP(this.getPriority().val())+":"),this.forEachChild(ht,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":bP(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Be(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Be(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Be(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Be.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Be.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===th?-1:0},e.prototype.withIndex=function(t){if(t===Ni||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===Ni||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(ht),i=n.getIterator(ht),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===Ni?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),o6=function(e){te(t,e);function t(){return e.call(this,new to(aE),Se.EMPTY_NODE,Fp.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return Se.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Se),th=new o6;Object.defineProperties(Be,{MIN:{value:new Be(co,Se.EMPTY_NODE)},MAX:{value:new Be(Fi,th)}});KP.__EMPTY_NODE=Se.EMPTY_NODE;Gu.__childrenNodeConstructor=Se;ZG(th);t6(th);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s6=!0;function Et(e,t){if(t===void 0&&(t=null),e===null)return Se.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),G(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new Gu(n,Et(t))}if(!(e instanceof Array)&&s6){var r=[],i=!1,s=e;if(Qt(s,function(h,d){if(h.substring(0,1)!=="."){var v=Et(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Be(h,v)))}}),r.length===0)return Se.EMPTY_NODE;var a=Lp(r,JG,function(h){return h.name},aE);if(i){var c=Lp(r,ht.getCompare());return new Se(a,Et(t),new Fp({".priority":c},{".priority":ht}))}else return new Se(a,Et(t),Fp.Default)}else{var l=Se.EMPTY_NODE;return Qt(e,function(h,d){if(Ar(e,h)&&h.substring(0,1)!=="."){var v=Et(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(Et(t))}}e6(Et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uE=function(e){te(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,G(!Pe(n)&&Oe(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Na(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=Et(n),s=Se.EMPTY_NODE.updateChild(this.indexPath_,i);return new Be(r,s)},t.prototype.maxPost=function(){var n=Se.EMPTY_NODE.updateChild(this.indexPath_,th);return new Be(Fi,n)},t.prototype.toString=function(){return Tf(this.indexPath_,0).join("/")},t}(zv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a6=function(e){te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Na(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return Be.MAX},t.prototype.makePost=function(n,r){var i=Et(n);return new Be(r,i)},t.prototype.toString=function(){return".value"},t}(zv),cE=new a6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ub="-",YP="z",XP=786,u6=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=zu.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=zu.charAt(t[i]);return G(a.length===20,"nextPushId: Length should be 20."),a}}(),B1=function(e){if(e===""+eE)return ub;var t=Dp(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<XP)return n.push(ub),n.join("");for(var i=n.length-1;i>=0&&n[i]===YP;)i--;if(i===-1)return Fi;var s=n[i],a=zu.charAt(zu.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},q1=function(e){if(e===""+SP)return co;var t=Dp(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===ub?n.length===1?""+eE:(delete n[n.length-1],n.join("")):(n[n.length-1]=zu.charAt(zu.indexOf(n[n.length-1])-1),n.join("")+YP.repeat(XP-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(e){return{type:"value",snapshotNode:e}}function Qu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function If(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Sf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function c6(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lE=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){G(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=t.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(If(n,c)):G(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Qu(n,r)):a.trackChildChange(Sf(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ht,function(i,s){n.hasChild(i)||r.trackChildChange(If(i,s))}),n.isLeafNode()||n.forEachChild(ht,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Sf(i,s,a))}else r.trackChildChange(Qu(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?Se.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZP=function(){function e(t){this.indexedFilter_=new lE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Be(n,r))||(r=Se.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=Se.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Se.EMPTY_NODE);var s=this;return n.forEachChild(ht,function(a,c){s.matches(new Be(a,c))||(i=i.updateImmediateChild(a,Se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l6=function(){function e(t){this.rangedFilter_=new ZP(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Be(n,r))||(r=Se.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Se.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Se.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(T,C){return g(C,T)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,Se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(x,O){return c(O,x)}}else a=this.index_.getCompare();var l=t;G(l.numChildren()===this.limit_,"");var h=new Be(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var g=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var _=y==null?1:a(y,h),b=v&&!r.isEmpty()&&_>=0;if(b)return s!=null&&s.trackChildChange(Sf(n,r,g)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(If(n,g));var T=l.updateImmediateChild(n,Se.EMPTY_NODE),C=y!=null&&this.rangedFilter_.matches(y);return C?(s!=null&&s.trackChildChange(Qu(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}else return r.isEmpty()?t:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(If(d.name,d.node)),s.trackChildChange(Qu(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,Se.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eD=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ht}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:co},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ht},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function f6(e){return e.loadsAllData()?new lE(e.getIndex()):e.hasLimit()?new l6(e):new ZP(e)}function h6(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function d6(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function cb(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function p6(e,t,n){var r;if(e.index_===Ni)typeof t=="string"&&(t=B1(t)),r=cb(e,t,n);else{var i=void 0;n==null?i=Fi:i=B1(n),r=cb(e,t,i)}return r.startAfterSet_=!0,r}function lb(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function v6(e,t,n){var r,i;return e.index_===Ni?(typeof t=="string"&&(t=q1(t)),i=lb(e,t,n)):(n==null?r=co:r=q1(n),i=lb(e,t,r)),i.endBeforeSet_=!0,i}function Qv(e,t){var n=e.copy();return n.index_=t,n}function $1(e){var t={};if(e.isDefault())return t;var n;return e.index_===ht?n="$priority":e.index_===cE?n="$value":e.index_===Ni?n="$key":(G(e.index_ instanceof uE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Kt(n),e.startSet_&&(t.startAt=Kt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Kt(e.indexStartName_))),e.endSet_&&(t.endAt=Kt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Kt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function H1(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ht&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g6=function(e){te(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=eh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(G(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);var l=t.getListenId_(n,i),h={};this.listens_[l]=h;var d=$1(n._queryParams);this.restRequest_(c+".json",d,function(v,g){var y=g;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),pa(a.listens_,l)===h){var _;v?v===401?_="permission_denied":_="rest_error:"+v:_="ok",s(_,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=$1(n._queryParams),s=n._path.toString(),a=new rn;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var c=gn(a,2),l=c[0],h=c[1];l&&l.accessToken&&(r.auth=l.accessToken),h&&h.token&&(r.ac=h.token);var d=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+vW(r);s.log_("Sending REST request for "+d);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+d+" received. status:",v.status,"response:",v.responseText);var g=null;if(v.status>=200&&v.status<300){try{g=Ef(v.responseText)}catch{yn("Failed to parse JSON response for "+d+": "+v.responseText)}i(null,g)}else v.status!==401&&v.status!==404&&yn("Got unsuccessful REST response for "+d+" Status: "+v.status),i(v.status);i=null}},v.open("GET",d,!0),v.send()})},t}(BP);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m6=function(){function e(){this.rootNode_=Se.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){return{value:null,children:new Map}}function Ac(e,t,n){if(Pe(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=Oe(t);e.children.has(r)||e.children.set(r,Up());var i=e.children.get(r);t=ft(t),Ac(i,t,n)}}function fb(e,t){if(Pe(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ht,function(s,a){Ac(e,new et(s),a)}),fb(e,t)}else if(e.children.size>0){var r=Oe(t);if(t=ft(t),e.children.has(r)){var i=fb(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function hb(e,t,n){e.value!==null?n(t,e.value):y6(e,function(r,i){var s=new et(t.toString()+"/"+r);hb(i,s,n)})}function y6(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tD=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=_e({},t);return this.last_&&Qt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K1=10*1e3,_6=30*1e3,w6=5*60*1e3,b6=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tD(t);var r=K1+(_6-K1)*Math.random();Ql(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Qt(n,function(s,a){a>0&&Ar(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),Ql(this.reportStats_.bind(this),Math.floor(Math.random()*2*w6))},e}();function E6(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(si||(si={}));function fE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T6=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=si.ACK_USER_WRITE,this.source=fE()}return e.prototype.operationForChild=function(t){if(Pe(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new et(t));return new e(Ye(),n,this.revert)}else return G(Oe(this.path)===t,"operationForChild called for unrelated child."),new e(ft(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nD=function(){function e(t,n){this.source=t,this.path=n,this.type=si.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Pe(this.path)?new e(this.source,Ye()):new e(this.source,ft(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yv=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=si.OVERWRITE}return e.prototype.operationForChild=function(t){return Pe(this.path)?new e(this.source,Ye(),this.snap.getImmediateChild(t)):new e(this.source,ft(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pE=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=si.MERGE}return e.prototype.operationForChild=function(t){if(Pe(this.path)){var n=this.children.subtree(new et(t));return n.isEmpty()?null:n.value?new Yv(this.source,Ye(),n.value):new e(this.source,Ye(),n)}else return G(Oe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ft(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(Pe(t))return this.isFullyInitialized()&&!this.filtered_;var n=Oe(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I6=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function S6(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(c6(a.childName,a.snapshotNode))}),Dl(e,i,"child_removed",t,r,n),Dl(e,i,"child_added",t,r,n),Dl(e,i,"child_moved",s,r,n),Dl(e,i,"child_changed",t,r,n),Dl(e,i,"value",t,r,n),i}function Dl(e,t,n,r,i,s){var a=r.filter(function(c){return c.type===n});a.sort(function(c,l){return A6(e,c,l)}),a.forEach(function(c){var l=C6(e,c,s);i.forEach(function(h){h.respondsTo(c.type)&&t.push(h.createEvent(l,e.query_))})})}function C6(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function A6(e,t,n){if(t.childName==null||n.childName==null)throw Ic("Should only compare child_ events.");var r=new Be(t.childName,t.snapshotNode),i=new Be(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(e,t){return{eventCache:e,serverCache:t}}function Xl(e,t,n,r){return Xv(new is(t,n,r),e.serverCache)}function rD(e,t,n,r){return Xv(e.eventCache,new is(t,n,r))}function jp(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function va(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z_,k6=function(){return z_||(z_=new to(oG)),z_},kr=function(){function e(t,n){n===void 0&&(n=k6()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Qt(t,function(r,i){n=n.set(new et(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Ye(),value:this.value};if(Pe(t))return null;var r=Oe(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(ft(t),n);if(s!=null){var a=wt(new et(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(Pe(t))return this;var n=Oe(t),r=this.children.get(n);return r!==null?r.subtree(ft(t)):new e(null)},e.prototype.set=function(t,n){if(Pe(t))return new e(n,this.children);var r=Oe(t),i=this.children.get(r)||new e(null),s=i.set(ft(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(Pe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Oe(t),r=this.children.get(n);if(r){var i=r.remove(ft(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(Pe(t))return this.value;var n=Oe(t),r=this.children.get(n);return r?r.get(ft(t)):null},e.prototype.setTree=function(t,n){if(Pe(t))return n;var r=Oe(t),i=this.children.get(r)||new e(null),s=i.setTree(ft(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Ye(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(wt(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Ye(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Pe(t))return null;var s=Oe(t),a=this.children.get(s);return a?a.findOnPath_(ft(t),wt(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Ye(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(Pe(t))return this;this.value&&r(n,this.value);var i=Oe(t),s=this.children.get(i);return s?s.foreachOnPath_(ft(t),wt(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Ye(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(wt(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var io=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new kr(null))},e}();function Jl(e,t,n){if(Pe(t))return new io(new kr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Wn(i,t);return s=s.updateChild(a,n),new io(e.writeTree_.set(i,s))}else{var c=new kr(n),l=e.writeTree_.setTree(t,c);return new io(l)}}function db(e,t,n){var r=e;return Qt(n,function(i,s){r=Jl(r,wt(t,i),s)}),r}function W1(e,t){if(Pe(t))return io.empty();var n=e.writeTree_.setTree(t,new kr(null));return new io(n)}function pb(e,t){return xa(e,t)!=null}function xa(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Wn(n.path,t)):null}function G1(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ht,function(r,i){t.push(new Be(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Be(r,i.value))}),t}function Qo(e,t){if(Pe(t))return e;var n=xa(e,t);return n!=null?new io(new kr(n)):new io(e.writeTree_.subtree(t))}function vb(e){return e.writeTree_.isEmpty()}function Yu(e,t){return iD(Ye(),e.writeTree_,t)}function iD(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=iD(wt(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(wt(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(e,t){return uD(t,e)}function R6(e,t,n,r,i){G(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Jl(e.visibleWrites,t,n)),e.lastWriteId=r}function N6(e,t,n,r){G(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=db(e.visibleWrites,t,n),e.lastWriteId=r}function x6(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function O6(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});G(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var c=e.allWrites[a];c.visible&&(a>=n&&P6(c,r.path)?i=!1:Mr(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return D6(e),!0;if(r.snap)e.visibleWrites=W1(e.visibleWrites,r.path);else{var l=r.children;Qt(l,function(h){e.visibleWrites=W1(e.visibleWrites,wt(r.path,h))})}return!0}else return!1}function P6(e,t){if(e.snap)return Mr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Mr(wt(e.path,n),t))return!0;return!1}function D6(e){e.visibleWrites=oD(e.allWrites,M6,Ye()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function M6(e){return e.visible}function oD(e,t,n){for(var r=io.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,c=void 0;if(s.snap)Mr(n,a)?(c=Wn(n,a),r=Jl(r,c,s.snap)):Mr(a,n)&&(c=Wn(a,n),r=Jl(r,Ye(),s.snap.getChild(c)));else if(s.children){if(Mr(n,a))c=Wn(n,a),r=db(r,c,s.children);else if(Mr(a,n))if(c=Wn(a,n),Pe(c))r=db(r,Ye(),s.children);else{var l=pa(s.children,Oe(c));if(l){var h=l.getChild(ft(c));r=Jl(r,Ye(),h)}}}else throw Ic("WriteRecord should have .snap or .children")}}return r}function sD(e,t,n,r,i){if(!r&&!i){var s=xa(e.visibleWrites,t);if(s!=null)return s;var a=Qo(e.visibleWrites,t);if(vb(a))return n;if(n==null&&!pb(a,Ye()))return null;var c=n||Se.EMPTY_NODE;return Yu(a,c)}else{var l=Qo(e.visibleWrites,t);if(!i&&vb(l))return n;if(!i&&n==null&&!pb(l,Ye()))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(Mr(g.path,t)||Mr(t,g.path))},d=oD(e.allWrites,h,t),c=n||Se.EMPTY_NODE;return Yu(d,c)}}function L6(e,t,n){var r=Se.EMPTY_NODE,i=xa(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ht,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=Qo(e.visibleWrites,t);return n.forEachChild(ht,function(c,l){var h=Yu(Qo(s,new et(c)),l);r=r.updateImmediateChild(c,h)}),G1(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=Qo(e.visibleWrites,t);return G1(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}}function F6(e,t,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=wt(t,n);if(pb(e.visibleWrites,s))return null;var a=Qo(e.visibleWrites,s);return vb(a)?i.getChild(n):Yu(a,i.getChild(n))}function U6(e,t,n,r){var i=wt(t,n),s=xa(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Qo(e.visibleWrites,i);return Yu(a,r.getNode().getImmediateChild(n))}else return null}function j6(e,t){return xa(e.visibleWrites,t)}function V6(e,t,n,r,i,s,a){var c,l=Qo(e.visibleWrites,t),h=xa(l,Ye());if(h!=null)c=h;else if(n!=null)c=Yu(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),g=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=g.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=g.getNext();return d}else return[]}function B6(){return{visibleWrites:io.empty(),allWrites:[],lastWriteId:-1}}function Vp(e,t,n,r){return sD(e.writeTree,e.treePath,t,n,r)}function vE(e,t){return L6(e.writeTree,e.treePath,t)}function z1(e,t,n,r){return F6(e.writeTree,e.treePath,t,n,r)}function Bp(e,t){return j6(e.writeTree,wt(e.treePath,t))}function q6(e,t,n,r,i,s){return V6(e.writeTree,e.treePath,t,n,r,i,s)}function gE(e,t,n){return U6(e.writeTree,e.treePath,t,n)}function aD(e,t){return uD(wt(e.treePath,t),e.writeTree)}function uD(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $6=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Sf(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,If(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Qu(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Sf(r,t.snapshotNode,i.oldSnap));else throw Ic("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H6=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),cD=new H6,mE=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new is(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gE(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),s=q6(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(e){return{filter:e}}function W6(e,t){G(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),G(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function G6(e,t,n,r,i){var s=new $6,a,c;if(n.type===si.OVERWRITE){var l=n;l.source.fromUser?a=gb(e,t,l.path,l.snap,r,i,s):(G(l.source.fromServer,"Unknown source."),c=l.source.tagged||t.serverCache.isFiltered()&&!Pe(l.path),a=qp(e,t,l.path,l.snap,r,i,c,s))}else if(n.type===si.MERGE){var h=n;h.source.fromUser?a=Q6(e,t,h.path,h.children,r,i,s):(G(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.serverCache.isFiltered(),a=mb(e,t,h.path,h.children,r,i,c,s))}else if(n.type===si.ACK_USER_WRITE){var d=n;d.revert?a=J6(e,t,d.path,r,i,s):a=Y6(e,t,d.path,d.affectedTree,r,i,s)}else if(n.type===si.LISTEN_COMPLETE)a=X6(e,t,n.path,r,s);else throw Ic("Unknown operation type: "+n.type);var v=s.getChanges();return z6(t,a,v),{viewCache:a,changes:v}}function z6(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=jp(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(JP(jp(t)))}}function lD(e,t,n,r,i,s){var a=t.eventCache;if(Bp(r,n)!=null)return t;var c=void 0,l=void 0;if(Pe(n))if(G(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=va(t),d=h instanceof Se?h:Se.EMPTY_NODE,v=vE(r,d);c=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var g=Vp(r,va(t));c=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var y=Oe(n);if(y===".priority"){G(rs(n)===1,"Can't have a priority with additional path components");var _=a.getNode();l=t.serverCache.getNode();var b=z1(r,n,_,l);b!=null?c=e.filter.updatePriority(_,b):c=a.getNode()}else{var T=ft(n),C=void 0;if(a.isCompleteForChild(y)){l=t.serverCache.getNode();var x=z1(r,n,a.getNode(),l);x!=null?C=a.getNode().getImmediateChild(y).updateChild(T,x):C=a.getNode().getImmediateChild(y)}else C=gE(r,y,t.serverCache);C!=null?c=e.filter.updateChild(a.getNode(),y,C,T,i,s):c=a.getNode()}}return Xl(t,c,a.isFullyInitialized()||Pe(n),e.filter.filtersNodes())}function qp(e,t,n,r,i,s,a,c){var l=t.serverCache,h,d=a?e.filter:e.filter.getIndexedFilter();if(Pe(n))h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var g=Oe(n);if(!l.isCompleteForPath(n)&&rs(n)>1)return t;var y=ft(n),_=l.getNode().getImmediateChild(g),b=_.updateChild(y,r);g===".priority"?h=d.updatePriority(l.getNode(),b):h=d.updateChild(l.getNode(),g,b,y,cD,null)}var T=rD(t,h,l.isFullyInitialized()||Pe(n),d.filtersNodes()),C=new mE(i,T,s);return lD(e,T,n,i,C,c)}function gb(e,t,n,r,i,s,a){var c=t.eventCache,l,h,d=new mE(i,t,s);if(Pe(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=Xl(t,h,!0,e.filter.filtersNodes());else{var v=Oe(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),l=Xl(t,h,c.isFullyInitialized(),c.isFiltered());else{var g=ft(n),y=c.getNode().getImmediateChild(v),_=void 0;if(Pe(g))_=r;else{var b=d.getCompleteChild(v);b!=null?oE(g)===".priority"&&b.getChild($P(g)).isEmpty()?_=b:_=b.updateChild(g,r):_=Se.EMPTY_NODE}if(y.equals(_))l=t;else{var T=e.filter.updateChild(c.getNode(),v,_,g,d,a);l=Xl(t,T,c.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Q1(e,t){return e.eventCache.isCompleteForChild(t)}function Q6(e,t,n,r,i,s,a){var c=t;return r.foreach(function(l,h){var d=wt(n,l);Q1(t,Oe(d))&&(c=gb(e,c,d,h,i,s,a))}),r.foreach(function(l,h){var d=wt(n,l);Q1(t,Oe(d))||(c=gb(e,c,d,h,i,s,a))}),c}function Y1(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function mb(e,t,n,r,i,s,a,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var l=t,h;Pe(n)?h=r:h=new kr(null).setTree(n,r);var d=t.serverCache.getNode();return h.children.inorderTraversal(function(v,g){if(d.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),_=Y1(e,y,g);l=qp(e,l,new et(v),_,i,s,a,c)}}),h.children.inorderTraversal(function(v,g){var y=!t.serverCache.isCompleteForChild(v)&&g.value===void 0;if(!d.hasChild(v)&&!y){var _=t.serverCache.getNode().getImmediateChild(v),b=Y1(e,_,g);l=qp(e,l,new et(v),b,i,s,a,c)}}),l}function Y6(e,t,n,r,i,s,a){if(Bp(i,n)!=null)return t;var c=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Pe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qp(e,t,n,l.getNode().getChild(n),i,s,c,a);if(Pe(n)){var h=new kr(null);return l.getNode().forEachChild(Ni,function(v,g){h=h.set(new et(v),g)}),mb(e,t,n,h,i,s,c,a)}else return t}else{var d=new kr(null);return r.foreach(function(v,g){var y=wt(n,v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),mb(e,t,n,d,i,s,c,a)}}function X6(e,t,n,r,i){var s=t.serverCache,a=rD(t,s.getNode(),s.isFullyInitialized()||Pe(n),s.isFiltered());return lD(e,a,n,r,cD,i)}function J6(e,t,n,r,i,s){var a;if(Bp(r,n)!=null)return t;var c=new mE(r,t,i),l=t.eventCache.getNode(),h=void 0;if(Pe(n)||Oe(n)===".priority"){var d=void 0;if(t.serverCache.isFullyInitialized())d=Vp(r,va(t));else{var v=t.serverCache.getNode();G(v instanceof Se,"serverChildren would be complete if leaf node"),d=vE(r,v)}d=d,h=e.filter.updateFullNode(l,d,s)}else{var g=Oe(n),y=gE(r,g,t.serverCache);y==null&&t.serverCache.isCompleteForChild(g)&&(y=l.getImmediateChild(g)),y!=null?h=e.filter.updateChild(l,g,y,ft(n),c,s):t.eventCache.getNode().hasChild(g)?h=e.filter.updateChild(l,g,Se.EMPTY_NODE,ft(n),c,s):h=l,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Vp(r,va(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||Bp(r,Ye())!=null,Xl(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z6=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new lE(r.getIndex()),s=f6(r);this.processor_=K6(s);var a=n.serverCache,c=n.eventCache,l=i.updateFullNode(Se.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(Se.EMPTY_NODE,c.getNode(),null),d=new is(l,a.isFullyInitialized(),i.filtersNodes()),v=new is(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Xv(v,d),this.eventGenerator_=new I6(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function ez(e){return e.viewCache_.serverCache.getNode()}function tz(e){return jp(e.viewCache_)}function nz(e,t){var n=va(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Pe(t)&&!n.getImmediateChild(Oe(t)).isEmpty())?n.getChild(t):null}function X1(e){return e.eventRegistrations_.length===0}function rz(e,t){e.eventRegistrations_.push(t)}function J1(e,t,n){var r=[];if(n){G(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var c=e.eventRegistrations_[a];if(!c.matches(t))s.push(c);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function Z1(e,t,n,r){t.type===si.MERGE&&t.source.queryId!==null&&(G(va(e.viewCache_),"We should always have a full cache before handling merges"),G(jp(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=G6(e.processor_,i,t,n,r);return W6(e.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,fD(e,s.changes,s.viewCache.eventCache.getNode(),null)}function iz(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(ht,function(s,a){r.push(Qu(s,a))})}return n.isFullyInitialized()&&r.push(JP(n.getNode())),fD(e,r,n.getNode(),t)}function fD(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return S6(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $p,hD=function(){function e(){this.views=new Map}return e}();function oz(e){G(!$p,"__referenceConstructor has already been defined"),$p=e}function sz(){return G($p,"Reference.ts has not been loaded"),$p}function az(e){return e.views.size===0}function yE(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var c=e.views.get(a);return G(c!=null,"SyncTree gave us an op for an invalid query."),Z1(c,t,n,r)}else{var l=[];try{for(var h=sn(e.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(Z1(c,t,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}}function dD(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var c=Vp(n,i?r:null),l=!1;c?l=!0:r instanceof Se?(c=vE(n,r),l=!1):(c=Se.EMPTY_NODE,l=!1);var h=Xv(new is(c,l,!1),new is(r,i,!1));return new Z6(t,h)}return a}function uz(e,t,n,r,i,s){var a=dD(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),rz(a,n),iz(a,n)}function cz(e,t,n,r){var i,s,a=t._queryIdentifier,c=[],l=[],h=os(e);if(a==="default")try{for(var d=sn(e.views.entries()),v=d.next();!v.done;v=d.next()){var g=gn(v.value,2),y=g[0],_=g[1];l=l.concat(J1(_,n,r)),X1(_)&&(e.views.delete(y),_.query._queryParams.loadsAllData()||c.push(_.query))}}catch(b){i={error:b}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var _=e.views.get(a);_&&(l=l.concat(J1(_,n,r)),X1(_)&&(e.views.delete(a),_.query._queryParams.loadsAllData()||c.push(_.query)))}return h&&!os(e)&&c.push(new(sz())(t._repo,t._path)),{removed:c,events:l}}function pD(e){var t,n,r=[];try{for(var i=sn(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Yo(e,t){var n,r,i=null;try{for(var s=sn(e.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||nz(c,t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function vD(e,t){var n=t._queryParams;if(n.loadsAllData())return Zv(e);var r=t._queryIdentifier;return e.views.get(r)}function gD(e,t){return vD(e,t)!=null}function os(e){return Zv(e)!=null}function Zv(e){var t,n;try{for(var r=sn(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hp;function lz(e){G(!Hp,"__referenceConstructor has already been defined"),Hp=e}function fz(){return G(Hp,"Reference.ts has not been loaded"),Hp}var hz=1,eR=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new kr(null),this.pendingWriteTree_=B6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function _E(e,t,n,r,i){return R6(e.pendingWriteTree_,t,n,r,i),i?kc(e,new Yv(fE(),t,n)):[]}function dz(e,t,n,r){N6(e.pendingWriteTree_,t,n,r);var i=kr.fromObject(n);return kc(e,new pE(fE(),t,i))}function Ko(e,t,n){n===void 0&&(n=!1);var r=x6(e.pendingWriteTree_,t),i=O6(e.pendingWriteTree_,t);if(i){var s=new kr(null);return r.snap!=null?s=s.set(Ye(),!0):Qt(r.children,function(a){s=s.set(new et(a),!0)}),kc(e,new T6(r.path,s,n))}else return[]}function nh(e,t,n){return kc(e,new Yv(hE(),t,n))}function pz(e,t,n){var r=kr.fromObject(n);return kc(e,new pE(hE(),t,r))}function vz(e,t){return kc(e,new nD(hE(),t))}function gz(e,t,n){var r=wE(e,n);if(r){var i=bE(r),s=i.path,a=i.queryId,c=Wn(s,t),l=new nD(dE(a),c);return EE(e,s,l)}else return[]}function yb(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||gD(s,t))){var c=cz(s,t,n,r);az(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;a=c.events;var h=l.findIndex(function(x){return x._queryParams.loadsAllData()})!==-1,d=e.syncPointTree_.findOnPath(i,function(x,O){return os(O)});if(h&&!d){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var g=wz(v),y=0;y<g.length;++y){var _=g[y],b=_.query,T=_D(e,_);e.listenProvider_.startListening(Zl(b),Kp(e,b),T.hashFn,T.onComplete)}}if(!d&&l.length>0&&!r)if(h){var C=null;e.listenProvider_.stopListening(Zl(t),C)}else l.forEach(function(x){var O=e.queryToTagMap.get(tg(x));e.listenProvider_.stopListening(Zl(x),O)});bz(e,l)}return a}function mz(e,t,n,r){var i=wE(e,r);if(i!=null){var s=bE(i),a=s.path,c=s.queryId,l=Wn(a,t),h=new Yv(dE(c),l,n);return EE(e,a,h)}else return[]}function yz(e,t,n,r){var i=wE(e,r);if(i){var s=bE(i),a=s.path,c=s.queryId,l=Wn(a,t),h=kr.fromObject(n),d=new pE(dE(c),l,h);return EE(e,a,d)}else return[]}function tR(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(b,T){var C=Wn(b,r);i=i||Yo(T,C),s=s||os(T)});var a=e.syncPointTree_.get(r);a?(s=s||os(a),i=i||Yo(a,Ye())):(a=new hD,e.syncPointTree_=e.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=Se.EMPTY_NODE;var l=e.syncPointTree_.subtree(r);l.foreachChild(function(b,T){var C=Yo(T,Ye());C&&(i=i.updateImmediateChild(b,C))})}var h=gD(a,t);if(!h&&!t._queryParams.loadsAllData()){var d=tg(t);G(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=Ez();e.queryToTagMap.set(d,v),e.tagToQueryMap.set(v,d)}var g=Jv(e.pendingWriteTree_,r),y=uz(a,t,n,g,i,c);if(!h&&!s){var _=vD(a,t);y=y.concat(Tz(e,t,_))}return y}function eg(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,c){var l=Wn(a,t),h=Yo(c,l);if(h)return h});return sD(i,t,s,n,r)}function _z(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,d){var v=Wn(h,n);r=r||Yo(d,v)});var i=e.syncPointTree_.get(n);i?r=r||Yo(i,Ye()):(i=new hD,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new is(r,!0,!1):null,c=Jv(e.pendingWriteTree_,t._path),l=dD(i,t,c,s?a.getNode():Se.EMPTY_NODE,s);return tz(l)}function kc(e,t){return mD(t,e.syncPointTree_,null,Jv(e.pendingWriteTree_,Ye()))}function mD(e,t,n,r){if(Pe(e.path))return yD(e,t,n,r);var i=t.get(Ye());n==null&&i!=null&&(n=Yo(i,Ye()));var s=[],a=Oe(e.path),c=e.operationForChild(a),l=t.children.get(a);if(l&&c){var h=n?n.getImmediateChild(a):null,d=aD(r,a);s=s.concat(mD(c,l,h,d))}return i&&(s=s.concat(yE(i,e,r,n))),s}function yD(e,t,n,r){var i=t.get(Ye());n==null&&i!=null&&(n=Yo(i,Ye()));var s=[];return t.children.inorderTraversal(function(a,c){var l=n?n.getImmediateChild(a):null,h=aD(r,a),d=e.operationForChild(a);d&&(s=s.concat(yD(d,c,l,h)))}),i&&(s=s.concat(yE(i,e,r,n))),s}function _D(e,t){var n=t.query,r=Kp(e,n);return{hashFn:function(){var i=ez(t)||Se.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?gz(e,n._path,r):vz(e,n._path);var s=uG(i,n);return yb(e,n,null,s)}}}function Kp(e,t){var n=tg(t);return e.queryToTagMap.get(n)}function tg(e){return e._path.toString()+"$"+e._queryIdentifier}function wE(e,t){return e.tagToQueryMap.get(t)}function bE(e){var t=e.indexOf("$");return G(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new et(e.substr(0,t))}}function EE(e,t,n){var r=e.syncPointTree_.get(t);G(r,"Missing sync point for query tag that we're tracking");var i=Jv(e.pendingWriteTree_,t);return yE(r,n,i,null)}function wz(e){return e.fold(function(t,n,r){if(n&&os(n)){var i=Zv(n);return[i]}else{var s=[];return n&&(s=pD(n)),Qt(r,function(a,c){s=s.concat(c)}),s}})}function Zl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(fz())(e._repo,e._path):e}function bz(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=tg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function Ez(){return hz++}function Tz(e,t,n){var r=t._path,i=Kp(e,t),s=_D(e,n),a=e.listenProvider_.startListening(Zl(t),i,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(i)G(!os(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,g,y){if(!Pe(v)&&g&&os(g))return[Zv(g).query];var _=[];return g&&(_=_.concat(pD(g).map(function(b){return b.query}))),Qt(y,function(b,T){_=_.concat(T)}),_}),h=0;h<l.length;++h){var d=l[h];e.listenProvider_.stopListening(Zl(d),Kp(e,d))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iz=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),Sz=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=wt(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return eg(this.syncTree_,this.path_)},e}(),Cz=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},nR=function(e,t,n){if(!e||typeof e!="object")return e;if(G(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Az(e[".sv"],t,n);if(typeof e[".sv"]=="object")return kz(e[".sv"],t);G(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Az=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+e)}},kz=function(e,t,n){e.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);var i=t.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},wD=function(e,t,n,r){return IE(t,new Sz(n,e),r)},TE=function(e,t,n){return IE(e,new Iz(t),n)};function IE(e,t,n){var r=e.getPriority().val(),i=nR(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,c=nR(a.getValue(),t,n);return c!==a.getValue()||i!==a.getPriority().val()?new Gu(c,Et(i)):e}else{var l=e;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new Gu(i))),l.forEachChild(ht,function(h,d){var v=IE(d,t.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SE=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function ng(e,t){for(var n=t instanceof et?t:new et(t),r=e,i=Oe(n);i!==null;){var s=pa(r.node.children,i)||{children:{},childCount:0};r=new SE(i,r,s),n=ft(n),i=Oe(n)}return r}function Oa(e){return e.node.value}function CE(e,t){e.node.value=t,_b(e)}function bD(e){return e.node.childCount>0}function Rz(e){return Oa(e)===void 0&&!bD(e)}function rg(e,t){Qt(e.node.children,function(n,r){t(new SE(n,e,r))})}function ED(e,t,n,r){n&&!r&&t(e),rg(e,function(i){ED(i,t,!0,r)}),n&&r&&t(e)}function Nz(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function rh(e){return new et(e.parent===null?e.name:rh(e.parent)+"/"+e.name)}function _b(e){e.parent!==null&&xz(e.parent,e.name,e)}function xz(e,t,n){var r=Rz(n),i=Ar(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,_b(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,_b(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oz=/[\[\].#$\/\u0000-\u001F\u007F]/,Pz=/[\[\].#$\u0000-\u001F\u007F]/,Q_=10*1024*1024,ig=function(e){return typeof e=="string"&&e.length!==0&&!Oz.test(e)},TD=function(e){return typeof e=="string"&&e.length!==0&&!Pz.test(e)},Dz=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),TD(e)},Cf=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Gv(e)||e&&typeof e=="object"&&Ar(e,".sv")},Ui=function(e,t,n,r){r&&t===void 0||ih(ur(e,"value"),t,n)},ih=function(e,t,n){var r=n instanceof et?new qG(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Vs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Vs(r)+" with contents = "+t.toString());if(Gv(t))throw new Error(e+"contains "+t.toString()+" "+Vs(r));if(typeof t=="string"&&t.length>Q_/3&&Wv(t)>Q_)throw new Error(e+"contains a string greater than "+Q_+" utf8 bytes "+Vs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Qt(t,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!ig(a)))throw new Error(e+" contains an invalid key ("+a+") "+Vs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$G(r,a),ih(e,c,r),HG(r)}),i&&s)throw new Error(e+' contains ".value" child '+Vs(r)+" in addition to actual children.")}},Mz=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Tf(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!ig(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(BG);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Mr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},ID=function(e,t,n,r){if(!(r&&t===void 0)){var i=ur(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Qt(t,function(a,c){var l=new et(a);if(ih(i,c,wt(n,l)),oE(l)===".priority"&&!Cf(c))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Mz(i,s)}},AE=function(e,t,n){if(!(n&&t===void 0)){if(Gv(t))throw new Error(ur(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Cf(t))throw new Error(ur(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Lz=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ur(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},oh=function(e,t,n,r){if(!(r&&n===void 0)&&!ig(n))throw new Error(ur(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Af=function(e,t,n,r){if(!(r&&n===void 0)&&!TD(n))throw new Error(ur(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Fz=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Af(e,t,n,r)},Lr=function(e,t){if(Oe(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},SD=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ig(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Dz(n))throw new Error(ur(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},Uz=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(ur(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jz=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function og(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!sE(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function kE(e,t,n){og(e,n),CD(e,function(r){return sE(r,t)})}function Hr(e,t,n){og(e,n),CD(e,function(r){return Mr(r,t)||Mr(t,r)})}function CD(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(Vz(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Vz(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();ra&&en("event: "+n.toString()),Cc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AD="repo_interrupt",Bz=25,qz=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Up(),this.transactionQueueTree_=new SE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function $z(e,t,n){if(e.stats_=rE(e.repoInfo_),e.forceRestClient_||lG())e.server_=new g6(e.repoInfo_,function(r,i,s,a){rR(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return iR(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Kt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ia(e.repoInfo_,t,function(r,i,s,a){rR(e,r,i,s,a)},function(r){iR(e,r)},function(r){Kz(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=gG(e.repoInfo_,function(){return new b6(e.stats_,e.server_)}),e.infoData_=new m6,e.infoSyncTree_=new eR({startListening:function(r,i,s,a){var c=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(c=nh(e.infoSyncTree_,r._path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),RE(e,"connected",!1),e.serverSyncTree_=new eR({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(c,l){var h=a(c,l);Hr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function kD(e){var t=e.infoData_.getNode(new et(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function sh(e){return Cz({timestamp:kD(e)})}function rR(e,t,n,r,i){e.dataUpdateCount++;var s=new et(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var c=Op(n,function(g){return Et(g)});a=yz(e.serverSyncTree_,s,c,i)}else{var l=Et(n);a=mz(e.serverSyncTree_,s,l,i)}else if(r){var h=Op(n,function(g){return Et(g)});a=pz(e.serverSyncTree_,s,h)}else{var d=Et(n);a=nh(e.serverSyncTree_,s,d)}var v=s;a.length>0&&(v=Xu(e,s)),Hr(e.eventQueue_,v,a)}function Hz(e,t){e.interceptServerDataCallback_=t}function iR(e,t){RE(e,"connected",t),t===!1&&zz(e)}function Kz(e,t){Qt(t,function(n,r){RE(e,n,r)})}function RE(e,t,n){var r=new et("/.info/"+t),i=Et(n);e.infoData_.updateSnapshot(r,i);var s=nh(e.infoSyncTree_,r,i);Hr(e.eventQueue_,r,s)}function sg(e){return e.nextWriteId_++}function Wz(e,t){var n=_z(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=Et(r).withIndex(t._queryParams.getIndex()),s=nh(e.serverSyncTree_,t._path,i);return kE(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Rc(e,"get for query "+Kt(t)+" failed: "+r),Promise.reject(new Error(r))})}function NE(e,t,n,r,i){Rc(e,"set",{path:t.toString(),value:n,priority:r});var s=sh(e),a=Et(n,r),c=eg(e.serverSyncTree_,t),l=TE(a,c,s),h=sg(e),d=_E(e.serverSyncTree_,t,l,h,!0);og(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),function(g,y){var _=g==="ok";_||yn("set at "+t+" failed: "+g);var b=Ko(e.serverSyncTree_,h,!_);Hr(e.eventQueue_,t,b),ss(e,i,g,y)});var v=OE(e,t);Xu(e,v),Hr(e.eventQueue_,v,[])}function Gz(e,t,n,r){Rc(e,"update",{path:t.toString(),value:n});var i=!0,s=sh(e),a={};if(Qt(n,function(h,d){i=!1,a[h]=wD(wt(t,h),Et(d),e.serverSyncTree_,s)}),i)en("update() called with empty data.  Don't do anything."),ss(e,r,"ok",void 0);else{var c=sg(e),l=dz(e.serverSyncTree_,t,a,c);og(e.eventQueue_,l),e.server_.merge(t.toString(),n,function(h,d){var v=h==="ok";v||yn("update at "+t+" failed: "+h);var g=Ko(e.serverSyncTree_,c,!v),y=g.length>0?Xu(e,t):t;Hr(e.eventQueue_,y,g),ss(e,r,h,d)}),Qt(n,function(h){var d=OE(e,wt(t,h));Xu(e,d)}),Hr(e.eventQueue_,t,[])}}function zz(e){Rc(e,"onDisconnectEvents");var t=sh(e),n=Up();hb(e.onDisconnect_,Ye(),function(i,s){var a=wD(i,s,e.serverSyncTree_,t);Ac(n,i,a)});var r=[];hb(n,Ye(),function(i,s){r=r.concat(nh(e.serverSyncTree_,i,s));var a=OE(e,i);Xu(e,a)}),e.onDisconnect_=Up(),Hr(e.eventQueue_,Ye(),r)}function Qz(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&fb(e.onDisconnect_,t),ss(e,n,r,i)})}function oR(e,t,n,r){var i=Et(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Ac(e.onDisconnect_,t,i),ss(e,r,s,a)})}function Yz(e,t,n,r,i){var s=Et(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,c){a==="ok"&&Ac(e.onDisconnect_,t,s),ss(e,i,a,c)})}function Xz(e,t,n,r){if(nb(n)){en("onDisconnect().update() called with empty data.  Don't do anything."),ss(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Qt(n,function(a,c){var l=Et(c);Ac(e.onDisconnect_,wt(t,a),l)}),ss(e,r,i,s)})}function Jz(e,t,n){var r;Oe(t._path)===".info"?r=tR(e.infoSyncTree_,t,n):r=tR(e.serverSyncTree_,t,n),kE(e.eventQueue_,t._path,r)}function wb(e,t,n){var r;Oe(t._path)===".info"?r=yb(e.infoSyncTree_,t,n):r=yb(e.serverSyncTree_,t,n),kE(e.eventQueue_,t._path,r)}function RD(e){e.persistentConnection_&&e.persistentConnection_.interrupt(AD)}function Zz(e){e.persistentConnection_&&e.persistentConnection_.resume(AD)}function e5(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new tD(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Qt(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}}function t5(e,t){e.stats_.incrementCounter(t),E6(e.statsReporter_,t)}function Rc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),en.apply(void 0,xe([r],gn(t)))}function ss(e,t,n,r){t&&Cc(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function n5(e,t,n,r,i,s){Rc(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:wP(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=xE(e,t,void 0);a.currentInputSnapshot=c;var l=a.update(c.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{ih("transaction failed: Data returned ",l,a.path),a.status=0;var h=ng(e.transactionQueueTree_,t),d=Oa(h)||[];d.push(a),CE(h,d);var v=void 0;if(typeof l=="object"&&l!==null&&Ar(l,".priority"))v=pa(l,".priority"),G(Cf(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=eg(e.serverSyncTree_,t)||Se.EMPTY_NODE;v=g.getPriority().val()}var y=sh(e),_=Et(l,v),b=TE(_,c,y);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=b,a.currentWriteId=sg(e);var T=_E(e.serverSyncTree_,t,b,a.currentWriteId,a.applyLocally);Hr(e.eventQueue_,t,T),ag(e,e.transactionQueueTree_)}}function xE(e,t,n){return eg(e.serverSyncTree_,t,n)||Se.EMPTY_NODE}function ag(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||ug(e,t),Oa(t)){var n=xD(e,t);G(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&r5(e,rh(t),n)}else bD(t)&&rg(t,function(i){ag(e,i)})}function r5(e,t,n){for(var r=n.map(function(g){return g.currentWriteId}),i=xE(e,t,r),s=i,a=i.hash(),c=0;c<n.length;c++){var l=n[c];G(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var h=Wn(t,l.path);s=s.updateChild(h,l.currentOutputSnapshotRaw)}var d=s.val(!0),v=t;e.server_.put(v.toString(),d,function(g){Rc(e,"transaction put response",{path:v.toString(),status:g});var y=[];if(g==="ok"){for(var _=[],b=function(C){n[C].status=2,y=y.concat(Ko(e.serverSyncTree_,n[C].currentWriteId)),n[C].onComplete&&_.push(function(){return n[C].onComplete(null,!0,n[C].currentOutputSnapshotResolved)}),n[C].unwatcher()},T=0;T<n.length;T++)b(T);ug(e,ng(e.transactionQueueTree_,t)),ag(e,e.transactionQueueTree_),Hr(e.eventQueue_,t,y);for(var T=0;T<_.length;T++)Cc(_[T])}else{if(g==="datastale")for(var T=0;T<n.length;T++)n[T].status===3?n[T].status=4:n[T].status=0;else{yn("transaction at "+v.toString()+" failed: "+g);for(var T=0;T<n.length;T++)n[T].status=4,n[T].abortReason=g}Xu(e,t)}},a)}function Xu(e,t){var n=ND(e,t),r=rh(n),i=xD(e,n);return i5(e,i,r),r}function i5(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),c=function(h){var d=t[h],v=Wn(n,d.path),g=!1,y;if(G(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,i=i.concat(Ko(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=Bz)g=!0,y="maxretry",i=i.concat(Ko(e.serverSyncTree_,d.currentWriteId,!0));else{var _=xE(e,d.path,a);d.currentInputSnapshot=_;var b=t[h].update(_.val());if(b!==void 0){ih("transaction failed: Data returned ",b,d.path);var T=Et(b),C=typeof b=="object"&&b!=null&&Ar(b,".priority");C||(T=T.updatePriority(_.getPriority()));var x=d.currentWriteId,O=sh(e),L=TE(T,_,O);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=L,d.currentWriteId=sg(e),a.splice(a.indexOf(x),1),i=i.concat(_E(e.serverSyncTree_,d.path,L,d.currentWriteId,d.applyLocally)),i=i.concat(Ko(e.serverSyncTree_,x,!0))}else g=!0,y="nodata",i=i.concat(Ko(e.serverSyncTree_,d.currentWriteId,!0))}Hr(e.eventQueue_,n,i),i=[],g&&(t[h].status=2,function($){setTimeout($,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},l=0;l<t.length;l++)c(l);ug(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Cc(r[l]);ag(e,e.transactionQueueTree_)}}function ND(e,t){var n,r=e.transactionQueueTree_;for(n=Oe(t);n!==null&&Oa(r)===void 0;)r=ng(r,n),t=ft(t),n=Oe(t);return r}function xD(e,t){var n=[];return OD(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function OD(e,t,n){var r=Oa(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);rg(t,function(s){OD(e,s,n)})}function ug(e,t){var n=Oa(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,CE(t,n.length>0?n:void 0)}rg(t,function(s){ug(e,s)})}function OE(e,t){var n=rh(ND(e,t)),r=ng(e.transactionQueueTree_,t);return Nz(r,function(i){Y_(e,i)}),Y_(e,r),ED(r,function(i){Y_(e,i)}),n}function Y_(e,t){var n=Oa(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(G(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(G(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ko(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?CE(t,void 0):n.length=s+1,Hr(e.eventQueue_,rh(t),i);for(var a=0;a<r.length;a++)Cc(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function s5(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=sn(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):yn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var bb=function(e,t){var n=a5(e),r=n.namespace;n.domain==="firebase.com"&&Li(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Li("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rG();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new nE(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new et(n.pathString)}},a5=function(e){var t="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(c=e.substring(0,h-1),e=e.substring(h+2));var d=e.indexOf("/");d===-1&&(d=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(d,v)),d<v&&(i=o5(e.substring(d,v)));var g=s5(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in g&&(s=g.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PD=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Kt(this.snapshot.exportVal())},e}(),DD=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MD=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u5=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new rn;return Qz(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){Lr("OnDisconnect.remove",this._path);var t=new rn;return oR(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){Lr("OnDisconnect.set",this._path),Ui("OnDisconnect.set",t,this._path,!1);var n=new rn;return oR(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){Lr("OnDisconnect.setWithPriority",this._path),Ui("OnDisconnect.setWithPriority",t,this._path,!1),AE("OnDisconnect.setWithPriority",n,!1);var r=new rn;return Yz(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){Lr("OnDisconnect.update",this._path),ID("OnDisconnect.update",t,this._path,!1);var n=new rn;return Xz(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return Pe(this._path)?null:oE(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Bi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=H1(this._queryParams),n=Z0(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return H1(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=Ne(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=sE(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+VG(this._path)},e}();function cg(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function cs(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ni){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==co)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Fi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===ht){if(t!=null&&!Cf(t)||n!=null&&!Cf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(G(e.getIndex()instanceof uE||e.getIndex()===cE,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Bi=function(e){te(t,e);function t(n,r){return e.call(this,n,r,new eD,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=$P(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Wr),fg=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new et(t),r=ga(this.ref,t);return new e(this._node.getChild(n),r,ht)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,ga(n.ref,i),ht))})},e.prototype.hasChild=function(t){var n=new et(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function LD(e,t){return e=Ne(e),e._checkNotDeleted("ref"),t!==void 0?ga(e._root,t):e._root}function sR(e,t){e=Ne(e),e._checkNotDeleted("refFromURL");var n=bb(t,e._repo.repoInfo_.nodeAdmin);SD("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Li("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),LD(e,n.path.toString())}function ga(e,t){return e=Ne(e),Oe(e._path)===null?Fz("child","path",t,!1):Af("child","path",t,!1),new Bi(e._repo,wt(e._path,t))}function c5(e,t){e=Ne(e),Lr("push",e._path),Ui("push",t,e._path,!0);var n=kD(e._repo),r=u6(n),i=ga(e,r),s=ga(e,r),a;return t!=null?a=PE(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function l5(e){return Lr("remove",e._path),PE(e,null)}function PE(e,t){e=Ne(e),Lr("set",e._path),Ui("set",t,e._path,!1);var n=new rn;return NE(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function f5(e,t){e=Ne(e),Lr("setPriority",e._path),AE("setPriority",t,!1);var n=new rn;return NE(e._repo,wt(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function h5(e,t,n){if(Lr("setWithPriority",e._path),Ui("setWithPriority",t,e._path,!1),AE("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new rn;return NE(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function d5(e,t){ID("update",t,e._path,!1);var n=new rn;return Gz(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function p5(e){return e=Ne(e),Wz(e._repo,e).then(function(t){return new fg(t,new Bi(e._repo,e._path),e._queryParams.getIndex())})}var FD=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new PD("value",this,new fg(t.snapshotNode,new Bi(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new DD(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),UD=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new DD(this,t,n):null},e.prototype.createEvent=function(t,n){G(t.childName!=null,"Child events should have a childName.");var r=ga(new Bi(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new PD(t.type,this,new fg(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function ah(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,c=function(d,v){wb(e._repo,e,h),a(d,v)};c.userCallback=n.userCallback,c.context=n.context,n=c}var l=new MD(n,s||void 0),h=t==="value"?new FD(l):new UD(t,l);return Jz(e._repo,e,h),function(){return wb(e._repo,e,h)}}function Eb(e,t,n,r){return ah(e,"value",t,n,r)}function aR(e,t,n,r){return ah(e,"child_added",t,n,r)}function uR(e,t,n,r){return ah(e,"child_changed",t,n,r)}function cR(e,t,n,r){return ah(e,"child_moved",t,n,r)}function lR(e,t,n,r){return ah(e,"child_removed",t,n,r)}function fR(e,t,n){var r=null,i=n?new MD(n):null;t==="value"?r=new FD(i):t&&(r=new UD(t,i)),wb(e._repo,e,r)}var hi=function(){function e(){}return e}(),jD=function(e){te(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ui("endAt",this._value,n._path,!0);var r=lb(n._queryParams,this._value,this._key);if(lg(r),cs(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wr(n._repo,n._path,r,n._orderByCalled)},t}(hi);function v5(e,t){return oh("endAt","key",t,!0),new jD(e,t)}var g5=function(e){te(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ui("endBefore",this._value,n._path,!1);var r=v6(n._queryParams,this._value,this._key);if(lg(r),cs(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wr(n._repo,n._path,r,n._orderByCalled)},t}(hi);function m5(e,t){return oh("endBefore","key",t,!0),new g5(e,t)}var VD=function(e){te(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ui("startAt",this._value,n._path,!0);var r=cb(n._queryParams,this._value,this._key);if(lg(r),cs(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Wr(n._repo,n._path,r,n._orderByCalled)},t}(hi);function y5(e,t){return e===void 0&&(e=null),oh("startAt","key",t,!0),new VD(e,t)}var _5=function(e){te(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ui("startAfter",this._value,n._path,!1);var r=p6(n._queryParams,this._value,this._key);if(lg(r),cs(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Wr(n._repo,n._path,r,n._orderByCalled)},t}(hi);function w5(e,t){return oh("startAfter","key",t,!0),new _5(e,t)}var b5=function(e){te(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wr(n._repo,n._path,h6(n._queryParams,this._limit),n._orderByCalled)},t}(hi);function E5(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new b5(e)}var T5=function(e){te(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wr(n._repo,n._path,d6(n._queryParams,this._limit),n._orderByCalled)},t}(hi);function I5(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new T5(e)}var S5=function(e){te(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){cg(n,"orderByChild");var r=new et(this._path);if(Pe(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new uE(r),s=Qv(n._queryParams,i);return cs(s),new Wr(n._repo,n._path,s,!0)},t}(hi);function C5(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Af("orderByChild","path",e,!1),new S5(e)}var A5=function(e){te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){cg(n,"orderByKey");var r=Qv(n._queryParams,Ni);return cs(r),new Wr(n._repo,n._path,r,!0)},t}(hi);function k5(){return new A5}var R5=function(e){te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){cg(n,"orderByPriority");var r=Qv(n._queryParams,ht);return cs(r),new Wr(n._repo,n._path,r,!0)},t}(hi);function N5(){return new R5}var x5=function(e){te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){cg(n,"orderByValue");var r=Qv(n._queryParams,cE);return cs(r),new Wr(n._repo,n._path,r,!0)},t}(hi);function O5(){return new x5}var P5=function(e){te(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Ui("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new jD(this._value,this._key)._apply(new VD(this._value,this._key)._apply(n))},t}(hi);function D5(e,t){return oh("equalTo","key",t,!0),new P5(e,t)}function Zr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Ne(e);try{for(var a=sn(r),c=a.next();!c.done;c=a.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}oz(Bi);lz(Bi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M5="FIREBASE_DATABASE_EMULATOR_HOST",Tb={},BD=!1;function L5(e,t,n,r){e.repoInfo_=new nE(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function qD(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Li("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),en("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=bb(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=process.env[M5]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=bb(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new Yl(Yl.OWNER):new hG(e.name,e.options,t);SD("Invalid Firebase Database URL",a),Pe(a.path)||Li("Database URL must point to the root of a Firebase Database (not including a child path).");var v=U5(c,e,d,new fG(e.name,n));return new V5(v,e)}function F5(e,t){var n=Tb[t];(!n||n[e.key]!==e)&&Li("Database "+t+"("+e.repoInfo_+") has already been deleted."),RD(e),delete n[e.key]}function U5(e,t,n,r){var i=Tb[t.name];i||(i={},Tb[t.name]=i);var s=i[e.toURLString()];return s&&Li("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new qz(e,BD,n,r),i[e.toURLString()]=s,s}function j5(e){BD=e}var V5=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||($z(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Bi(this._repo,Ye())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(F5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Li("Cannot call "+t+" on a deleted database.")},e}();function B5(e,t,n,r){r===void 0&&(r={}),e=Ne(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Li("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Li('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Yl(Yl.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:W0(r.mockUserToken,e.app.options.projectId);s=new Yl(a)}L5(i,t,n,s)}function q5(e){e=Ne(e),e._checkNotDeleted("goOffline"),RD(e._repo)}function $5(e){e=Ne(e),e._checkNotDeleted("goOnline"),Zz(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H5={".sv":"timestamp"};function K5(){return H5}function W5(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G5=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function z5(e,t,n){var r;if(e=Ne(e),Lr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new rn,a=function(l,h,d){var v=null;l?s.reject(l):(v=new fg(d,new Bi(e._repo,e._path),ht),s.resolve(new G5(h,v)))},c=Eb(e,function(){});return n5(e._repo,e._path,t,a,c,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q5=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){we("OnDisconnect.cancel",0,1,arguments.length),Jt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){we("OnDisconnect.remove",0,1,arguments.length),Jt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){we("OnDisconnect.set",1,2,arguments.length),Jt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){we("OnDisconnect.setWithPriority",2,3,arguments.length),Jt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(we("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,yn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y5=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return we("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ef=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return we("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return we("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return we("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return we("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return we("DataSnapshot.child",0,1,arguments.length),t=String(t),Af("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return we("DataSnapshot.hasChild",1,1,arguments.length),Af("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return we("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return we("DataSnapshot.forEach",1,1,arguments.length),Jt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return we("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return we("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return we("DataSnapshot.ref",0,0,arguments.length),new Qs(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),$D=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;we("Query.on",2,4,arguments.length),Jt("Query.on","callback",n,!1);var c=e.getCancelAndContextArgs_("Query.on",r,i),l=function(d,v){n.call(c.context,new ef(s.database,d),v)};l.userCallback=n,l.context=c.context;var h=(a=c.cancel)===null||a===void 0?void 0:a.bind(c.context);switch(t){case"value":return Eb(this._delegate,l,h),n;case"child_added":return aR(this._delegate,l,h),n;case"child_removed":return lR(this._delegate,l,h),n;case"child_changed":return uR(this._delegate,l,h),n;case"child_moved":return cR(this._delegate,l,h),n;default:throw new Error(ur("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(we("Query.off",0,3,arguments.length),Lz("Query.off",t,!0),Jt("Query.off","callback",n,!0),S1("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,fR(this._delegate,t,i)}else fR(this._delegate,t)},e.prototype.get=function(){var t=this;return p5(this._delegate).then(function(n){return new ef(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;we("Query.once",1,4,arguments.length),Jt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),c=new rn,l=function(d,v){var g=new ef(s.database,d);n&&n.call(a.context,g,v),c.resolve(g)};l.userCallback=n,l.context=a.context;var h=function(d){a.cancel&&a.cancel.call(a.context,d),c.reject(d)};switch(t){case"value":Eb(this._delegate,l,h,{onlyOnce:!0});break;case"child_added":aR(this._delegate,l,h,{onlyOnce:!0});break;case"child_removed":lR(this._delegate,l,h,{onlyOnce:!0});break;case"child_changed":uR(this._delegate,l,h,{onlyOnce:!0});break;case"child_moved":cR(this._delegate,l,h,{onlyOnce:!0});break;default:throw new Error(ur("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},e.prototype.limitToFirst=function(t){return we("Query.limitToFirst",1,1,arguments.length),new e(this.database,Zr(this._delegate,E5(t)))},e.prototype.limitToLast=function(t){return we("Query.limitToLast",1,1,arguments.length),new e(this.database,Zr(this._delegate,I5(t)))},e.prototype.orderByChild=function(t){return we("Query.orderByChild",1,1,arguments.length),new e(this.database,Zr(this._delegate,C5(t)))},e.prototype.orderByKey=function(){return we("Query.orderByKey",0,0,arguments.length),new e(this.database,Zr(this._delegate,k5()))},e.prototype.orderByPriority=function(){return we("Query.orderByPriority",0,0,arguments.length),new e(this.database,Zr(this._delegate,N5()))},e.prototype.orderByValue=function(){return we("Query.orderByValue",0,0,arguments.length),new e(this.database,Zr(this._delegate,O5()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),we("Query.startAt",0,2,arguments.length),new e(this.database,Zr(this._delegate,y5(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),we("Query.startAfter",0,2,arguments.length),new e(this.database,Zr(this._delegate,w5(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),we("Query.endAt",0,2,arguments.length),new e(this.database,Zr(this._delegate,v5(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),we("Query.endBefore",0,2,arguments.length),new e(this.database,Zr(this._delegate,m5(t,n)))},e.prototype.equalTo=function(t,n){return we("Query.equalTo",1,2,arguments.length),new e(this.database,Zr(this._delegate,D5(t,n)))},e.prototype.toString=function(){return we("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return we("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(we("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Jt(t,"cancel",i.cancel,!0),i.context=r,S1(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(ur(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Qs(this.database,new Bi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Qs=function(e){te(t,e);function t(n,r){var i=e.call(this,n,new Wr(r._repo,r._path,new eD,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return we("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return we("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,ga(this._delegate,n))},t.prototype.getParent=function(){we("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return we("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){we("Reference.set",1,2,arguments.length),Jt("Reference.set","onComplete",r,!0);var i=PE(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(we("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,yn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lr("Reference.update",this._delegate._path),Jt("Reference.update","onComplete",r,!0);var a=d5(this._delegate,n);return r&&a.then(function(){return r(null)},function(c){return r(c)}),a},t.prototype.setWithPriority=function(n,r,i){we("Reference.setWithPriority",2,3,arguments.length),Jt("Reference.setWithPriority","onComplete",i,!0);var s=h5(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){we("Reference.remove",0,1,arguments.length),Jt("Reference.remove","onComplete",n,!0);var r=l5(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;we("Reference.transaction",1,3,arguments.length),Jt("Reference.transaction","transactionUpdate",n,!1),Jt("Reference.transaction","onComplete",r,!0),Uz("Reference.transaction","applyLocally",i,!0);var a=z5(this._delegate,n,{applyLocally:i}).then(function(c){return new Y5(c.committed,new ef(s.database,c.snapshot))});return r&&a.then(function(c){return r(null,c.committed,c.snapshot)},function(c){return r(c,!1,null)}),a},t.prototype.setPriority=function(n,r){we("Reference.setPriority",1,2,arguments.length),Jt("Reference.setPriority","onComplete",r,!0);var i=f5(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;we("Reference.push",0,2,arguments.length),Jt("Reference.push","onComplete",r,!0);var s=c5(this._delegate,n),a=s.then(function(l){return new t(i.database,l)});r&&a.then(function(){return r(null)},function(l){return r(l)});var c=new t(this.database,s);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c},t.prototype.onDisconnect=function(){return Lr("Reference.onDisconnect",this._delegate._path),new Q5(new u5(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}($D);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wp=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),B5(this._delegate,t,n,r)},e.prototype.ref=function(t){if(we("database.ref",0,1,arguments.length),t instanceof Qs){var n=sR(this._delegate,t.toString());return new Qs(this,n)}else{var n=LD(this._delegate,t);return new Qs(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";we(n,1,1,arguments.length);var r=sR(this._delegate,t);return new Qs(this,r)},e.prototype.goOffline=function(){return we("database.goOffline",0,0,arguments.length),q5(this._delegate)},e.prototype.goOnline=function(){return we("database.goOnline",0,0,arguments.length),$5(this._delegate)},e.ServerValue={TIMESTAMP:K5(),increment:function(t){return W5(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X5=function(){Ks.forceDisallow(),iE.forceAllow()},J5=function(){iE.forceDisallow()},Z5=function(){return Ks.isAvailable()},eQ=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},tQ=function(e,t){e5(e._delegate._repo,t)},nQ=function(e,t){t5(e._delegate._repo,t)},rQ=function(e){return e._delegate._repo.dataUpdateCount},iQ=function(e,t){return Hz(e._delegate._repo,t)};function oQ(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,c=a===void 0?!1:a;yP(r);var l=new hP("auth-internal",new dP("database-standalone"));return l.setComponent(new xn("auth-internal",function(){return i},"PRIVATE")),{instance:new Wp(qD(t,l,void 0,n,c),t),namespace:s}}var sQ=Object.freeze({__proto__:null,forceLongPolling:X5,forceWebSockets:J5,isWebSocketsAvailable:Z5,setSecurityDebugCallback:eQ,stats:tQ,statsIncrementCounter:nQ,dataUpdateCount:rQ,interceptServerData:iQ,initStandalone:oQ});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aQ=ia;ia.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ia.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var uQ=VP,cQ=function(e){var t=ia.prototype.put;return ia.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){ia.prototype.put=t}},lQ=nE,fQ=function(e){return e._delegate._queryIdentifier},hQ=function(e){j5(e)},dQ=Object.freeze({__proto__:null,DataConnection:aQ,RealTimeConnection:uQ,hijackHash:cQ,ConnectionTarget:lQ,queryIdentifier:fQ,forceRestClient:hQ});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pQ=Wp.ServerValue;function vQ(e){yP(e.SDK_VERSION),e.INTERNAL.registerComponent(new xn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Wp(qD(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Qs,Query:$D,Database:Wp,DataSnapshot:ef,enableLogging:EP,INTERNAL:sQ,ServerValue:pQ,TEST_ACCESS:dQ}).setMultipleInstances(!0)),e.registerVersion(ZW,eG)}vQ(re);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ib=function(e,t){return Ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ib(e,t)};function gQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ib(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function HD(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var mQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae,DE=DE||{},Ie=mQ||self;function Gp(){}function Sb(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function uh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function yQ(e){return Object.prototype.hasOwnProperty.call(e,X_)&&e[X_]||(e[X_]=++_Q)}var X_="closure_uid_"+(1e9*Math.random()>>>0),_Q=0;function wQ(e,t,n){return e.call.apply(e.bind,arguments)}function bQ(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function _n(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_n=wQ:_n=bQ,_n.apply(null,arguments)}function Bd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function En(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[i].apply(r,a)}}function ls(){this.s=this.s,this.o=this.o}var EQ=0;ls.prototype.s=!1;ls.prototype.na=function(){!this.s&&(this.s=!0,this.M(),EQ!=0)&&yQ(this)};ls.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var KD=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},WD=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function TQ(e){e:{for(var t=pY,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function hR(e){return Array.prototype.concat.apply([],arguments)}function ME(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function zp(e){return/^[\s\xa0]*$/.test(e)}var dR=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Hn(e,t){return e.indexOf(t)!=-1}function J_(e,t){return e<t?-1:e>t?1:0}var Kn;e:{var pR=Ie.navigator;if(pR){var vR=pR.userAgent;if(vR){Kn=vR;break e}}Kn=""}function LE(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function GD(e){var t={};for(var n in e)t[n]=e[n];return t}var gR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zD(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<gR.length;s++)n=gR[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function FE(e){return FE[" "](e),e}FE[" "]=Gp;function IQ(e){var t=AQ;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var SQ=Hn(Kn,"Opera"),Ju=Hn(Kn,"Trident")||Hn(Kn,"MSIE"),QD=Hn(Kn,"Edge"),Cb=QD||Ju,YD=Hn(Kn,"Gecko")&&!(Hn(Kn.toLowerCase(),"webkit")&&!Hn(Kn,"Edge"))&&!(Hn(Kn,"Trident")||Hn(Kn,"MSIE"))&&!Hn(Kn,"Edge"),CQ=Hn(Kn.toLowerCase(),"webkit")&&!Hn(Kn,"Edge");function XD(){var e=Ie.document;return e?e.documentMode:void 0}var Qp;e:{var Z_="",ew=function(){var e=Kn;if(YD)return/rv:([^\);]+)(\)|;)/.exec(e);if(QD)return/Edge\/([\d\.]+)/.exec(e);if(Ju)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(CQ)return/WebKit\/(\S+)/.exec(e);if(SQ)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(ew&&(Z_=ew?ew[1]:""),Ju){var tw=XD();if(tw!=null&&tw>parseFloat(Z_)){Qp=String(tw);break e}}Qp=Z_}var AQ={};function kQ(){return IQ(function(){for(var e=0,t=dR(String(Qp)).split("."),n=dR("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=J_(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||J_(s[2].length==0,a[2].length==0)||J_(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var Ab;if(Ie.document&&Ju){var mR=XD();Ab=mR||parseInt(Qp,10)||void 0}else Ab=void 0;var RQ=Ab,NQ=function(){if(!Ie.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ie.addEventListener("test",Gp,t),Ie.removeEventListener("test",Gp,t)}catch{}return e}();function kn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}kn.prototype.h=function(){this.defaultPrevented=!0};function kf(e,t){if(kn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(YD){e:{try{FE(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:xQ[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&kf.Z.h.call(this)}}En(kf,kn);var xQ={2:"touch",3:"pen",4:"mouse"};kf.prototype.h=function(){kf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),OQ=0;function PQ(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++OQ,this.ca=this.fa=!1}function hg(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function dg(e){this.src=e,this.g={},this.h=0}dg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Rb(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new PQ(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function kb(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=KD(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(hg(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Rb(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var UE="closure_lm_"+(1e6*Math.random()|0),nw={};function JD(e,t,n,r,i){if(r&&r.once)return eM(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)JD(e,t[s],n,r,i);return null}return n=BE(n),e&&e[ch]?e.N(t,n,uh(r)?!!r.capture:!!r,i):ZD(e,t,n,!1,r,i)}function ZD(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=uh(i)?!!i.capture:!!i,c=VE(e);if(c||(e[UE]=c=new dg(e)),n=c.add(t,n,r,a,s),n.proxy)return n;if(r=DQ(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)NQ||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(nM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function DQ(){function e(n){return t.call(e.src,e.listener,n)}var t=MQ;return e}function eM(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)eM(e,t[s],n,r,i);return null}return n=BE(n),e&&e[ch]?e.O(t,n,uh(r)?!!r.capture:!!r,i):ZD(e,t,n,!0,r,i)}function tM(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)tM(e,t[s],n,r,i);else r=uh(r)?!!r.capture:!!r,n=BE(n),e&&e[ch]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Rb(s,n,r,i),-1<n&&(hg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=VE(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rb(t,n,r,i)),(n=-1<e?t[e]:null)&&jE(n))}function jE(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[ch])kb(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(nM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=VE(t))?(kb(n,e),n.h==0&&(n.src=null,t[UE]=null)):hg(e)}}}function nM(e){return e in nw?nw[e]:nw[e]="on"+e}function MQ(e,t){if(e.ca)e=!0;else{t=new kf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&jE(e),e=n.call(r,t)}return e}function VE(e){return e=e[UE],e instanceof dg?e:null}var rw="__closure_events_fn_"+(1e9*Math.random()>>>0);function BE(e){return typeof e=="function"?e:(e[rw]||(e[rw]=function(t){return e.handleEvent(t)}),e[rw])}function an(){ls.call(this),this.i=new dg(this),this.P=this,this.I=null}En(an,ls);an.prototype[ch]=!0;an.prototype.removeEventListener=function(e,t,n,r){tM(this,e,t,n,r)};function wn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new kn(t,e);else if(t instanceof kn)t.target=t.target||e;else{var i=t;t=new kn(r,e),zD(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=qd(a,r,!0,t)&&i}if(a=t.g=e,i=qd(a,r,!0,t)&&i,i=qd(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=qd(a,r,!1,t)&&i}an.prototype.M=function(){if(an.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)hg(n[r]);delete e.g[t],e.h--}}this.I=null};an.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};an.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function qd(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var c=a.listener,l=a.ia||a.src;a.fa&&kb(e.i,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var qE=Ie.JSON.stringify;function LQ(){var e=iM,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var FQ=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=rM.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),rM=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new UQ},function(e){return e.reset()}),UQ=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function jQ(e){Ie.setTimeout(function(){throw e},0)}function $E(e,t){Nb||VQ(),xb||(Nb(),xb=!0),iM.add(e,t)}var Nb;function VQ(){var e=Ie.Promise.resolve(void 0);Nb=function(){e.then(BQ)}}var xb=!1,iM=new FQ;function BQ(){for(var e;e=LQ();){try{e.h.call(e.g)}catch(n){jQ(n)}var t=rM;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xb=!1}function pg(e,t){an.call(this),this.h=e||1,this.g=t||Ie,this.j=_n(this.kb,this),this.l=Date.now()}En(pg,an);ae=pg.prototype;ae.da=!1;ae.S=null;ae.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wn(this,"tick"),this.da&&(HE(this),this.start()))}};ae.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function HE(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ae.M=function(){pg.Z.M.call(this),HE(this),delete this.g};function KE(e,t,n){if(typeof e=="function")n&&(e=_n(e,n));else if(e&&typeof e.handleEvent=="function")e=_n(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ie.setTimeout(e,t||0)}function oM(e){e.g=KE(function(){e.g=null,e.i&&(e.i=!1,oM(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var qQ=function(e){gQ(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:oM(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ls);function Rf(e){ls.call(this),this.h=e,this.g={}}En(Rf,ls);var yR=[];function sM(e,t,n,r){Array.isArray(n)||(n&&(yR[0]=n.toString()),n=yR);for(var i=0;i<n.length;i++){var s=JD(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function aM(e){LE(e.g,function(t,n){this.g.hasOwnProperty(n)&&jE(t)},e),e.g={}}Rf.prototype.M=function(){Rf.Z.M.call(this),aM(this)};Rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vg(){this.g=!0}vg.prototype.Aa=function(){this.g=!1};function $Q(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function HQ(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Su(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+WQ(e,n)+(r?" "+r:"")})}function KQ(e,t){e.info(function(){return"TIMEOUT: "+t})}vg.prototype.info=function(){};function WQ(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return qE(n)}catch{return t}}var Pa={},_R=null;function gg(){return _R=_R||new an}Pa.Ma="serverreachability";function uM(e){kn.call(this,Pa.Ma,e)}En(uM,kn);function Nf(e){var t=gg();wn(t,new uM(t))}Pa.STAT_EVENT="statevent";function cM(e,t){kn.call(this,Pa.STAT_EVENT,e),this.stat=t}En(cM,kn);function Gn(e){var t=gg();wn(t,new cM(t,e))}Pa.Na="timingevent";function lM(e,t){kn.call(this,Pa.Na,e),this.size=t}En(lM,kn);function lh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Ie.setTimeout(function(){e()},t)}var mg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function WE(){}WE.prototype.h=null;function wR(e){return e.h||(e.h=e.i())}function hM(){}var fh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function GE(){kn.call(this,"d")}En(GE,kn);function zE(){kn.call(this,"c")}En(zE,kn);var Ob;function yg(){}En(yg,WE);yg.prototype.g=function(){return new XMLHttpRequest};yg.prototype.i=function(){return{}};Ob=new yg;function hh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Rf(this),this.P=GQ,e=Cb?125:void 0,this.W=new pg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dM}function dM(){this.i=null,this.g="",this.h=!1}var GQ=45e3,Pb={},Yp={};ae=hh.prototype;ae.setTimeout=function(e){this.P=e};function Db(e,t,n){e.K=1,e.v=wg(lo(t)),e.s=n,e.U=!0,pM(e,null)}function pM(e,t){e.F=Date.now(),dh(e),e.A=lo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),bM(n.h,"t",r),e.C=0,n=e.l.H,e.h=new dM,e.g=BM(e.l,n?t:null,!e.s),0<e.O&&(e.L=new qQ(_n(e.Ia,e,e.g),e.O)),sM(e.V,e.g,"readystatechange",e.gb),t=e.H?GD(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Nf(),$Q(e.j,e.u,e.A,e.m,e.X,e.s)}ae.gb=function(e){e=e.target;var t=this.L;t&&no(e)==3?t.l():this.Ia(e)};ae.Ia=function(e){try{if(e==this.g)e:{var t=no(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Cb||this.g&&(this.h.h||this.g.ga()||IR(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Nf(3):Nf(2)),_g(this);var i=this.g.ba();this.N=i;t:if(vM(this)){var s=IR(this.g);e="";var a=s.length,c=no(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),tf(this);var l="";break t}this.h.i=new Ie.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:c&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=i==200,HQ(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,d=this.g;if((h=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(h)){var v=h;break t}}v=null}if(i=v)Su(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mb(this,i);else{this.i=!1,this.o=3,Gn(12),Ys(this),tf(this);break e}}this.U?(gM(this,t,l),Cb&&this.i&&t==3&&(sM(this.V,this.W,"tick",this.fb),this.W.start())):(Su(this.j,this.m,l,null),Mb(this,l)),t==4&&Ys(this),this.i&&!this.I&&(t==4?FM(this.l,this):(this.i=!1,dh(this)))}else i==400&&0<l.indexOf("Unknown SID")?(this.o=3,Gn(12)):(this.o=0,Gn(13)),Ys(this),tf(this)}}}catch{}finally{}};function vM(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function gM(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=zQ(e,n),i==Yp){t==4&&(e.o=4,Gn(14),r=!1),Su(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Pb){e.o=4,Gn(15),Su(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Su(e.j,e.m,i,null),Mb(e,i);vM(e)&&i!=Yp&&i!=Pb&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Gn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),rT(t),t.L=!0,Gn(11))):(Su(e.j,e.m,n,"[Invalid Chunked Response]"),Ys(e),tf(e))}ae.fb=function(){if(this.g){var e=no(this.g),t=this.g.ga();this.C<t.length&&(_g(this),gM(this,e,t),this.i&&e!=4&&dh(this))}};function zQ(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Yp:(n=Number(t.substring(n,r)),isNaN(n)?Pb:(r+=1,r+n>t.length?Yp:(t=t.substr(r,n),e.C=r+n,t)))}ae.cancel=function(){this.I=!0,Ys(this)};function dh(e){e.Y=Date.now()+e.P,mM(e,e.P)}function mM(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=lh(_n(e.eb,e),t)}function _g(e){e.B&&(Ie.clearTimeout(e.B),e.B=null)}ae.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(KQ(this.j,this.A),this.K!=2&&(Nf(),Gn(17)),Ys(this),this.o=2,tf(this)):mM(this,this.Y-e)};function tf(e){e.l.G==0||e.I||FM(e.l,e)}function Ys(e){_g(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,HE(e.W),aM(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mb(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Lb(n.i,e))){if(n.I=e.N,!e.J&&Lb(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)ev(n),Tg(n);else break e;nT(n),Gn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=lh(_n(n.ab,n),6e3));if(1>=IM(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Xs(n,11)}else if((e.J||n.g==e)&&ev(n),!zp(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var l=s[5];l!=null&&typeof l=="number"&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var d=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=r.i;!v.g&&(Hn(d,"spdy")||Hn(d,"quic")||Hn(d,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(XE(v,v.h),v.h=null))}if(r.D){var g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,_t(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=VM(r,r.H?r.la:null,r.W),y.J){SM(r.i,y);var _=y,b=r.K;b&&_.setTimeout(b),_.B&&(_g(_),dh(_)),r.g=y}else MM(r);0<n.l.length&&Ig(n)}else s[0]!="stop"&&s[0]!="close"||Xs(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Xs(n,7):tT(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Nf(4)}catch{}}function QQ(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Sb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function QE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Sb(e)||typeof e=="string")WD(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Sb(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=QQ(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Nc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ae=Nc.prototype;ae.R=function(){YE(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ae.T=function(){return YE(this),this.g.concat()};function YE(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ma(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],ma(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}ae.get=function(e,t){return ma(this.h,e)?this.h[e]:t};ae.set=function(e,t){ma(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ae.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function ma(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var yM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function YQ(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ya(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ya){this.g=t!==void 0?t:e.g,Xp(this,e.j),this.s=e.s,Jp(this,e.i),Zp(this,e.m),this.l=e.l,t=e.h;var n=new xf;n.i=t.i,t.g&&(n.g=new Nc(t.g),n.h=t.h),bR(this,n),this.o=e.o}else e&&(n=String(e).match(yM))?(this.g=!!t,Xp(this,n[1]||"",!0),this.s=nf(n[2]||""),Jp(this,n[3]||"",!0),Zp(this,n[4]),this.l=nf(n[5]||"",!0),bR(this,n[6]||"",!0),this.o=nf(n[7]||"")):(this.g=!!t,this.h=new xf(null,this.g))}ya.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bl(t,ER,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Bl(t,ER,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Bl(n,n.charAt(0)=="/"?tY:eY,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bl(n,rY)),e.join("")};function lo(e){return new ya(e)}function Xp(e,t,n){e.j=n?nf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Jp(e,t,n){e.i=n?nf(t,!0):t}function Zp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function bR(e,t,n){t instanceof xf?(e.h=t,iY(e.h,e.g)):(n||(t=Bl(t,nY)),e.h=new xf(t,e.g))}function _t(e,t,n){e.h.set(t,n)}function wg(e){return _t(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function XQ(e){return e instanceof ya?lo(e):new ya(e,void 0)}function JQ(e,t,n,r){var i=new ya(null,void 0);return e&&Xp(i,e),t&&Jp(i,t),n&&Zp(i,n),r&&(i.l=r),i}function nf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bl(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,ZQ),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ZQ(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var ER=/[#\/\?@]/g,eY=/[#\?:]/g,tY=/[#\?]/g,nY=/[#\?@]/g,rY=/#/g;function xf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fs(e){e.g||(e.g=new Nc,e.h=0,e.i&&YQ(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ae=xf.prototype;ae.add=function(e,t){fs(this),this.i=null,e=xc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function _M(e,t){fs(e),t=xc(e,t),ma(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ma(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&YE(e)))}function wM(e,t){return fs(e),t=xc(e,t),ma(e.g.h,t)}ae.forEach=function(e,t){fs(this),this.g.forEach(function(n,r){WD(n,function(i){e.call(t,i,r,this)},this)},this)};ae.T=function(){fs(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};ae.R=function(e){fs(this);var t=[];if(typeof e=="string")wM(this,e)&&(t=hR(t,this.g.get(xc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=hR(t,e[n])}return t};ae.set=function(e,t){return fs(this),this.i=null,e=xc(this,e),wM(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ae.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function bM(e,t,n){_M(e,t),0<n.length&&(e.i=null,e.g.set(xc(e,t),ME(n)),e.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function xc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function iY(e,t){t&&!e.j&&(fs(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_M(this,r),bM(this,i,n))},e)),e.j=t}var oY=function(){function e(t,n){this.h=t,this.g=n}return e}();function EM(e){this.l=e||sY,Ie.PerformanceNavigationTiming?(e=Ie.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Ie.g&&Ie.g.Ea&&Ie.g.Ea()&&Ie.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sY=10;function TM(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function IM(e){return e.h?1:e.g?e.g.size:0}function Lb(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function XE(e,t){e.g?e.g.add(t):e.h=t}function SM(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}EM.prototype.cancel=function(){var e,t;if(this.i=CM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=HD(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function CM(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=HD(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return ME(e.i)}function JE(){}JE.prototype.stringify=function(e){return Ie.JSON.stringify(e,void 0)};JE.prototype.parse=function(e){return Ie.JSON.parse(e,void 0)};function aY(){this.g=new JE}function uY(e,t,n){var r=n||"";try{QE(e,function(i,s){var a=i;uh(i)&&(a=qE(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cY(e,t){var n=new vg;if(Ie.Image){var r=new Image;r.onload=Bd($d,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bd($d,n,r,"TestLoadImage: error",!1,t),r.onabort=Bd($d,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bd($d,n,r,"TestLoadImage: timeout",!1,t),Ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function $d(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function ph(e){this.l=e.$b||null,this.j=e.ib||!1}En(ph,WE);ph.prototype.g=function(){return new bg(this.l,this.j)};ph.prototype.i=function(e){return function(){return e}}({});function bg(e,t){an.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ZE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En(bg,an);var ZE=0;ae=bg.prototype;ae.open=function(e,t){if(this.readyState!=ZE)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Of(this)};ae.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ie).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vh(this)),this.readyState=ZE};ae.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Of(this)),this.g&&(this.readyState=3,Of(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ie.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AM(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function AM(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ae.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?vh(this):Of(this),this.readyState==3&&AM(this)}};ae.Ua=function(e){this.g&&(this.response=this.responseText=e,vh(this))};ae.Ta=function(e){this.g&&(this.response=e,vh(this))};ae.ha=function(){this.g&&vh(this)};function vh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Of(e)}ae.setRequestHeader=function(e,t){this.v.append(e,t)};ae.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Of(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(bg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var lY=Ie.JSON.parse;function Vt(e){an.call(this),this.headers=new Nc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kM,this.K=this.L=!1}En(Vt,an);var kM="",fY=/^https?$/i,hY=["POST","PUT"];ae=Vt.prototype;ae.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ob.g(),this.C=this.u?wR(this.u):wR(Ob),this.g.onreadystatechange=_n(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){TR(this,s);return}e=n||"";var i=new Nc(this.headers);r&&QE(r,function(s,a){i.set(a,s)}),r=TQ(i.T()),n=Ie.FormData&&e instanceof Ie.FormData,!(0<=KD(hY,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xM(this),0<this.B&&((this.K=dY(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_n(this.pa,this)):this.A=KE(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){TR(this,s)}};function dY(e){return Ju&&kQ()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function pY(e){return e.toLowerCase()=="content-type"}ae.pa=function(){typeof DE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wn(this,"timeout"),this.abort(8))};function TR(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,RM(e),Eg(e)}function RM(e){e.D||(e.D=!0,wn(e,"complete"),wn(e,"error"))}ae.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wn(this,"complete"),wn(this,"abort"),Eg(this))};ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eg(this,!0)),Vt.Z.M.call(this)};ae.Fa=function(){this.s||(this.F||this.v||this.l?NM(this):this.cb())};ae.cb=function(){NM(this)};function NM(e){if(e.h&&typeof DE<"u"&&(!e.C[1]||no(e)!=4||e.ba()!=2)){if(e.v&&no(e)==4)KE(e.Fa,0,e);else if(wn(e,"readystatechange"),no(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(yM)[1]||null;if(!s&&Ie.self&&Ie.self.location){var a=Ie.self.location.protocol;s=a.substr(0,a.length-1)}i=!fY.test(s?s.toLowerCase():"")}r=i}if(r)wn(e,"complete"),wn(e,"success");else{e.m=6;try{var c=2<no(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.ba()+"]",RM(e)}}finally{Eg(e)}}}}function Eg(e,t){if(e.g){xM(e);var n=e.g,r=e.C[0]?Gp:null;e.g=null,e.C=null,t||wn(e,"ready");try{n.onreadystatechange=r}catch{}}}function xM(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ie.clearTimeout(e.A),e.A=null)}function no(e){return e.g?e.g.readyState:0}ae.ba=function(){try{return 2<no(this)?this.g.status:-1}catch{return-1}};ae.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),lY(t)}};function IR(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case kM:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ae.Da=function(){return this.m};ae.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function vY(e){var t="";return LE(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function eT(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vY(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):_t(e,t,n))}function Ml(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function OM(e){this.za=0,this.l=[],this.h=new vg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ml("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ml("baseRetryDelayMs",5e3,e),this.$a=Ml("retryDelaySeedMs",1e4,e),this.Ya=Ml("forwardChannelMaxRetries",2,e),this.ra=Ml("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new EM(e&&e.concurrentRequestLimit),this.Ca=new aY,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ae=OM.prototype;ae.ma=8;ae.G=1;function tT(e){if(PM(e),e.G==3){var t=e.V++,n=lo(e.F);_t(n,"SID",e.J),_t(n,"RID",t),_t(n,"TYPE","terminate"),gh(e,n),t=new hh(e,e.h,t,void 0),t.K=2,t.v=wg(lo(n)),n=!1,Ie.navigator&&Ie.navigator.sendBeacon&&(n=Ie.navigator.sendBeacon(t.v.toString(),"")),!n&&Ie.Image&&(new Image().src=t.v,n=!0),n||(t.g=BM(t.l,null),t.g.ea(t.v)),t.F=Date.now(),dh(t)}jM(e)}ae.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Tg(e){e.g&&(rT(e),e.g.cancel(),e.g=null)}function PM(e){Tg(e),e.u&&(Ie.clearTimeout(e.u),e.u=null),ev(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Ie.clearTimeout(e.m),e.m=null)}function iw(e,t){e.l.push(new oY(e.Za++,t)),e.G==3&&Ig(e)}function Ig(e){TM(e.i)||e.m||(e.m=!0,$E(e.Ha,e),e.C=0)}function gY(e,t){return IM(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=lh(_n(e.Ha,e,t),UM(e,e.C)),e.C++,!0)}ae.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new hh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=GD(n),zD(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=DM(this,t,r),i=lo(this.F),_t(i,"RID",e),_t(i,"CVER",22),this.D&&_t(i,"X-HTTP-Session-Id",this.D),gh(this,i),this.o&&n&&eT(i,this.o,n),XE(this.i,t),this.Ra&&_t(i,"TYPE","init"),this.ja?(_t(i,"$req",r),_t(i,"SID","null"),t.$=!0,Db(t,i,null)):Db(t,i,r),this.G=2}}else this.G==3&&(e?SR(this,e):this.l.length==0||TM(this.i)||SR(this))};function SR(e,t){var n;t?n=t.m:n=e.V++;var r=lo(e.F);_t(r,"SID",e.J),_t(r,"RID",n),_t(r,"AID",e.U),gh(e,r),e.o&&e.s&&eT(r,e.o,e.s),n=new hh(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=DM(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),XE(e.i,n),Db(n,r,t)}function gh(e,t){e.j&&QE({},function(n,r){_t(t,r,n)})}function DM(e,t,n){n=Math.min(e.l.length,n);var r=e.j?_n(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].h,d=i[l].g;if(h-=s,0>h)s=Math.max(0,i[l].h-100),c=!1;else try{uY(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function MM(e){e.g||e.u||(e.Y=1,$E(e.Ga,e),e.A=0)}function nT(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=lh(_n(e.Ga,e),UM(e,e.A)),e.A++,!0)}ae.Ga=function(){if(this.u=null,LM(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=lh(_n(this.bb,this),e)}};ae.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gn(10),Tg(this),LM(this))};function rT(e){e.B!=null&&(Ie.clearTimeout(e.B),e.B=null)}function LM(e){e.g=new hh(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=lo(e.oa);_t(t,"RID","rpc"),_t(t,"SID",e.J),_t(t,"CI",e.N?"0":"1"),_t(t,"AID",e.U),gh(e,t),_t(t,"TYPE","xmlhttp"),e.o&&e.s&&eT(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=wg(lo(t)),n.s=null,n.U=!0,pM(n,e)}ae.ab=function(){this.v!=null&&(this.v=null,Tg(this),nT(this),Gn(19))};function ev(e){e.v!=null&&(Ie.clearTimeout(e.v),e.v=null)}function FM(e,t){var n=null;if(e.g==t){ev(e),rT(e),e.g=null;var r=2}else if(Lb(e.i,t))n=t.D,SM(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=gg(),wn(r,new lM(r,n)),Ig(e)}else MM(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&gY(e,t)||r==2&&nT(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xs(e,5);break;case 4:Xs(e,10);break;case 3:Xs(e,6);break;default:Xs(e,2)}}}function UM(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xs(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=_n(e.jb,e);n||(n=new ya("//www.google.com/images/cleardot.gif"),Ie.location&&Ie.location.protocol=="http"||Xp(n,"https"),wg(n)),cY(n.toString(),r)}else Gn(2);e.G=0,e.j&&e.j.va(t),jM(e),PM(e)}ae.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Gn(2)):(this.h.info("Failed to ping google.com"),Gn(1))};function jM(e){e.G=0,e.I=-1,e.j&&((CM(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,ME(e.l),e.l.length=0),e.j.ua())}function VM(e,t,n){var r=XQ(n);if(r.i!="")t&&Jp(r,t+"."+r.i),Zp(r,r.m);else{var i=Ie.location;r=JQ(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&LE(e.aa,function(s,a){_t(r,a,s)}),t=e.D,n=e.sa,t&&n&&_t(r,t,n),_t(r,"VER",e.ma),gh(e,r),r}function BM(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Vt(new ph({ib:!0})):new Vt(e.qa),t.L=e.H,t}function qM(){}ae=qM.prototype;ae.xa=function(){};ae.wa=function(){};ae.va=function(){};ae.ua=function(){};ae.Oa=function(){};function tv(){if(Ju&&!(10<=Number(RQ)))throw Error("Environmental error: no available transport.")}tv.prototype.g=function(e,t){return new Rr(e,t)};function Rr(e,t){an.call(this),this.g=new OM(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!zp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zp(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Oc(this)}En(Rr,an);Rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),$E(_n(e.hb,e,t))),Gn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=VM(e,null,e.W),Ig(e)};Rr.prototype.close=function(){tT(this.g)};Rr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,iw(this.g,t)}else this.v?(t={},t.__data__=qE(e),iw(this.g,t)):iw(this.g,e)};Rr.prototype.M=function(){this.g.j=null,delete this.j,tT(this.g),delete this.g,Rr.Z.M.call(this)};function $M(e){GE.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}En($M,GE);function HM(){zE.call(this),this.status=1}En(HM,zE);function Oc(e){this.g=e}En(Oc,qM);Oc.prototype.xa=function(){wn(this.g,"a")};Oc.prototype.wa=function(e){wn(this.g,new $M(e))};Oc.prototype.va=function(e){wn(this.g,new HM)};Oc.prototype.ua=function(){wn(this.g,"b")};tv.prototype.createWebChannel=tv.prototype.g;Rr.prototype.send=Rr.prototype.u;Rr.prototype.open=Rr.prototype.m;Rr.prototype.close=Rr.prototype.close;mg.NO_ERROR=0;mg.TIMEOUT=8;mg.HTTP_ERROR=6;fM.COMPLETE="complete";hM.EventType=fh;fh.OPEN="a";fh.CLOSE="b";fh.ERROR="c";fh.MESSAGE="d";an.prototype.listen=an.prototype.N;Vt.prototype.listenOnce=Vt.prototype.O;Vt.prototype.getLastError=Vt.prototype.La;Vt.prototype.getLastErrorCode=Vt.prototype.Da;Vt.prototype.getStatus=Vt.prototype.ba;Vt.prototype.getResponseJson=Vt.prototype.Qa;Vt.prototype.getResponseText=Vt.prototype.ga;Vt.prototype.send=Vt.prototype.ea;var mY=function(){return new tv},yY=function(){return gg()},ow=mg,_Y=fM,wY=Pa,CR={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bY=ph,Hd=hM,EY=Vt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Tr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return te(t,e),t}(Error),ci=new Ra("@firebase/firestore");function Fb(){return ci.logLevel}function Y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ci.logLevel<=Le.DEBUG){var r=t.map(iT);ci.debug.apply(ci,xe(["Firestore (8.10.1): "+e],r))}}function Ft(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ci.logLevel<=Le.ERROR){var r=t.map(iT);ci.error.apply(ci,xe(["Firestore (8.10.1): "+e],r))}}function Pf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ci.logLevel<=Le.WARN){var r=t.map(iT);ci.warn.apply(ci,xe(["Firestore (8.10.1): "+e],r))}}function iT(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ft(t),new Error(t)}function be(e,t){e||he()}function ee(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TY(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KM=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=TY(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Ve(e,t){return e<t?-1:e>t?1:0}function Zu(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function WM(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new H(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ve(this.nanoseconds,t.nanoseconds):Ve(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),De=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new cr(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Da(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function GM(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zM=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&he(),r===void 0?r=t.length-n:r>t.length-n&&he(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Xe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new H(D.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(zM),IY=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fi=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return IY.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new H(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new H(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new H(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new H(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(zM),ec=function(){function e(t){this.fields=t,t.sort(fi.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Zu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),zn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ve(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();zn.EMPTY_BYTE_STRING=new zn("");var SY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(e){if(be(!!e),typeof e=="string"){var t=0,n=SY.exec(e);if(be(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Lt(e.seconds),nanos:Lt(e.nanos)}}function Lt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function tc(e){return typeof e=="string"?zn.fromBase64String(e):zn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function QM(e){var t=e.mapValue.fields.__previous_value__;return oT(t)?QM(t):t}function Df(e){var t=as(e.mapValue.fields.__local_write_time__.timestampValue);return new cr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(e){return e==null}function nv(e){return e===0&&1/e==-1/0}function YM(e){return typeof e=="number"&&Number.isInteger(e)&&!nv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Xe.fromString(t))},e.fromName=function(t){return new e(Xe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Xe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Xe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Xe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oT(e)?4:10:he()}function ji(e,t){var n=_a(e);if(n!==_a(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Df(e).isEqual(Df(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=as(r.timestampValue),a=as(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return tc(r.bytesValue).isEqual(tc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Lt(r.geoPointValue.latitude)===Lt(i.geoPointValue.latitude)&&Lt(r.geoPointValue.longitude)===Lt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Lt(r.integerValue)===Lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Lt(r.doubleValue),a=Lt(i.doubleValue);return s===a?nv(s)===nv(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Zu(e.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(AR(s)!==AR(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!ji(s[c],a[c])))return!1;return!0}(e,t);default:return he()}}function Mf(e,t){return(e.values||[]).find(function(n){return ji(n,t)})!==void 0}function nc(e,t){var n=_a(e),r=_a(t);if(n!==r)return Ve(n,r);switch(n){case 0:return 0;case 1:return Ve(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=Lt(i.integerValue||i.doubleValue),c=Lt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return kR(e.timestampValue,t.timestampValue);case 4:return kR(Df(e),Df(t));case 5:return Ve(e.stringValue,t.stringValue);case 6:return function(i,s){var a=tc(i),c=tc(s);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=Ve(a[l],c[l]);if(h!==0)return h}return Ve(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Ve(Lt(i.latitude),Lt(s.latitude));return a!==0?a:Ve(Lt(i.longitude),Lt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=nc(a[l],c[l]);if(h)return h}return Ve(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=Ve(c[d],h[d]);if(v!==0)return v;var g=nc(a[c[d]],l[h[d]]);if(g!==0)return g}return Ve(c.length,h.length)}(e.mapValue,t.mapValue);default:throw he()}}function kR(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ve(e,t);var n=as(e),r=as(t),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function sT(e){return Ub(e)}function Ub(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=as(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,de.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=Ub(c[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+Ub(r.fields[l])}return i+"}"}(e.mapValue):he();var t,n}function rv(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function jb(e){return!!e&&"integerValue"in e}function aT(e){return!!e&&"arrayValue"in e}function RR(e){return!!e&&"nullValue"in e}function NR(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fp(e){return!!e&&"mapValue"in e}function rf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Da(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=rf(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rf(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var br=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!fp(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=rf(n)},e.prototype.setAll=function(t){var n=this,r=fi.emptyPath(),i={},s=[];t.forEach(function(c,l){if(!r.isImmediateParentOf(l)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=l.popLast()}c?i[l.lastSegment()]=rf(c):s.push(l.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());fp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return ji(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];fp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Da(n,function(c,l){return t[c]=l});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(rf(this.value))},e}();function XM(e){var t=[];return Da(e.fields,function(n,r){var i=new fi([n]);if(fp(r)){var s=XM(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];t.push(i.child(l))}}else t.push(i)}),new ec(t)}var bn=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,De.min(),br.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,br.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,br.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=br.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=br.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),CY=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new CY(e,t,n,r,i,s,a)}function mh(e){var t=ee(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+sT(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Ma(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ov(t.startAt)),t.endAt&&(n+="|ub:",n+=ov(t.endAt)),t.h=n}return t.h}function Sg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!DY(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!ji(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!PR(e.startAt,t.startAt)&&PR(e.endAt,t.endAt)}function iv(e){return de.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Ir=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return te(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new AY(n,r,i):r==="array-contains"?new NY(n,i):r==="in"?new xY(n,i):r==="not-in"?new OY(n,i):r==="array-contains-any"?new PY(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new kY(n,i):new RY(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(nc(r,this.value)):r!==null&&_a(this.value)===_a(r)&&this.m(nc(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return he()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),AY=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=de.fromName(i.referenceValue),s}return te(t,e),t.prototype.matches=function(n){var r=de.comparator(n.key,this.key);return this.m(r)},t}(Ir),kY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=JM("in",r),i}return te(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ir),RY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=JM("not-in",r),i}return te(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ir);function JM(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return de.fromName(r.referenceValue)})}var NY=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return te(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return aT(r)&&Mf(r.arrayValue,this.value)},t}(Ir),xY=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return te(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Mf(this.value.arrayValue,r)},t}(Ir),OY=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return te(t,e),t.prototype.matches=function(n){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Mf(this.value.arrayValue,r)},t}(Ir),PY=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return te(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!aT(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return Mf(r.value.arrayValue,s)})},t}(Ir),Lf=function(e,t){this.position=e,this.before=t};function ov(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return sT(t)}).join(",")}var Mu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function DY(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function OR(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?de.comparator(de.fromName(a.referenceValue),n.key):nc(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function PR(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ji(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo=function(e,t,n,r,i,s,a,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function ZM(e,t,n,r,i,s,a,c){return new mo(e,t,n,r,i,s,a,c)}function Pc(e){return new mo(e)}function hp(e){return!Ma(e.limit)&&e.limitType==="F"}function sv(e){return!Ma(e.limit)&&e.limitType==="L"}function uT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cT(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function lT(e){return e.collectionGroup!==null}function rc(e){var t=ee(e);if(t.p===null){t.p=[];var n=cT(t),r=uT(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Mu(n)),t.p.push(new Mu(fi.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var c=a[s];t.p.push(c),c.field.isKeyField()&&(i=!0)}if(!i){var l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Mu(fi.keyField(),l))}}}return t.p}function Kr(e){var t=ee(e);if(!t.T)if(t.limitType==="F")t.T=xR(t.path,t.collectionGroup,rc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=rc(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Mu(s.field,a))}var c=t.endAt?new Lf(t.endAt.position,!t.endAt.before):null,l=t.startAt?new Lf(t.startAt.position,!t.startAt.before):null;t.T=xR(t.path,t.collectionGroup,n,t.filters,t.limit,c,l)}return t.T}function eL(e,t,n){return new mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yh(e,t){return Sg(Kr(e),Kr(t))&&e.limitType===t.limitType}function tL(e){return mh(Kr(e))+"|lt:"+e.limitType}function Vb(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+sT(i.value);var i}).join(", ")+"]"),Ma(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+ov(t.startAt)),t.endAt&&(n+=", endAt: "+ov(t.endAt)),"Target("+n+")"}(Kr(e))+"; limitType="+e.limitType+")"}function _h(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):de.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!OR(n.startAt,rc(n),r))&&(!n.endAt||!OR(n.endAt,rc(n),r))}(e,t)}function nL(e){return function(t,n){for(var r=!1,i=0,s=rc(e);i<s.length;i++){var a=s[i],c=MY(a,t,n);if(c!==0)return c;r=r||a.field.isKeyField()}return 0}}function MY(e,t,n){var r=e.field.isKeyField()?de.comparator(t.key,n.key):function(i,s,a){var c=s.data.field(i),l=a.data.field(i);return c!==null&&l!==null?nc(c,l):he()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nv(t)?"-0":t}}function iL(e){return{integerValue:""+e}}function oL(e,t){return YM(t)?iL(t):rL(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cg=function(){this._=void 0};function LY(e,t,n){return e instanceof ic?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof wa?aL(e,t):e instanceof ba?uL(e,t):function(r,i){var s=sL(r,i),a=DR(s)+DR(r.A);return jb(s)&&jb(r.A)?iL(a):rL(r.R,a)}(e,t)}function FY(e,t,n){return e instanceof wa?aL(e,t):e instanceof ba?uL(e,t):n}function sL(e,t){return e instanceof oc?jb(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var ic=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t}(Cg),wa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return te(t,e),t}(Cg);function aL(e,t){for(var n=cL(t),r=function(a){n.some(function(c){return ji(c,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ba=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return te(t,e),t}(Cg);function uL(e,t){for(var n=cL(t),r=function(a){n=n.filter(function(c){return!ji(c,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var oc=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return te(t,e),t}(Cg);function DR(e){return Lt(e.integerValue||e.doubleValue)}function cL(e){return aT(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wh=function(e,t){this.field=e,this.transform=t},UY=function(e,t){this.version=e,this.transformResults=t},An=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function dp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Ag=function(){};function jY(e,t,n){e instanceof bh?function(r,i,s){var a=r.value.clone(),c=FR(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof hs?function(r,i,s){if(dp(r.precondition,i)){var a=FR(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(lL(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Bb(e,t,n){e instanceof bh?function(r,i,s){if(dp(r.precondition,i)){var a=r.value.clone(),c=UR(r.fieldTransforms,s,i);a.setAll(c),i.convertToFoundDocument(LR(i),a).setHasLocalMutations()}}(e,t,n):e instanceof hs?function(r,i,s){if(dp(r.precondition,i)){var a=UR(r.fieldTransforms,s,i),c=i.data;c.setAll(lL(r)),c.setAll(a),i.convertToFoundDocument(LR(i),c).setHasLocalMutations()}}(e,t,n):function(r,i){dp(r.precondition,i)&&i.convertToNoDocument(De.min())}(e,t)}function VY(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),c=sL(s.transform,a||null);c!=null&&(n==null&&(n=br.empty()),n.set(s.field,c))}return n||null}function MR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Zu(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof wa&&h instanceof wa||l instanceof ba&&h instanceof ba?Zu(l.elements,h.elements,ji):l instanceof oc&&h instanceof oc?ji(l.A,h.A):l instanceof ic&&h instanceof ic}(a.transform,c.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function LR(e){return e.isFoundDocument()?e.version:De.min()}var bh=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return te(t,e),t}(Ag),hs=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=i,c.precondition=s,c.fieldTransforms=a,c.type=1,c}return te(t,e),t}(Ag);function lL(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function FR(e,t,n){var r=new Map;be(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,c=t.data.field(s.field);r.set(s.field,FY(a,c,n[i]))}return r}function UR(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],c=a.transform,l=n.data.field(a.field);r.set(a.field,LY(c,l,t))}return r}var Mt,$e,Eh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return te(t,e),t}(Ag),fT=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return te(t,e),t}(Ag),BY=function(e){this.count=e};function fL(e){switch(e){case D.OK:return he();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return he()}}function hL(e){if(e===void 0)return Ft("GRPC error has no .code"),D.UNKNOWN;switch(e){case Mt.OK:return D.OK;case Mt.CANCELLED:return D.CANCELLED;case Mt.UNKNOWN:return D.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return D.INTERNAL;case Mt.UNAVAILABLE:return D.UNAVAILABLE;case Mt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Mt.NOT_FOUND:return D.NOT_FOUND;case Mt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Mt.ABORTED:return D.ABORTED;case Mt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Mt.DATA_LOSS:return D.DATA_LOSS;default:return he()}}($e=Mt||(Mt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(){function e(t,n){this.comparator=t,this.root=n||Bo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Kd(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Kd(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Kd(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Kd(this.root,t,this.comparator,!0)},e}(),Kd=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Bo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();var t=this.left.check();if(t!==this.right.check())throw he();return t+(this.isRed()?0:1)},e}();Bo.EMPTY=null,Bo.RED=!0,Bo.BLACK=!1,Bo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw he()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Bo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt=function(){function e(t){this.comparator=t,this.data=new Pn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new jR(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new jR(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),jR=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),qY=new Pn(de.comparator);function qr(){return qY}var $Y=new Pn(de.comparator);function qb(){return $Y}var HY=new Pn(de.comparator);function dL(){return HY}var KY=new zt(de.comparator);function ot(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=KY,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var WY=new zt(Ve);function kg(){return WY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hT=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,dT.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(De.min(),r,kg(),qr(),ot())},e}(),dT=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(zn.EMPTY_BYTE_STRING,n,ot(),ot(),ot())},e}(),pp=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},pL=function(e,t){this.targetId=e,this.V=t},vL=function(e,t,n,r){n===void 0&&(n=zn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},VR=function(){function e(){this.S=0,this.D=qR(),this.C=zn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=ot(),n=ot(),r=ot();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new dT(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=qR()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),GY=function(){function e(t){this.W=t,this.G=new Map,this.H=qr(),this.J=BR(),this.Y=new zt(Ve)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:he()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(iv(s))if(r===0){var a=new de(s.path);this.tt(n,a,bn.newNoDocument(a,De.min()))}else be(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,c){var l=n.ot(c);if(l){if(a.current&&iv(l.target)){var h=new de(l.target.path);n.H.get(h)!==null||n.at(c,h)||n.tt(c,h,bn.newNoDocument(h,t))}a.$&&(r.set(c,a.M()),a.L())}});var i=ot();this.J.forEach(function(a,c){var l=!0;c.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new hT(t,r,this.Y,this.H,i);return this.H=qr(),this.J=BR(),this.Y=new zt(Ve),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new VR,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new zt(Ve),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new VR),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function BR(){return new Pn(de.comparator)}function qR(){return new Pn(de.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zY={asc:"ASCENDING",desc:"DESCENDING"},QY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YY=function(e,t){this.databaseId=e,this.I=t};function Ff(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function gL(e,t){return e.I?t.toBase64():t.toUint8Array()}function XY(e,t){return Ff(e,t.toTimestamp())}function on(e){return be(!!e),De.fromTimestamp(function(t){var n=as(t);return new cr(n.seconds,n.nanos)}(e))}function pT(e,t){return function(n){return new Xe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function mL(e){var t=Xe.fromString(e);return be(SL(t)),t}function Uf(e,t){return pT(e.databaseId,t.path)}function xi(e,t){var n=mL(t);if(n.get(1)!==e.databaseId.projectId)throw new H(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new de(_L(n))}function $b(e,t){return pT(e.databaseId,t)}function yL(e){var t=mL(e);return t.length===4?Xe.emptyPath():_L(t)}function jf(e){return new Xe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _L(e){return be(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function $R(e,t,n){return{name:Uf(e,t),fields:n.value.mapValue.fields}}function wL(e,t,n){var r=xi(e,t.name),i=on(t.updateTime),s=new br({mapValue:{fields:t.fields}}),a=bn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function av(e,t){var n;if(t instanceof bh)n={update:$R(e,t.key,t.value)};else if(t instanceof Eh)n={delete:Uf(e,t.key)};else if(t instanceof hs)n={update:$R(e,t.key,t.data),updateMask:n8(t.fieldMask)};else{if(!(t instanceof fT))return he();n={verify:Uf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof ic)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ba)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oc)return{fieldPath:s.field.canonicalString(),increment:a.A};throw he()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:XY(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(e,t.precondition)),n}function HR(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?An.updateTime(on(h.updateTime)):h.exists!==void 0?An.exists(h.exists):An.none()}(t.currentDocument):An.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,v){var g=null;if("setToServerValue"in v)be(v.setToServerValue==="REQUEST_TIME"),g=new ic;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];g=new wa(y)}else if("removeAllFromArray"in v){var _=v.removeAllFromArray.values||[];g=new ba(_)}else"increment"in v?g=new oc(d,v.increment):he();var b=fi.fromServerFormat(v.fieldPath);return new wh(b,g)}(e,h)}):[];if(t.update){t.update.name;var i=xi(e,t.update.name),s=new br({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var d=h.fieldPaths||[];return new ec(d.map(function(v){return fi.fromServerFormat(v)}))}(t.updateMask);return new hs(i,s,a,n,r)}return new bh(i,s,n,r)}if(t.delete){var c=xi(e,t.delete);return new Eh(c,n)}if(t.verify){var l=xi(e,t.verify);return new fT(l,n)}return he()}function bL(e,t){return{documents:[$b(e,t.path)]}}function EL(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=$b(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$b(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(NR(d.value))return{unaryFilter:{field:gu(d.field),op:"IS_NAN"}};if(RR(d.value))return{unaryFilter:{field:gu(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(NR(d.value))return{unaryFilter:{field:gu(d.field),op:"IS_NOT_NAN"}};if(RR(d.value))return{unaryFilter:{field:gu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(d.field),op:ZY(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:gu(h.field),direction:JY(h.dir)}}(l)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.I||Ma(l)?l:{value:l}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=KR(t.startAt)),t.endAt&&(n.structuredQuery.endAt=KR(t.endAt)),n}function TL(e){var t=yL(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=IL(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(g){return new Mu(Cu(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var l=null;n.limit&&(l=function(v){var g;return Ma(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=WR(n.startAt));var d=null;return n.endAt&&(d=WR(n.endAt)),ZM(t,i,c,a,l,"F",h,d)}function IL(e){return e?e.unaryFilter!==void 0?[t8(e)]:e.fieldFilter!==void 0?[e8(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return IL(t)}).reduce(function(t,n){return t.concat(n)}):he():[]}function KR(e){return{before:e.before,values:e.position}}function WR(e){var t=!!e.before,n=e.values||[];return new Lf(n,t)}function JY(e){return zY[e]}function ZY(e){return QY[e]}function gu(e){return{fieldPath:e.canonicalString()}}function Cu(e){return fi.fromServerFormat(e.fieldPath)}function e8(e){return Ir.create(Cu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}function t8(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Cu(e.unaryFilter.field);return Ir.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Cu(e.unaryFilter.field);return Ir.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cu(e.unaryFilter.field);return Ir.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cu(e.unaryFilter.field);return Ir.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return he()}}function n8(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function SL(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=GR(t)),t=r8(e.get(n),t);return GR(t)}function r8(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function GR(e){return e+""}function ro(e){var t=e.length;if(be(t>=2),t===2)return be(e.charAt(0)===""&&e.charAt(1)===""),Xe.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&he(),e.charAt(a+1)){case"":var c=e.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:he()}s=a+2}return new Xe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i8=function(e,t){this.seconds=e,this.nanoseconds=t},_r=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};_r.store="owner",_r.key="owner";var Xo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Xo.store="mutationQueues",Xo.keyPath="userId";var vt=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};vt.store="mutations",vt.keyPath="batchId",vt.userMutationsIndex="userMutationsIndex",vt.userMutationsKeyPath=["userId","batchId"];var Sn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,li(n)]},e.key=function(t,n,r){return[t,li(n),r]},e}();Sn.store="documentMutations",Sn.PLACEHOLDER=new Sn;var o8=function(e,t){this.path=e,this.readTime=t},s8=function(e,t){this.path=e,this.version=t},At=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};At.store="remoteDocuments",At.readTimeIndex="readTimeIndex",At.readTimeIndexPath="readTime",At.collectionReadTimeIndex="collectionReadTimeIndex",At.collectionReadTimeIndexPath=["parentPath","readTime"];var ki=function(e){this.byteSize=e};ki.store="remoteDocumentGlobal",ki.key="remoteDocumentGlobalKey";var or=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};or.store="targets",or.keyPath="targetId",or.queryTargetsIndexName="queryTargetsIndex",or.queryTargetsKeyPath=["canonicalId","targetId"];var mn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};mn.store="targetDocuments",mn.keyPath=["targetId","path"],mn.documentTargetsIndex="documentTargetsIndex",mn.documentTargetsKeyPath=["path","targetId"];var wr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wr.key="targetGlobalKey",wr.store="targetGlobal";var oa=function(e,t){this.collectionId=e,this.parent=t};oa.store="collectionParents",oa.keyPath=["collectionId","parent"];var oo=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};oo.store="clientMetadata",oo.keyPath="clientId";var sc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};sc.store="bundles",sc.keyPath="bundleId";var ac=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ac.store="namedQueries",ac.keyPath="name";var a8=xe(xe([],xe(xe([],xe(xe([],xe(xe([],[Xo.store,vt.store,Sn.store,At.store,or.store,_r.store,wr.store,mn.store]),[oo.store])),[ki.store])),[oa.store])),[sc.store,ac.store]),CL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AL=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),On=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},W=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(c){return c?e.resolve(c):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),kL=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new On,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new of(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=vT(i.target.error);r.ft.reject(new of(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new of(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Y("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new c8(n)},e}(),uc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(da())===12.2&&Ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return Y("SimpleDb","Removing database:",t),Ws(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=da(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(Y("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new of(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new H(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new of(t,h))},c.onupgradeneeded=function(l){Y("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.wt.Rt(h,c.transaction,l.oldVersion,r.version).next(function(){Y("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h;return A(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,g,y,_,b;return A(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,l.At(t)];case 2:return l.db=T.sent(),v=kL.open(l.db,t,s?"readonly":"readwrite",r),g=i(v).catch(function(C){return v.abort(C),W.reject(C)}).toPromise(),y={},g.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(T.sent(),g),y)];case 4:return _=T.sent(),b=_.name!=="FirebaseError"&&a<3,Y("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),l.close(),b?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),u8=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ws(this.Pt.delete())},e}(),of=function(e){function t(n,r){var i=this;return(i=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return te(t,e),t}(H);function La(e){return e.name==="IndexedDbTransactionError"}var c8=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(Y("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Y("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ws(r)},e.prototype.add=function(t){return Y("SimpleDb","ADD",this.store.name,t,t),Ws(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ws(this.store.get(t)).next(function(r){return r===void 0&&(r=null),Y("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return Y("SimpleDb","DELETE",this.store.name,t),Ws(this.store.delete(t))},e.prototype.count=function(){return Y("SimpleDb","COUNT",this.store.name),Ws(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){Y("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,c){return c.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new W(function(r,i){n.onerror=function(s){var a=vT(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new W(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var c=a.target.result;if(c){var l=new u8(c),h=n(c.primaryKey,c.value,l);if(h instanceof W){var d=h.catch(function(v){return l.done(),W.reject(v)});r.push(d)}l.isDone?i():l.Dt===null?c.continue():c.continue(l.Dt)}else i()}}).next(function(){return W.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Ws(e){return new W(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=vT(r.target.error);n(i)}})}var zR=!1;function vT(e){var t=uc._t(da());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new H("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zR||(zR=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QR=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return te(t,e),t}(AL);function hr(e,t){var n=ee(e);return uc.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gT=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&jY(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&Bb(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&Bb(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(De.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ot())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Zu(this.mutations,t.mutations,function(n,r){return MR(n,r)})&&Zu(this.baseMutations,t.baseMutations,function(n,r){return MR(n,r)})},e}(),l8=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){be(t.mutations.length===r.length);for(var i=dL(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),Rg=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=De.min()),a===void 0&&(a=De.min()),c===void 0&&(c=zn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),RL=function(e){this.Lt=e};function Hb(e,t){if(t.document)return wL(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=de.fromSegments(t.noDocument.path),r=lc(t.noDocument.readTime),i=bn.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=de.fromSegments(t.unknownDocument.path);return r=lc(t.unknownDocument.version),bn.newUnknownDocument(s,r)}return he()}function YR(e,t,n){var r=mT(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,g){return{name:Uf(v,g.key),fields:g.data.value.mapValue.fields,updateTime:Ff(v,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new At(null,null,s,a,r,i)}if(t.isNoDocument()){var c=t.key.path.toArray(),l=cc(t.version);return a=t.hasCommittedMutations,new At(null,new o8(c,l),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),d=cc(t.version);return new At(new s8(h,d),null,null,!0,r,i)}return he()}function mT(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function NL(e){var t=new cr(e[0],e[1]);return De.fromTimestamp(t)}function cc(e){var t=e.toTimestamp();return new i8(t.seconds,t.nanoseconds)}function lc(e){var t=new cr(e.seconds,e.nanoseconds);return De.fromTimestamp(t)}function Eu(e,t){for(var n=(t.baseMutations||[]).map(function(l){return HR(e.Lt,l)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(l){return HR(e.Lt,l)}),c=cr.fromMillis(t.localWriteTimeMs);return new gT(t.batchId,c,n,a)}function ql(e){var t,n,r=lc(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?lc(e.lastLimboFreeSnapshotVersion):De.min();return e.query.documents!==void 0?(be((n=e.query).documents.length===1),t=Kr(Pc(yL(n.documents[0])))):t=function(s){return Kr(TL(s))}(e.query),new Rg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,zn.fromBase64String(e.resumeToken))}function xL(e,t){var n,r=cc(t.snapshotVersion),i=cc(t.lastLimboFreeSnapshotVersion);n=iv(t.target)?bL(e.Lt,t.target):EL(e.Lt,t.target);var s=t.resumeToken.toBase64();return new or(t.targetId,mh(t.target),r,s,t.sequenceNumber,i,n)}function yT(e){var t=TL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?eL(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f8=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return XR(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:lc(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return XR(t).put({bundleId:(r=n).id,createTime:cc(on(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return JR(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:yT(i.bundledQuery),readTime:lc(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return JR(t).put(function(r){return{name:r.name,readTime:cc(on(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function XR(e){return hr(e,sc.store)}function JR(e){return hr(e,ac.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h8=function(){function e(){this.Bt=new _T}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),W.resolve()},e.prototype.getCollectionParents=function(t,n){return W.resolve(this.Bt.getEntries(n))},e}(),_T=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new zt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new zt(Xe.comparator)).toArray()},e}(),d8=function(){function e(){this.qt=new _T}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:li(s)};return ZR(t).put(a)}return W.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[WM(n),""],!1,!0);return ZR(t).Nt(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(ro(l.parent))}return r})},e}();function ZR(e){return hr(e,oa.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Si=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(e,t,n){var r=e.store(vt.store),i=e.store(Sn.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.$t({range:a},function(_,b,T){return c++,T.delete()});s.push(l.next(function(){be(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var g=v[d],y=Sn.key(t,g.key.path,n.batchId);s.push(i.delete(y)),h.push(g.key)}return W.waitFor(s).next(function(){return h})}function uv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw he();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(41943040,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);var p8=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return be(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mo(t).$t({index:vt.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Tu(t),c=Mo(t);return c.add({}).next(function(l){be(typeof l=="number");for(var h=new gT(l,n,r,i),d=function(C,x,O){var L=O.baseMutations.map(function(P){return av(C.Lt,P)}),$=O.mutations.map(function(P){return av(C.Lt,P)});return new vt(x,O.batchId,O.localWriteTime.toMillis(),L,$)}(s.R,s.userId,h),v=[],g=new zt(function(C,x){return Ve(C.canonicalString(),x.canonicalString())}),y=0,_=i;y<_.length;y++){var b=_[y],T=Sn.key(s.userId,b.key.path,l);g=g.add(b.key.path.popLast()),v.push(c.put(d)),v.push(a.put(T,Sn.PLACEHOLDER))}return g.forEach(function(C){v.push(s.Ut.addToCollectionParentIndex(t,C))}),t.addOnCommittedListener(function(){s.Kt[l]=h.keys()}),W.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Mo(t).get(n).next(function(i){return i?(be(i.userId===r.userId),Eu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?W.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Mo(t).$t({index:vt.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(be(l.batchId>=i),a=Eu(r.R,l)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Mo(t).$t({index:vt.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mo(t).Nt(vt.userMutationsIndex,r).next(function(i){return i.map(function(s){return Eu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=Sn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Tu(t).$t({range:s},function(c,l,h){var d=c[0],v=c[1],g=c[2],y=ro(v);if(d===r.userId&&n.path.isEqual(y))return Mo(t).get(g).next(function(_){if(!_)throw he();be(_.userId===r.userId),a.push(Eu(r.R,_))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new zt(Ve),s=[];return n.forEach(function(a){var c=Sn.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Tu(t).$t({range:l},function(d,v,g){var y=d[0],_=d[1],b=d[2],T=ro(_);y===r.userId&&a.path.isEqual(T)?i=i.add(b):g.done()});s.push(h)}),W.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=Sn.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new zt(Ve);return Tu(t).$t({range:c},function(h,d,v){var g=h[0],y=h[1],_=h[2],b=ro(y);g===r.userId&&i.isPrefixOf(b)?b.length===s&&(l=l.add(_)):v.done()}).next(function(){return r.Wt(t,l)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Mo(t).get(a).next(function(c){if(c===null)throw he();be(c.userId===r.userId),i.push(Eu(r.R,c))}))}),W.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return OL(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),W.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return W.resolve();var i=IDBKeyRange.lowerBound(Sn.prefixForUser(n.userId)),s=[];return Tu(t).$t({range:i},function(a,c,l){if(a[0]===n.userId){var h=ro(a[1]);s.push(h)}else l.done()}).next(function(){be(s.length===0)})})},e.prototype.containsKey=function(t,n){return PL(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return DL(t).get(this.userId).next(function(r){return r||new Xo(n.userId,-1,"")})},e}();function PL(e,t,n){var r=Sn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Tu(e).$t({range:s,Ft:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function Mo(e){return hr(e,vt.store)}function Tu(e){return hr(e,Sn.store)}function DL(e){return hr(e,Xo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cv=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),v8=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new cv(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return De.fromTimestamp(new cr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return mu(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return be(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return mu(t).$t(function(c,l){var h=ql(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return W.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return mu(t).$t(function(r,i){var s=ql(i);n(s)})},e.prototype.Xt=function(t){return tN(t).get(wr.key).next(function(n){return be(n!==null),n})},e.prototype.Zt=function(t,n){return tN(t).put(wr.key,n)},e.prototype.te=function(t,n){return mu(t).put(xL(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=mh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return mu(t).$t({range:i,index:or.queryTargetsIndexName},function(a,c,l){var h=ql(c);Sg(n,h.target)&&(s=h,l.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=qo(t);return n.forEach(function(c){var l=li(c.path);s.push(a.put(new mn(r,l))),s.push(i.referenceDelegate.addReference(t,r,c))}),W.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=qo(t);return W.forEach(n,function(a){var c=li(a.path);return W.waitFor([s.delete([r,c]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=qo(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=qo(t),s=ot();return i.$t({range:r,Ft:!0},function(a,c,l){var h=ro(a[1]),d=new de(h);s=s.add(d)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=li(n.path),i=IDBKeyRange.bound([r],[WM(r)],!1,!0),s=0;return qo(t).$t({index:mn.documentTargetsIndex,Ft:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return mu(t).get(n).next(function(r){return r?ql(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(e){return hr(e,or.store)}function tN(e){return hr(e,wr.store)}function qo(e){return hr(e,mn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(e){return R(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==CL)throw e;return Y("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Ve(n,i);return a===0?Ve(r,s):a}var g8=function(){function e(t){this.ne=t,this.buffer=new zt(nN),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();nN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),m8=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;Y("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return La(i=s.sent())?(Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Fa(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),y8=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return W.resolve(Tr.o);var i=new g8(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(eN)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),eN):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>d.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+g),i=d.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),d.nthSequenceNumber(t,i)}).next(function(g){return r=g,c=Date.now(),d.removeTargets(t,r,n)}).next(function(g){return s=g,l=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(g){return h=Date.now(),Fb()<=Le.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+g+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})})},e}(),_8=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new y8(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Wd(t,r)},e.prototype.removeReference=function(t,n,r){return Wd(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Wd(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return DL(r).Ot(function(a){return PL(r,a,i).next(function(c){return c&&(s=!0),W.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(c,l){if(l<=n){var h=r._e(t,c).next(function(d){if(!d)return a++,i.getEntry(t,c).next(function(){return i.removeEntry(c),qo(t).delete([0,li(c.path)])})});s.push(h)}}).next(function(){return W.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Wd(t,n)},e.prototype.we=function(t,n){var r,i=qo(t),s=Tr.o;return i.$t({index:mn.documentTargetsIndex},function(a,c){var l=a[0];a[1];var h=c.path,d=c.sequenceNumber;l===0?(s!==Tr.o&&n(new de(ro(r)),s),s=d,r=h):s=Tr.o}).next(function(){s!==Tr.o&&n(new de(ro(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Wd(e,t){return qo(e).put(function(n,r){return new mn(0,li(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dc=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.equalsFn(c,t))return l}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Da(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];t(c,l)}})},e.prototype.isEmpty=function(){return GM(this.inner)},e}(),ML=function(){function e(){this.changes=new Dc(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:De.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:bn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?W.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),w8=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Vo(t).put(Gd(n),r)},e.prototype.removeEntry=function(t,n){var r=Vo(t),i=Gd(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Vo(t).get(Gd(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Vo(t).get(Gd(n)).next(function(i){return{document:r.ye(n,i),size:uv(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=qr();return this.pe(t,n,function(s,a){var c=r.ye(s,a);i=i.insert(s,c)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=qr(),s=new Pn(de.comparator);return this.pe(t,n,function(a,c){var l=r.ye(a,c);i=i.insert(a,l),s=s.insert(a,uv(c))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return W.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Vo(t).$t({range:i},function(c,l,h){for(var d=de.fromSegments(c);a&&de.comparator(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=qr(),a=n.path.length+1,c={};if(r.isEqual(De.min())){var l=n.path.toArray();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.toArray(),d=mT(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=At.collectionReadTimeIndex}return Vo(t).$t(c,function(v,g,y){if(v.length===a){var _=Hb(i.R,g);n.path.isPrefixOf(_.key.path)?_h(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new b8(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return rN(t).get(ki.key).next(function(n){return be(!!n),n})},e.prototype.me=function(t,n){return rN(t).put(ki.key,n)},e.prototype.ye=function(t,n){if(n){var r=Hb(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(De.min()))return r}return bn.newInvalidDocument(t)},e}(),b8=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Dc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return te(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new zt(function(c,l){return Ve(c.canonicalString(),l.canonicalString())});return this.changes.forEach(function(c,l){var h=r.Ae.get(c);if(l.document.isValidDocument()){var d=YR(r.Ie.R,l.document,r.getReadTime(c));a=a.add(c.path.popLast());var v=uv(d);s+=v-h,i.push(r.Ie.addEntry(n,c,d))}else if(s-=h,r.trackRemovals){var g=YR(r.Ie.R,bn.newNoDocument(c,De.min()),r.getReadTime(c));i.push(r.Ie.addEntry(n,c,g))}else i.push(r.Ie.removeEntry(n,c))}),a.forEach(function(c){i.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),i.push(this.Ie.updateMetadata(n,s)),W.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(c,l){i.Ae.set(c,l)}),a})},t}(ML);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(e){return hr(e,ki.store)}function Vo(e){return hr(e,At.store)}function Gd(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E8=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;be(r<i&&r>=0&&i<=11);var a=new kL("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(_r.store)}(t),function(l){l.createObjectStore(Xo.store,{keyPath:Xo.keyPath}),l.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0}),l.createObjectStore(Sn.store)}(t),iN(t),function(l){l.createObjectStore(At.store)}(t));var c=W.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(mn.store),l.deleteObjectStore(or.store),l.deleteObjectStore(wr.store)}(t),iN(t)),c=c.next(function(){return function(l){var h=l.store(wr.store),d=new wr(0,0,De.min().toTimestamp(),0);return h.put(wr.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(vt.store).Nt().next(function(d){l.deleteObjectStore(vt.store),l.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0});var v=h.store(vt.store),g=d.map(function(y){return v.put(y)});return W.waitFor(g)})}(t,a)})),c=c.next(function(){(function(l){l.createObjectStore(oo.store,{keyPath:oo.keyPath})})(t)})),r<5&&i>=5&&(c=c.next(function(){return s.Re(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(ki.store)}(t),s.be(a)})),r<7&&i>=7&&(c=c.next(function(){return s.ve(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t),function(l){var h=l.objectStore(At.store);h.createIndex(At.readTimeIndex,At.readTimeIndexPath,{unique:!1}),h.createIndex(At.collectionReadTimeIndex,At.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Ve(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(sc.store,{keyPath:sc.keyPath})})(t),function(l){l.createObjectStore(ac.store,{keyPath:ac.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(At.store).$t(function(r,i){n+=uv(i)}).next(function(){var r=new ki(n);return t.store(ki.store).put(ki.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Xo.store),i=t.store(vt.store);return r.Nt().next(function(s){return W.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(vt.userMutationsIndex,c).next(function(l){return W.forEach(l,function(h){be(h.userId===a.userId);var d=Eu(n.R,h);return OL(t,a.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(mn.store),r=t.store(At.store);return t.store(wr.store).get(wr.key).next(function(i){var s=[];return r.$t(function(a,c){var l=new Xe(a),h=function(d){return[0,li(d)]}(l);s.push(n.get(h).next(function(d){return d?W.resolve():function(v){return n.put(new mn(0,li(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return W.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(oa.store,{keyPath:oa.keyPath});var r=n.store(oa.store),i=new _T,s=function(a){if(i.add(a)){var c=a.lastSegment(),l=a.popLast();return r.put({collectionId:c,parent:li(l)})}};return n.store(At.store).$t({Ft:!0},function(a,c){var l=new Xe(a);return s(l.popLast())}).next(function(){return n.store(Sn.store).$t({Ft:!0},function(a,c){a[0];var l=a[1];a[2];var h=ro(l);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(or.store);return r.$t(function(i,s){var a=ql(s),c=xL(n.R,a);return r.put(c)})},e}();function iN(e){e.createObjectStore(mn.store,{keyPath:mn.keyPath}).createIndex(mn.documentTargetsIndex,mn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(or.store,{keyPath:or.keyPath}).createIndex(or.queryTargetsIndexName,or.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(wr.store)}var sw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",T8=function(){function e(t,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=c,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new H(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _8(this,i),this.Le=n+"main",this.R=new RL(l),this.Be=new uc(this.Le,11,new E8(this.R)),this.qe=new v8(this.referenceDelegate,this.R),this.Ut=new d8,this.Ue=function(v,g){return new w8(v,g)}(this.R,this.Ut),this.Ke=new f8,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,d===!1&&Ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new H(D.FAILED_PRECONDITION,sw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Tr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return R(n,void 0,void 0,function(){return A(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return R(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return R(n,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return zd(n).put(new oo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(La(n))return Y("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return Y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Ll(t).get(_r.key).next(function(r){return W.resolve(n.tn(r))})},e.prototype.en=function(t){return zd(t).delete(this.clientId)},e.prototype.nn=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=hr(c,oo.store);return l.Nt().next(function(h){var d=s.rn(h,18e5),v=h.filter(function(g){return d.indexOf(g)===-1});return W.forEach(v,function(g){return l.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?W.resolve(!0):Ll(t).get(_r.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new H(D.FAILED_PRECONDITION,sw);return!1}}return!(!n.networkEnabled||!n.inForeground)||zd(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&Y("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return R(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[_r.store,oo.store],function(r){var i=new QR(r,Tr.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return zd(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return p8.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;Y("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,a8,function(c){return s=new QR(c,i.Ne?i.Ne.next():Tr.o),n==="readwrite-primary"?i.Je(s).next(function(l){return!!l||i.Ye(s)}).next(function(l){if(!l)throw Ft("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new H(D.FAILED_PRECONDITION,CL);return r(s)}).next(function(l){return i.Ze(s).next(function(){return l})}):i.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return Ll(t).get(_r.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new H(D.FAILED_PRECONDITION,sw)})},e.prototype.Ze=function(t){var n=new _r(this.clientId,this.allowTabSynchronization,Date.now());return Ll(t).put(_r.key,n)},e.yt=function(){return uc.yt()},e.prototype.Xe=function(t){var n=this,r=Ll(t);return r.get(_r.key).next(function(i){return n.tn(i)?(Y("IndexedDbPersistence","Releasing primary lease."),r.delete(_r.key)):W.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Ft("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),aW()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return Y("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ft("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ft("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Ll(e){return hr(e,_r.store)}function zd(e){return hr(e,oo.store)}function wT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var I8=function(e,t){this.progress=e,this.wn=t},LL=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):lT(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new de(n)).next(function(r){var i=qb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=qb();return this.Ut.getCollectionParents(t,s).next(function(c){return W.forEach(c,function(l){var h=function(d,v){return new mo(v,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.An(t,h,r).next(function(d){d.forEach(function(v,g){a=a.insert(v,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return i=c,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,a.Rn(t,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],g=0,y=v.mutations;g<y.length;g++){var _=y[g],b=_.key,T=i.get(b);T==null&&(T=bn.newInvalidDocument(b),i=i.insert(b,T)),Bb(_,T,v.localWriteTime),T.isFoundDocument()||(i=i.remove(b))}})}).next(function(){return i.forEach(function(c,l){_h(n,l)||(i=i.remove(c))}),i})},e.prototype.Rn=function(t,n,r){for(var i=ot(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof hs&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(g,y){y.isFoundDocument()&&(d=d.insert(g,y))}),d})},e}(),S8=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=ot(),i=ot(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),FL=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(De.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var c=s.Cn(n,a);return(hp(n)||sv(n))&&s.Nn(n.limitType,c,i,r)?s.Dn(t,n):(Fb()<=Le.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vb(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(l){return c.forEach(function(h){l=l.insert(h.key,h)}),l}))})},e.prototype.Cn=function(t,n){var r=new zt(nL(t));return n.forEach(function(i,s){_h(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Fb()<=Le.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Vb(n)),this.Sn.getDocumentsMatchingQuery(t,n,De.min())},e}(),C8=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new Pn(Ve),this.Fn=new Dc(function(s){return mh(s)},Sg),this.$n=De.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new LL(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(e,t,n,r){return new C8(e,t,n,r)}function jL(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=ee(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n._n.getAllMutationBatches(c).next(function(h){return l=h,r=n.persistence.getMutationQueue(t),i=new LL(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(h){for(var d=[],v=[],g=ot(),y=0,_=l;y<_.length;y++){var b=_[y];d.push(b.batchId);for(var T=0,C=b.mutations;T<C.length;T++){var x=C[T];g=g.add(x.key)}}for(var O=0,L=h;O<L.length;O++){var $=L[O];v.push($.batchId);for(var P=0,ie=$.mutations;P<ie.length;P++){var F=ie[P];g=g.add(F.key)}}return i.pn(c,g).next(function(se){return{Ln:se,removedBatchIds:d,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function A8(e,t){var n=ee(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),g=W.resolve();return v.forEach(function(y){g=g.next(function(){return h.getEntry(c,y)}).next(function(_){var b=l.docVersions.get(y);be(b!==null),_.version.compareTo(b)<0&&(d.applyToRemoteDocument(_,l),_.isValidDocument()&&h.addEntry(_,l.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(c,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function VL(e){var t=ee(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function k8(e,t){var n=ee(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var c=[];t.targetChanges.forEach(function(d,v){var g=i.get(v);if(g){c.push(n.qe.removeMatchingKeys(s,d.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,v)}));var y=d.resumeToken;if(y.approximateByteSize()>0){var _=g.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,_),function(b,T,C){return be(T.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,_,d)&&c.push(n.qe.updateTargetData(s,_))}}});var l=qr();if(t.documentUpdates.forEach(function(d,v){t.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(BL(s,a,t.documentUpdates,r,void 0).next(function(d){l=d})),!r.isEqual(De.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(h)}return W.waitFor(c).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,l)}).next(function(){return l})}).then(function(s){return n.kn=i,s})}function BL(e,t,n,r,i){var s=ot();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var c=qr();return n.forEach(function(l,h){var d=a.get(l),v=(i==null?void 0:i.get(l))||r;h.isNoDocument()&&h.version.isEqual(De.min())?(t.removeEntry(l,v),c=c.insert(l,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h,v),c=c.insert(l,h)):Y("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function R8(e,t){var n=ee(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function fc(e,t){var n=ee(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,W.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new Rg(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function hc(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:r=ee(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.referenceDelegate.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!La(a=c.sent()))throw a;return Y("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function lv(e,t,n){var r=ee(e),i=De.min(),s=ot();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=ee(c),v=d.Fn.get(h);return v!==void 0?W.resolve(d.kn.get(v)):d.qe.getTargetData(l,h)}(r,a,Kr(t)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,c.targetId).next(function(l){s=l})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:De.min(),n?s:ot())}).next(function(c){return{documents:c,Bn:s}})})}function qL(e,t){var n=ee(e),r=ee(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function $L(e){var t=ee(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=ee(r),c=qr(),l=mT(s),h=Vo(i),d=IDBKeyRange.lowerBound(l,!0);return h.$t({index:At.readTimeIndex,range:d},function(v,g){var y=Hb(a.R,g);c=c.insert(y.key,y),l=g.readTime}).next(function(){return{wn:c,readTime:NL(l)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function N8(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=ee(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Vo(i),a=De.min();return s.$t({index:At.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=NL(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function x8(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y;return A(this,function(_){switch(_.label){case 0:for(i=ee(e),s=ot(),a=qr(),c=dL(),l=0,h=n;l<h.length;l++)d=h[l],v=t.qn(d.metadata.name),d.document&&(s=s.add(v)),a=a.insert(v,t.Un(d)),c=c.insert(v,t.Kn(d.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,fc(i,function(b){return Kr(Pc(Xe.fromString("__bundle__/docs/"+b)))}(r))];case 1:return y=_.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(b){return BL(b,g,a,De.min(),c).next(function(T){return g.apply(b),T}).next(function(T){return i.qe.removeMatchingKeysForTargetId(b,y.targetId).next(function(){return i.qe.addMatchingKeys(b,s,y.targetId)}).next(function(){return i.Mn.En(b,T)}).next(function(){return T})})})]}})})}function O8(e,t,n){return n===void 0&&(n=ot()),R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,fc(e,Kr(yT(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=ee(e)).persistence.runTransaction("Save named query","readwrite",function(a){var c=on(t.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ke.saveNamedQuery(a,t);var l=r.withResumeToken(zn.EMPTY_BYTE_STRING,c);return i.kn=i.kn.insert(l.targetId,l),i.qe.updateTargetData(a,l).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P8=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return W.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:on(r.createTime)}),W.resolve()},e.prototype.getNamedQuery=function(t,n){return W.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:yT(r.bundledQuery),readTime:on(r.readTime)}}(n)),W.resolve()},e}(),bT=function(){function e(){this.Wn=new zt(Xt.Gn),this.zn=new zt(Xt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Xt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Xt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new de(new Xe([])),i=new Xt(r,t),s=new Xt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(c){n.Yn(c),a.push(c.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new de(new Xe([])),r=new Xt(n,t),i=new Xt(n,t+1),s=ot();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Xt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Xt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return de.comparator(t.key,n.key)||Ve(t.ns,n.ns)},e.Hn=function(t,n){return Ve(t.ns,n.ns)||de.comparator(t.key,n.key)},e}(),D8=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new zt(Xt.Gn)}return e.prototype.checkEmpty=function(t){return W.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new gT(s,n,r,i);this._n.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.rs=this.rs.add(new Xt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return W.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return W.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return W.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return W.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return W.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Xt(n,0),s=new Xt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(c){var l=r.os(c.ns);a.push(l)}),W.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new zt(Ve);return n.forEach(function(s){var a=new Xt(s,0),c=new Xt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,c],function(l){i=i.add(l.ns)})}),W.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;de.isDocumentKey(s)||(s=s.child(""));var a=new Xt(new de(s),0),c=new zt(Ve);return this.rs.forEachWhile(function(l){var h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.ns)),!0)},a),W.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;be(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return W.forEach(n.mutations,function(s){var a=new Xt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Xt(n,0),i=this.rs.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,W.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),M8=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Pn(de.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:c,readTime:r}),this.size+=c-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return W.resolve(r?r.document.clone():bn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=qr();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():bn.newInvalidDocument(s))}),W.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=qr(),s=new de(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var c=a.getNext(),l=c.key,h=c.value,d=h.document,v=h.readTime;if(!n.path.isPrefixOf(l.path))break;v.compareTo(r)<=0||_h(n,d)&&(i=i.insert(d.key,d.clone()))}return W.resolve(i)},e.prototype.fs=function(t,n){return W.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new L8(this)},e.prototype.getSize=function(t){return W.resolve(this.size)},e}(),L8=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return te(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),W.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(ML),F8=function(){function e(t){this.persistence=t,this.ds=new Dc(function(n){return mh(n)},Sg),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ws=0,this._s=new bT,this.targetCount=0,this.ys=cv.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),W.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return W.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return W.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),W.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),W.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new cv(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,W.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),W.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,W.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.ds.delete(c),a.push(i.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),W.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return W.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return W.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),W.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),W.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),W.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return W.resolve(r)},e.prototype.containsKey=function(t,n){return W.resolve(this._s.containsKey(n))},e}(),U8=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Tr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new F8(this),this.Ut=new h8,this.Ue=function(i,s){return new M8(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new RL(n),this.Ke=new P8(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new D8(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;Y("MemoryPersistence","Starting transaction:",t);var s=new j8(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return W.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),j8=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return te(t,e),t}(AL),V8=function(){function e(t){this.persistence=t,this.As=new bT,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw he()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),W.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),W.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),W.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.vs,function(i){var s=de.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return W.or([function(){return W.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),hn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(e,t){return"firestore_clients_"+e+"_"+t}function sN(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function aw(e,t){return"firestore_targets_"+e+"_"+t}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");var aN=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new H(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(Ft("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),uw=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new H(i.error.code,i.error.message)),s?new e(t,i.state,r):(Ft("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),uN=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=kg(),a=0;i&&a<r.activeTargetIds.length;++a)i=YM(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(Ft("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),B8=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Ft("SharedClientState","Failed to parse online state: "+t),null)},e}(),Kb=function(){function e(){this.activeTargetIds=kg()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),cw=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Pn(Ve),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=oN(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Kb),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,c,l,h,d,v,g=this;return A(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(oN(this.persistenceKey,i)))&&(a=uN.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(l=this.js(c))&&this.Ws(l),h=0,d=this.$s;h<d.length;h++)v=d[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(aw(this.persistenceKey,t));if(r){var i=uw.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(aw(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return Y("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){Y("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){Y("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(Y("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return R(n,void 0,void 0,function(){var i,s,a,c,l,h;return A(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(l=this.js(r.newValue)))return[2,this.Ws(l)]}else if(r.key===this.Ms)(h=function(v){var g=Tr.o;if(v!=null)try{var y=JSON.parse(v);be(typeof y=="number"),g=y}catch(_){Ft("SharedClientState","Failed to read sequence number from WebStorage",_)}return g}(r.newValue))!==Tr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new aN(this.currentUser,t,n,r),s=sN(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=sN(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=aw(this.persistenceKey,t),s=new uw(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return uN.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return aN.Vs(new hn(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return uw.Vs(i,n)},e.prototype.js=function(t){return B8.Vs(t)},e.prototype.ii=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Y("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this.syncEngine.hi(c,l).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=kg();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),HL=function(){function e(){this.li=new Kb,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Kb,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),q8=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),cN=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),$8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},H8=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),K8=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return te(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,c){var l=new EY;l.listenOnce(_Y.COMPLETE,function(){try{switch(l.getLastErrorCode()){case ow.NO_ERROR:var d=l.getResponseJson();Y("Connection","XHR received:",JSON.stringify(d)),a(d);break;case ow.TIMEOUT:Y("Connection",'RPC "'+n+'" timed out'),c(new H(D.DEADLINE_EXCEEDED,"Request time out"));break;case ow.HTTP_ERROR:var v=l.getStatus();if(Y("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var g=l.getResponseJson().error;if(g&&g.status&&g.message){var y=function(_){var b=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(b)>=0?b:D.UNKNOWN}(g.status);c(new H(y,g.message))}else c(new H(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new H(D.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{Y("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=mY(),a=yY(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new bY({})),this.ki(c.initMessageHeaders,r),G0()||cP()||iW()||oW()||sW()||z0()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");Y("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,g=new H8({Ei:function(_){v?Y("Connection","Not sending because WebChannel is closed:",_):(d||(Y("Connection","Opening WebChannel transport."),h.open(),d=!0),Y("Connection","WebChannel sending:",_),h.send(_))},Ti:function(){return h.close()}}),y=function(_,b,T){_.listen(b,function(C){try{T(C)}catch(x){setTimeout(function(){throw x},0)}})};return y(h,Hd.EventType.OPEN,function(){v||Y("Connection","WebChannel transport opened.")}),y(h,Hd.EventType.CLOSE,function(){v||(v=!0,Y("Connection","WebChannel transport closed"),g.Vi())}),y(h,Hd.EventType.ERROR,function(_){v||(v=!0,Pf("Connection","WebChannel transport errored:",_),g.Vi(new H(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,Hd.EventType.MESSAGE,function(_){var b;if(!v){var T=_.data[0];be(!!T);var C=T,x=C.error||((b=C[0])===null||b===void 0?void 0:b.error);if(x){Y("Connection","WebChannel received error:",x);var O=x.status,L=function(P){var ie=Mt[P];if(ie!==void 0)return hL(ie)}(O),$=x.message;L===void 0&&(L=D.INTERNAL,$="Unknown error status: "+O+" with message "+x.message),v=!0,g.Vi(new H(L,$)),h.close()}else Y("Connection","WebChannel received:",T),g.Si(T)}}),y(a,wY.STAT_EVENT,function(_){_.stat===CR.PROXY?Y("Connection","Detected buffering proxy"):_.stat===CR.NOPROXY&&Y("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);Y("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(c){return Y("RestConnection","Received: ",c),c},function(c){throw Pf("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=$8[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){return typeof window<"u"?window:null}function vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e){return new YY(e,!0)}var ET=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&Y("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),WL=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ET(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return R(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Ft(n.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new H(D.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return R(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return Y("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),W8=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,c}return te(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:he()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(T,C){return T.I?(be(C===void 0||typeof C=="string"),zn.fromBase64String(C||"")):(be(C===void 0||C instanceof Uint8Array),zn.fromUint8Array(C||new Uint8Array))}(s,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(T){var C=T.code===void 0?D.UNKNOWN:hL(T.code);return new H(C,T.message||"")}(g);c=new vL(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=xi(s,l.document.name),d=on(l.document.updateTime);var g=new br({mapValue:{fields:l.document.fields}}),y=(v=bn.newFoundDocument(h,d,g),l.targetIds||[]),_=l.removedTargetIds||[];c=new pp(y,_,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=xi(s,l.document),d=l.readTime?on(l.readTime):De.min(),g=bn.newNoDocument(h,d),v=l.removedTargetIds||[],c=new pp([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=xi(s,l.document),d=l.removedTargetIds||[],c=new pp([],d,h,null);else{if(!("filter"in a))return he();a.filter;var b=a.filter;b.targetId,l=b.count||0,h=new BY(l),d=b.targetId,c=new pL(d,h)}return c}(this.R,n),i=function(s){if(!("targetChange"in s))return De.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?De.min():a.readTime?on(a.readTime):De.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=jf(this.R),r.addTarget=function(s,a){var c,l=a.target;return(c=iv(l)?{documents:bL(s,l)}:{query:EL(s,l)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=gL(s,a.resumeToken):a.snapshotVersion.compareTo(De.min())>0&&(c.readTime=Ff(s,a.snapshotVersion.toTimestamp())),c}(this.R,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,a.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=jf(this.R),r.removeTarget=n,this.cr(r)},t}(WL),G8=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,c.gr=!1,c}return te(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(be(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(be(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?on(l.updateTime):on(h);return d.isEqual(De.min())&&(d=on(h)),new UY(d,l.transformResults||[])}(c,a)})):[]}(n.writeResults,n.commitTime),i=on(n.commitTime);return this.listener.Tr(i,r)}return be(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=jf(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return av(r.R,s)})};this.cr(i)},t}(WL),z8=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return te(t,e),t.prototype.br=function(){if(this.Rr)throw new H(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new H(D.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new H(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Q8=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ft(n),this.Vr=!1):Y("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Y8=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return R(s,void 0,void 0,function(){return A(this,function(c){switch(c.label){case 0:return ds(this)?(Y("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return R(this,void 0,void 0,function(){var h;return A(this,function(d){switch(d.label){case 0:return(h=ee(l)).Or.add(4),[4,Mc(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,Ih(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new Q8(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!ds(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Mc(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ng(e,t){var n=ee(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),ST(n)?IT(n):Fc(n).er()&&TT(n,t))}function Vf(e,t){var n=ee(e),r=Fc(n);n.$r.delete(t),r.er()&&GL(n,t),n.$r.size===0&&(r.er()?r.ir():ds(n)&&n.Br.set("Unknown"))}function TT(e,t){e.qr.U(t.targetId),Fc(e).mr(t)}function GL(e,t){e.qr.U(t),Fc(e).yr(t)}function IT(e){e.qr=new GY({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Fc(e).start(),e.Br.Sr()}function ST(e){return ds(e)&&!Fc(e).tr()&&e.$r.size>0}function ds(e){return ee(e).Or.size===0}function zL(e){e.qr=void 0}function X8(e){return R(this,void 0,void 0,function(){return A(this,function(t){return e.$r.forEach(function(n,r){TT(e,n)}),[2]})})}function J8(e,t){return R(this,void 0,void 0,function(){return A(this,function(n){return zL(e),ST(e)?(e.Br.Nr(t),IT(e)):e.Br.set("Unknown"),[2]})})}function Z8(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof vL&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return R(this,void 0,void 0,function(){var h,d,v,g;return A(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(g=v[d],c.$r.has(g)?[4,c.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:y.sent(),c.$r.delete(g),c.qr.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Y("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,fv(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof pp?e.qr.X(t):t instanceof pL?e.qr.rt(t):e.qr.et(t),n.isEqual(De.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,VL(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(c,l){var h=c.qr.ut(l);return h.targetChanges.forEach(function(d,v){if(d.resumeToken.approximateByteSize()>0){var g=c.$r.get(v);g&&c.$r.set(v,g.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach(function(d){var v=c.$r.get(d);if(v){c.$r.set(d,v.withResumeToken(zn.EMPTY_BYTE_STRING,v.snapshotVersion)),GL(c,d);var g=new Rg(v.target,d,1,v.sequenceNumber);TT(c,g)}}),c.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Y("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,fv(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function fv(e,t,n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:if(!La(t))throw t;return e.Or.add(1),[4,Mc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return VL(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return A(this,function(s){switch(s.label){case 0:return Y("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Ih(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function QL(e,t){return t().catch(function(n){return fv(e,n,t)})}function Lc(e){return R(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:t=ee(e),n=us(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return ds(c)&&c.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,R8(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(c,l){c.Fr.push(l);var h=us(c);h.er()&&h.pr&&h.Er(l.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,fv(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return YL(t)&&XL(t),[2]}})})}function YL(e){return ds(e)&&!us(e).tr()&&e.Fr.length>0}function XL(e){us(e).start()}function eX(e){return R(this,void 0,void 0,function(){return A(this,function(t){return us(e).Ar(),[2]})})}function tX(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){for(t=us(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function nX(e,t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=l8.from(r,t,n),[4,QL(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Lc(e)];case 2:return s.sent(),[2]}})})}function rX(e,t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&us(e).pr?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return A(this,function(c){switch(c.label){case 0:return fL(a=i.code)&&a!==D.ABORTED?(s=r.Fr.shift(),us(r).sr(),[4,QL(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,Lc(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return YL(e)&&XL(e),[2]}})})}function Wb(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=ee(e),t?(n.Or.delete(2),[4,Ih(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Mc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Fc(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=ee(n);return s.br(),new W8(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:X8.bind(null,e),Ri:J8.bind(null,e),_r:Z8.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),ST(e)?IT(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),zL(e),r.label=3;case 3:return[2]}})})})),e.Ur}function us(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=ee(n);return s.br(),new G8(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:eX.bind(null,e),Ri:rX.bind(null,e),Ir:tX.bind(null,e),Tr:nX.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Lc(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(Y("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var iX=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Uc(e,t){if(Ft("AsyncQueue",t+": "+e),La(e))return new H(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JL=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||de.comparator(n.key,r.key)}:function(n,r){return de.comparator(n.key,r.key)},this.keyedMap=qb(),this.sortedSet=new Pn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),lN=function(){function e(){this.Qr=new Pn(de.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):he():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),hv=function(){function e(t,n,r,i,s,a,c,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,JL.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),oX=function(){this.Wr=void 0,this.listeners=[]},sX=function(){this.queries=new Dc(function(e){return tL(e)},yh),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:if(n=ee(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new oX),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return c=h.sent(),l=Uc(c,"Initialization of query '"+Vb(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&kT(n),[2]}})})}function AT(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(c){return n=ee(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function aX(e,t){for(var n=ee(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].Hr(a)&&(r=!0);l.Wr=a}}r&&kT(n)}function uX(e,t,n){var r=ee(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function kT(e){e.Gr.forEach(function(t){t.next()})}var RT=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new hv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=hv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),cX=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),fN=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return xi(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?wL(this.R,t.document,!1):bn.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return on(t)},e}(),lX=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=ZL(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new fN(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.qn(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var d=h[l],v=(n.get(d)||ot()).add(c);n.set(d,v)}}return n},e.prototype.complete=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,x8(this.localStore,new fN(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,O8(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new I8(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eF=function(e){this.key=e},tF=function(e){this.key=e},nF=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ot(),this.mutatedKeys=ot(),this.lo=nL(t),this.fo=new JL(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new lN,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,c=s,l=!1,h=hp(this.query)&&s.size===this.query.limit?s.last():null,d=sv(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,y){var _=s.get(g),b=_h(r.query,y)?y:null,T=!!_&&r.mutatedKeys.has(_.key),C=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),x=!1;_&&b?_.data.isEqual(b.data)?T!==C&&(i.track({type:3,doc:b}),x=!0):r.yo(_,b)||(i.track({type:2,doc:b}),x=!0,(h&&r.lo(b,h)>0||d&&r.lo(b,d)<0)&&(l=!0)):!_&&b?(i.track({type:0,doc:b}),x=!0):_&&!b&&(i.track({type:1,doc:_}),x=!0,(h||d)&&(l=!0)),x&&(b?(c=c.add(b),a=C?a.add(g):a.delete(g)):(c=c.delete(g),a=a.delete(g)))}),hp(this.query)||sv(this.query))for(;c.size>this.query.limit;){var v=hp(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:c,mo:i,Nn:l,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(d,v){return function(g,y){var _=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return _(g)-_(y)}(d.type,v.type)||i.lo(d.doc,v.doc)}),this.po(r);var c=n?this.Eo():[],l=this.ho.size===0&&this.current?1:0,h=l!==this.ao;return this.ao=l,a.length!==0||h?{snapshot:new hv(this.query,t.fo,s,a,t.mutatedKeys,l===0,h,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new lN,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ot(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new tF(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new eF(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ot();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return hv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),fX=function(e,t,n){this.query=e,this.targetId=t,this.view=n},hX=function(e){this.key=e,this.bo=!1},dX=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Dc(function(c){return tL(c)},yh),this.Vo=new Map,this.So=new Set,this.Do=new Pn(de.comparator),this.Co=new Map,this.No=new bT,this.xo={},this.ko=new Map,this.Fo=cv.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function pX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return A(this,function(l){switch(l.label){case 0:return n=DT(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,fc(n.localStore,Kr(t))];case 2:return a=l.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,NT(n,t,r,c==="current")];case 3:i=l.sent(),n.isPrimaryClient&&Ng(n.remoteStore,a),l.label=4;case 4:return[2,i]}})})}function NT(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h;return A(this,function(d){switch(d.label){case 0:return e.Oo=function(v,g,y){return function(_,b,T,C){return R(this,void 0,void 0,function(){var x,O,L;return A(this,function($){switch($.label){case 0:return x=b.view._o(T),x.Nn?[4,lv(_.localStore,b.query,!1).then(function(P){var ie=P.documents;return b.view._o(ie,x)})]:[3,2];case 1:x=$.sent(),$.label=2;case 2:return O=C&&C.targetChanges.get(b.targetId),L=b.view.applyChanges(x,_.isPrimaryClient,O),[2,(Gb(_,b.targetId,L.To),L.snapshot)]}})})}(e,v,g,y)},[4,lv(e.localStore,t,!0)];case 1:return i=d.sent(),s=new nF(t,i.Bn),a=s._o(i.documents),c=dT.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),l=s.applyChanges(a,e.isPrimaryClient,c),Gb(e,n,l.To),h=new fX(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}})})}function vX(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=ee(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!yh(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,hc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Vf(n.remoteStore,r.targetId),dc(n,r.targetId)}).catch(Fa)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return dc(n,r.targetId),[4,hc(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function gX(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:r=MT(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=ee(l),g=cr.now(),y=h.reduce(function(_,b){return _.add(b.key)},ot());return v.persistence.runTransaction("Locally write mutations","readwrite",function(_){return v.Mn.pn(_,y).next(function(b){d=b;for(var T=[],C=0,x=h;C<x.length;C++){var O=x[C],L=VY(O,d.get(O.key));L!=null&&T.push(new hs(O.key,L,XM(L.value.mapValue),An.exists(!0)))}return v._n.addMutationBatch(_,g,T,h)})}).then(function(_){return _.applyToLocalDocumentSet(d),{batchId:_.batchId,changes:d}})}(r.localStore,t)];case 2:return i=c.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(l,h,d){var v=l.xo[l.currentUser.toKey()];v||(v=new Pn(Ve)),v=v.insert(h,d),l.xo[l.currentUser.toKey()]=v}(r,i.batchId,n),[4,yo(r,i.changes)];case 3:return c.sent(),[4,Lc(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=Uc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function rF(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:n=ee(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,k8(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var c=n.Co.get(a);c&&(be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?be(c.bo):s.removedDocuments.size>0&&(be(c.bo),c.bo=!1))}),[4,yo(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Fa(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function hN(e,t,n){var r=ee(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var c=a.view.zr(t);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=ee(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,g=d.listeners;v<g.length;v++)g[v].zr(a)&&(l=!0)}),l&&kT(c)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function mX(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:return(r=ee(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new Pn(de.comparator)).insert(s,bn.newNoDocument(s,De.min())),c=ot().add(s),l=new hT(De.min(),new Map,new zt(Ve),a,c),[4,rF(r,l)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),PT(r),[3,4];case 2:return[4,hc(r.localStore,t,!1).then(function(){return dc(r,t,n)}).catch(Fa)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function yX(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:n=ee(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,A8(n.localStore,t)];case 2:return i=s.sent(),OT(n,r,null),xT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,yo(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Fa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function _X(e,t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:r=ee(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=ee(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l._n.lookupMutationBatch(h,c).next(function(v){return be(v!==null),d=v.keys(),l._n.removeMutationBatch(h,v)}).next(function(){return l._n.performConsistencyCheck(h)}).next(function(){return l.Mn.pn(h,d)})})}(r.localStore,t)];case 2:return i=s.sent(),OT(r,t,n),xT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,yo(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Fa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function wX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(c){switch(c.label){case 0:ds((n=ee(e)).remoteStore)||Y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=ee(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=c.sent(),a=Uc(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function xT(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function OT(e,t,n){var r=ee(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function dc(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||iF(e,a)})}function iF(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Vf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),PT(e))}function Gb(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof eF?(e.No.addReference(s.key,t),bX(e,s)):s instanceof tF?(Y("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||iF(e,s.key)):he()}}function bX(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Y("SyncEngine","New document in limbo: "+n),e.So.add(r),PT(e))}function PT(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new de(Xe.fromString(t)),r=e.Fo.next();e.Co.set(r,new hX(n)),e.Do=e.Do.insert(n,r),Ng(e.remoteStore,new Rg(Kr(Pc(n.path)),r,2,Tr.o))}}function yo(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:return r=ee(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(l,h){a.push(r.Oo(h,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=S8.Pn(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.vo._r(i),[4,function(l,h){return R(this,void 0,void 0,function(){var d,v,g,y,_,b,T,C,x;return A(this,function(O){switch(O.label){case 0:d=ee(l),O.label=1;case 1:return O.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(L){return W.forEach(h,function($){return W.forEach($.bn,function(P){return d.persistence.referenceDelegate.addReference(L,$.targetId,P)}).next(function(){return W.forEach($.vn,function(P){return d.persistence.referenceDelegate.removeReference(L,$.targetId,P)})})})})];case 2:return O.sent(),[3,4];case 3:if(!La(v=O.sent()))throw v;return Y("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,y=h;g<y.length;g++)_=y[g],b=_.targetId,_.fromCache||(T=d.kn.get(b),C=T.snapshotVersion,x=T.withLastLimboFreeSnapshotVersion(C),d.kn=d.kn.insert(b,x));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function EX(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return(n=ee(e)).currentUser.isEqual(t)?[3,3]:(Y("SyncEngine","User change. New user:",t.toKey()),[4,jL(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(c){c.forEach(function(l){l.reject(new H(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,yo(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function TX(e,t){var n=ee(e),r=n.Co.get(t);if(r&&r.bo)return ot().add(r.key);var i=ot(),s=n.Vo.get(t);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.Po.get(l);i=i.unionWith(h.view.wo)}return i}function IX(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,lv((n=ee(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Gb(n,t.targetId,i.To),i)]}})})}function SX(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,$L((t=ee(e)).localStore).then(function(r){return yo(t,r)})]})})}function CX(e,t,n,r){return R(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=ee(c),d=ee(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.jt(v,l).next(function(g){return g?h.Mn.pn(v,g):W.resolve(null)})})}((i=ee(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Lc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(OT(i,t,r||null),xT(i,t),function(c,l){ee(ee(c)._n).Gt(l)}(i.localStore,t)):he(),a.label=4;case 4:return[4,yo(i,s)];case 5:return a.sent(),[3,7];case 6:Y("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function AX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return A(this,function(d){switch(d.label){case 0:return DT(n=ee(e)),MT(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,dN(n,r.toArray())]);case 1:return i=d.sent(),n.$o=!0,[4,Wb(n.remoteStore,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],Ng(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(l=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?l.push(g):h=h.then(function(){return dc(n,g),hc(n.localStore,g,!0)}),Vf(n.remoteStore,g)}),[4,h]);case 4:return d.sent(),[4,dN(n,l)];case 5:return d.sent(),function(v){var g=ee(v);g.Co.forEach(function(y,_){Vf(g.remoteStore,_)}),g.No.ts(),g.Co=new Map,g.Do=new Pn(de.comparator)}(n),n.$o=!1,[4,Wb(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function dN(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g,y,_,b,T;return A(this,function(C){switch(C.label){case 0:r=ee(e),i=[],s=[],a=0,c=t,C.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Vo.get(l))&&d.length!==0?[4,fc(r.localStore,Kr(d[0]))]:[3,7]):[3,13];case 2:h=C.sent(),v=0,g=d,C.label=3;case 3:return v<g.length?(y=g[v],_=r.Po.get(y),[4,IX(r,_)]):[3,6];case 4:(b=C.sent()).snapshot&&s.push(b.snapshot),C.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,qL(r.localStore,l)];case 8:return T=C.sent(),[4,fc(r.localStore,T)];case 9:return h=C.sent(),[4,NT(r,oF(T),l,!1)];case 10:C.sent(),C.label=11;case 11:i.push(h),C.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function oF(e){return ZM(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function kX(e){var t=ee(e);return ee(ee(t.localStore).persistence).fn()}function RX(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return A(this,function(c){switch(c.label){case 0:return(i=ee(e)).$o?(Y("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$L(i.localStore)];case 3:return s=c.sent(),a=hT.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,yo(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,hc(i.localStore,t,!0)];case 6:return c.sent(),dc(i,t,r),[3,8];case 7:he(),c.label=8;case 8:return[2]}})})}function NX(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:if(!(r=DT(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(Y("SyncEngine","Adding an already active target "+a),[3,5]):[4,qL(r.localStore,a)]):[3,6];case 2:return c=y.sent(),[4,fc(r.localStore,c)];case 3:return l=y.sent(),[4,NT(r,oF(c),l.targetId,!1)];case 4:y.sent(),Ng(r.remoteStore,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(_){return A(this,function(b){switch(b.label){case 0:return r.Vo.has(_)?[4,hc(r.localStore,_,!1).then(function(){Vf(r.remoteStore,_),dc(r,_)}).catch(Fa)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(g=v[d],[5,h(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function DT(e){var t=ee(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mX.bind(null,t),t.vo._r=aX.bind(null,t.eventManager),t.vo.Mo=uX.bind(null,t.eventManager),t}function MT(e){var t=ee(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yX.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_X.bind(null,t),t}function xX(e,t,n){var r=ee(e);(function(i,s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(_,b){var T=ee(_),C=on(b.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",function(x){return T.Ke.getBundleMetadata(x,b.id)}).then(function(x){return!!x&&x.createTime.compareTo(C)>=0})}(i.localStore,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}}(c)))];case 4:return a._updateProgress(ZL(c)),l=new lX(c,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.oo(h)]:[3,10];case 7:return(d=y.sent())&&a._updateProgress(d),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,yo(i,v.wn,void 0)];case 12:return y.sent(),[4,function(_,b){var T=ee(_);return T.persistence.runTransaction("Save bundle","readwrite",function(C){return T.Ke.saveBundleMetadata(C,b)})}(i.localStore,c)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return Pf("SyncEngine","Loading bundle failed with "+(g=y.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var sF=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return UL(this.persistence,new FL,t.initialUser,this.R)},e.prototype.qo=function(t){return new U8(V8.bs,this.R)},e.prototype.Bo=function(t){return new HL},e.prototype.terminate=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),aF=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return te(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,N8(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,MT(this.Qo.syncEngine)];case 4:return i.sent(),[4,Lc(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return UL(this.persistence,new FL,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new m8(r,n.asyncQueue)},t.prototype.qo=function(n){var r=wT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new T8(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,KL(),vp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new HL},t}(sF),OX=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return te(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof cw?(this.sharedClientState.syncEngine={ui:CX.bind(null,r),ai:RX.bind(null,r),hi:NX.bind(null,r),fn:kX.bind(null,r),ci:SX.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return R(i,void 0,void 0,function(){return A(this,function(c){switch(c.label){case 0:return[4,AX(this.Qo.syncEngine,a)];case 1:return c.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=KL();if(!cw.yt(r))throw new H(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=wT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new cw(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(aF),zb=function(){function e(){}return e.prototype.initialize=function(t,n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return hN(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=EX.bind(null,this.syncEngine),[4,Wb(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new sX},e.prototype.createDatastore=function(t){var n,r=Th(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new K8(n));return function(s,a,c){return new z8(s,a,c)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,c=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(l){return hN(c.syncEngine,l,0)},a=cN.yt()?new cN:new q8,new Y8(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,c,l,h){var d=new dX(r,i,s,a,c,l);return h&&(d.$o=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=ee(t),Y("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Mc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return A(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xg=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),PX=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new On,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new cX(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),DX=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new H(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return c=ee(s),l=jf(c.R)+"/documents",h={documents:a.map(function(_){return Uf(c.R,_)})},[4,c.$i("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(_){var b=function(T,C){return"found"in C?function(x,O){be(!!O.found),O.found.name,O.found.updateTime;var L=xi(x,O.found.name),$=on(O.found.updateTime),P=new br({mapValue:{fields:O.found.fields}});return bn.newFoundDocument(L,$,P)}(T,C):"missing"in C?function(x,O){be(!!O.missing),be(!!O.readTime);var L=xi(x,O.missing),$=on(O.readTime);return bn.newNoDocument(L,$)}(T,C):he()}(c.R,_);v.set(b.key.toString(),b)}),g=[],[2,(a.forEach(function(_){var b=v.get(_.toString());be(!!b),g.push(b)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Eh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return R(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=de.fromPath(s);n.mutations.push(new fT(a,n.precondition(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,c,l;return A(this,function(h){switch(h.label){case 0:return a=ee(i),c=jf(a.R)+"/documents",l={writes:s.map(function(d){return av(a.R,d)})},[4,a.Ni("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw he();n=De.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new H(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?An.updateTime(n):An.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(De.min()))throw new H(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(n)}return An.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),MX=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new ET(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return R(t,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){return n=new DX(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(c){i.ic(c)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Ma(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!fL(n)}return!1},e}(),LX=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=hn.UNAUTHENTICATED,this.clientId=KM.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return R(i,void 0,void 0,function(){return A(this,function(a){switch(a.label){case 0:return Y("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new H(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return R(t,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Uc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(e,t){return R(this,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return R(i,void 0,void 0,function(){return A(this,function(c){switch(c.label){case 0:return r.isEqual(a)?[3,2]:[4,jL(t.localStore,a)];case 1:c.sent(),r=a,c.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function cF(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,LT(e)];case 1:return n=i.sent(),Y("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,c){return R(this,void 0,void 0,function(){var l,h;return A(this,function(d){switch(d.label){case 0:return(l=ee(a)).asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials"),h=ds(l),l.Or.add(3),[4,Mc(l)];case 1:return d.sent(),h&&l.Br.set("Unknown"),[4,l.remoteSyncer.handleCredentialChange(c)];case 2:return d.sent(),l.Or.delete(3),[4,Ih(l)];case 3:return d.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function LT(e){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Y("FirestoreClient","Using default OfflineComponentProvider"),[4,uF(e,new sF)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Og(e){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Y("FirestoreClient","Using default OnlineComponentProvider"),[4,cF(e,new zb)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function vN(e){return LT(e).then(function(t){return t.persistence})}function FT(e){return LT(e).then(function(t){return t.localStore})}function gN(e){return Og(e).then(function(t){return t.remoteStore})}function UT(e){return Og(e).then(function(t){return t.syncEngine})}function pc(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,Og(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=pX.bind(null,t.syncEngine),n.onUnlisten=vX.bind(null,t.syncEngine),n)]}})})}function mN(e,t,n){var r=this;n===void 0&&(n={});var i=new On;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var g=new xg({next:function(_){l.enqueueAndForget(function(){return AT(c,y)});var b=_.docs.has(h);!b&&_.fromCache?v.reject(new H(D.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&d&&d.source==="server"?v.reject(new H(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),y=new RT(Pc(h.path),g,{includeMetadataChanges:!0,so:!0});return CT(c,y)},[4,pc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function yN(e,t,n){var r=this;n===void 0&&(n={});var i=new On;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var g=new xg({next:function(_){l.enqueueAndForget(function(){return AT(c,y)}),_.fromCache&&d.source==="server"?v.reject(new H(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),y=new RT(h,g,{includeMetadataChanges:!0,so:!0});return CT(c,y)},[4,pc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var FX=function(e,t,n,r,i,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=c},dv=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),_N=new Map,lF=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},wN=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(hn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),UX=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),jX=function(){function e(t){var n=this;this.currentUser=hn.UNAUTHENTICATED,this.oc=new On,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){Y("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(Y("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(Y("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(be(typeof i.accessToken=="string"),new lF(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return be(t===null||typeof t=="string"),new hn(t)},e}(),VX=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=hn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),BX=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new VX(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(hn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(e,t,n){if(!n)throw new H(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function VT(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new H(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function fF(e,t,n,r){if(t===!0&&r===!0)throw new H(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function bN(e){if(!de.isDocumentKey(e))throw new H(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function EN(e){if(de.isDocumentKey(e))throw new H(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Pg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":he()}function Qe(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pg(e);throw new H(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function TN(e,t){if(t<=0)throw new H(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IN=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new H(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,fF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Bf=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IN({}),this._settingsFrozen=!1,t instanceof dv?(this._databaseId=t,this._credentials=new wN):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new H(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dv(r.options.projectId)}(t),this._credentials=new jX(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new H(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new H(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IN(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new wN;switch(n.type){case"gapi":var r=n.client;return be(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new BX(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new H(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=_N.get(t))&&(Y("ComponentProvider","Removing Datastore"),_N.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Tt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Jo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),lr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Jo=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Pc(i))||this)._path=i,s.type="collection",s}return te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Tt(this.firestore,null,new de(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(lr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ne(e),jT("collection","path",t),e instanceof Bf)return EN(n=Xe.fromString.apply(Xe,xe([t],r))),new Jo(e,null,n);if(!(e instanceof Tt||e instanceof Jo))throw new H(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return EN(n=Xe.fromString.apply(Xe,xe([e.path],r)).child(Xe.fromString(t))),new Jo(e.firestore,null,n)}function gp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ne(e),arguments.length===1&&(t=KM.u()),jT("doc","path",t),e instanceof Bf)return bN(n=Xe.fromString.apply(Xe,xe([t],r))),new Tt(e,null,new de(n));if(!(e instanceof Tt||e instanceof Jo))throw new H(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bN(n=e._path.child(Xe.fromString.apply(Xe,xe([t],r)))),new Tt(e.firestore,e instanceof Jo?e.converter:null,new de(n))}function dF(e,t){return e=Ne(e),t=Ne(t),(e instanceof Tt||e instanceof Jo)&&(t instanceof Tt||t instanceof Jo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pF(e,t){return e=Ne(e),t=Ne(t),e instanceof lr&&t instanceof lr&&e.firestore===t.firestore&&yh(e._query,t._query)&&e.converter===t.converter}var qX=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ET(this,"async_queue_retry"),this.Ic=function(){var r=vp();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new On;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return R(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!La(t=r.sent()))throw t;return Y("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Ft("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=iX.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&he()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,c){return a.targetTimeMs-c.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function vc(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var $X=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new On,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),HX=-1,Pt=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new qX,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return te(t,e),t.prototype._terminate=function(){return this._firestoreClient||vF(this),this._firestoreClient.terminate()},t}(Bf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e){return e._firestoreClient||vF(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function vF(e){var t,n=e._freezeSettings(),r=function(i,s,a,c){return new FX(i,s,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new LX(e._credentials,e._queue,r)}function SN(e,t,n){var r=this,i=new On;return e.asyncQueue.enqueue(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,uF(e,n)];case 1:return a.sent(),[4,cF(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===D.FAILED_PRECONDITION||c.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function CN(e){if(e._initialized||e._terminated)throw new H(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new H(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Ea=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(zn.fromBase64String(t))}catch(n){throw new H(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(zn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ua=function(e){this._methodName=e},Dg=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ve(this._lat,t._lat)||Ve(this._long,t._long)},e}(),KX=/^__.*__$/,WX=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,n,this.fieldTransforms):new bh(t,this.data,n,this.fieldTransforms)},e}(),gF=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new hs(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var yF=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return pv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(mF(this.Nc)&&KX.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),GX=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Th(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new yF({Nc:t,methodName:n,qc:r,path:fi.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ja(e){var t=e._freezeSettings(),n=Th(e._databaseId);return new GX(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Mg(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);HT("Data must be an object, but it was:",a,r);var c,l,h=bF(r,a);if(s.merge)c=new ec(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,g=s.mergeFields;v<g.length;v++){var y=Qb(t,g[v],n);if(!a.contains(y))throw new H(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");TF(d,y)||d.push(y)}c=new ec(d),l=a.fieldTransforms.filter(function(_){return c.covers(_.field)})}else c=null,l=a.fieldTransforms;return new WX(new br(h),c,l)}var BT=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ua);function _F(e,t,n){return new yF({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var zX=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype._toFieldTransform=function(n){return new wh(n.path,new ic)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ua),QX=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return te(t,e),t.prototype._toFieldTransform=function(n){var r=_F(this,n,!0),i=this.Kc.map(function(a){return Va(a,r)}),s=new wa(i);return new wh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ua),YX=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return te(t,e),t.prototype._toFieldTransform=function(n){var r=_F(this,n,!0),i=this.Kc.map(function(a){return Va(a,r)}),s=new ba(i);return new wh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ua),XX=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return te(t,e),t.prototype._toFieldTransform=function(n){var r=new oc(n.R,oL(n.R,this.Qc));return new wh(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ua);function qT(e,t,n,r){var i=e.Uc(1,t,n);HT("Data must be an object, but it was:",i,r);var s=[],a=br.empty();Da(r,function(l,h){var d=KT(t,l,n);h=Ne(h);var v=i.Oc(d);if(h instanceof BT)s.push(d);else{var g=Va(h,v);g!=null&&(s.push(d),a.set(d,g))}});var c=new ec(s);return new gF(a,c,i.fieldTransforms)}function $T(e,t,n,r,i,s){var a=e.Uc(1,t,n),c=[Qb(t,r,n)],l=[i];if(s.length%2!=0)throw new H(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(Qb(t,s[h])),l.push(s[h+1]);for(var d=[],v=br.empty(),g=c.length-1;g>=0;--g)if(!TF(d,c[g])){var y=c[g],_=l[g];_=Ne(_);var b=a.Oc(y);if(_ instanceof BT)d.push(y);else{var T=Va(_,b);T!=null&&(d.push(y),v.set(y,T))}}var C=new ec(d);return new gF(v,C,a.fieldTransforms)}function wF(e,t,n,r){return r===void 0&&(r=!1),Va(n,e.Uc(r?4:3,t))}function Va(e,t){if(EF(e=Ne(e)))return HT("Unsupported field value:",t,e),bF(e,t);if(e instanceof Ua)return function(n,r){if(!mF(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=Va(c[a],r.Mc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Ne(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return oL(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=cr.fromDate(n);return{timestampValue:Ff(r.R,i)}}if(n instanceof cr)return i=new cr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Ff(r.R,i)};if(n instanceof Dg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ea)return{bytesValue:gL(r.R,n._byteString)};if(n instanceof Tt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:pT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Pg(n))}(e,t)}function bF(e,t){var n={};return GM(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Da(e,function(r,i){var s=Va(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function EF(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof cr||e instanceof Dg||e instanceof Ea||e instanceof Tt||e instanceof Ua)}function HT(e,t,n){if(!EF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Pg(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Qb(e,t,n){if((t=Ne(t))instanceof Oi)return t._internalPath;if(typeof t=="string")return KT(e,t);throw pv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var JX=new RegExp("[~\\*/\\[\\]]");function KT(e,t,n){if(t.search(JX)>=0)throw pv("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Oi.bind.apply(Oi,xe([void 0],t.split("."))))()._internalPath}catch{throw pv("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function pv(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new H(D.INVALID_ARGUMENT,(c+=". ")+e+l)}function TF(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qf=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Tt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new ZX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(vv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),ZX=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(qf);function vv(e,t){return typeof t=="string"?KT(e,t):t instanceof Oi?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Js=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),so=function(e){function t(n,r,i,s,a,c){var l=this;return(l=e.call(this,n,r,i,s,c)||this)._firestore=n,l._firestoreImpl=n,l.metadata=a,l}return te(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(vv("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(qf),sf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(so),$o=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Js(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new sf(r._firestore,r._userDataWriter,i.key,i,new Js(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new sf(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Js(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new sf(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Js(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:eJ(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function eJ(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}function IF(e,t){return e instanceof so&&t instanceof so?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $o&&t instanceof $o&&e._firestore===t._firestore&&pF(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(e){if(sv(e)&&e.explicitOrderBy.length===0)throw new H(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sh=function(){};function Lo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var tJ=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return te(t,e),t.prototype._apply=function(n){var r=ja(n.firestore),i=function(s,a,c,l,h,d,v){var g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){xN(v,d);for(var y=[],_=0,b=v;_<b.length;_++){var T=b[_];y.push(NN(l,s,T))}g={arrayValue:{values:y}}}else g=NN(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||xN(v,d),g=wF(c,"where",v,d==="in"||d==="not-in");var C=Ir.create(h,d,g);return function(x,O){if(O.g()){var L=cT(x);if(L!==null&&!L.isEqual(O.field))throw new H(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+L.toString()+"' and '"+O.field.toString()+"'");var $=uT(x);$!==null&&AF(x,O.field,$)}var P=function(ie,F){for(var se=0,k=ie.filters;se<k.length;se++){var dt=k[se];if(F.indexOf(dt.op)>=0)return dt.op}return null}(x,function(ie){switch(ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(O.op));if(P!==null)throw P===O.op?new H(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+O.op.toString()+"' filter."):new H(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+O.op.toString()+"' filters with '"+P.toString()+"' filters.")}(s,C),C}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new lr(n.firestore,n.converter,function(s,a){var c=s.filters.concat([a]);return new mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(Sh),nJ=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return te(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new H(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Mu(s,a);return function(l,h){if(uT(l)===null){var d=cT(l);d!==null&&AF(l,d,h.field)}}(i,c),c}(n._query,this.jc,this.zc);return new lr(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new mo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Sh),AN=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return te(t,e),t.prototype._apply=function(n){return new lr(n.firestore,n.converter,eL(n._query,this.Hc,this.Jc))},t}(Sh),kN=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return te(t,e),t.prototype._apply=function(n){var r=CF(n,this.type,this.Yc,this.Xc);return new lr(n.firestore,n.converter,function(i,s){return new mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(Sh),RN=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return te(t,e),t.prototype._apply=function(n){var r=CF(n,this.type,this.Yc,this.Xc);return new lr(n.firestore,n.converter,function(i,s){return new mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(Sh);function CF(e,t,n,r){if(n[0]=Ne(n[0]),n[0]instanceof qf)return function(s,a,c,l,h){if(!l)throw new H(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,g=rc(s);v<g.length;v++){var y=g[v];if(y.field.isKeyField())d.push(rv(a,l.key));else{var _=l.data.field(y.field);if(oT(_))throw new H(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var b=y.field.canonicalString();throw new H(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}d.push(_)}}return new Lf(d,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ja(e.firestore);return function(s,a,c,l,h,d){var v=s.explicitOrderBy;if(h.length>v.length)throw new H(D.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<h.length;y++){var _=h[y];if(v[y].field.isKeyField()){if(typeof _!="string")throw new H(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof _);if(!lT(s)&&_.indexOf("/")!==-1)throw new H(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+_+"' contains a slash.");var b=s.path.child(Xe.fromString(_));if(!de.isDocumentKey(b))throw new H(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var T=new de(b);g.push(rv(a,T))}else{var C=wF(c,l,_);g.push(C)}}return new Lf(g,d)}(e._query,e.firestore._databaseId,i,t,n,r)}function NN(e,t,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new H(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!lT(t)&&n.indexOf("/")!==-1)throw new H(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Xe.fromString(n));if(!de.isDocumentKey(r))throw new H(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rv(e,new de(r))}if(n instanceof Tt)return rv(e,n._key);throw new H(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pg(n)+".")}function xN(e,t){if(!Array.isArray(e)||e.length===0)throw new H(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new H(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function AF(e,t,n){if(!n.isEqual(t))throw new H(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WT=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),_a(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Lt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(tc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw he()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Da(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new Dg(Lt(t.latitude),Lt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=QM(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Df(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=as(t);return new cr(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Xe.fromString(t);be(SL(r));var i=new dv(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||Ft("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rJ=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return te(t,e),t.prototype.convertBytes=function(n){return new Ea(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,r)},t}(WT),iJ=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ja(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Ho(t,this._firestore),s=Lg(i.converter,n,r),a=Mg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,An.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,c=Ho(t,this._firestore);return a=typeof(n=Ne(n))=="string"||n instanceof Oi?$T(this._dataReader,"WriteBatch.update",c._key,n,r,i):qT(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(a.toMutation(c._key,An.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Ho(t,this._firestore);return this._mutations=this._mutations.concat(new Eh(n._key,An.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new H(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e,t){if((e=Ne(e)).firestore!==t)throw new H(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sa=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return te(t,e),t.prototype.convertBytes=function(n){return new Ea(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,r)},t}(WT);function ON(e,t,n){e=Qe(e,Tt);var r=Qe(e.firestore,Pt),i=Lg(e.converter,t,n);return Ch(r,[Mg(ja(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,An.none())])}function PN(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Qe(e,Tt);var s=Qe(e.firestore,Pt),a=ja(s);return Ch(s,[(typeof(t=Ne(t))=="string"||t instanceof Oi?$T(a,"updateDoc",e._key,t,n,r):qT(a,"updateDoc",e._key,t)).toMutation(e._key,An.exists(!0))])}function kF(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=Ne(e);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||vc(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(vc(i[c])){var g=i[c];i[c]=(t=g.next)===null||t===void 0?void 0:t.bind(g),i[c+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[c+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof Tt)h=Qe(e.firestore,Pt),d=Pc(e._key.path),l={next:function(b){i[c]&&i[c](Yb(h,e,b))},error:i[c+1],complete:i[c+2]};else{var y=Qe(e,lr);h=Qe(y.firestore,Pt),d=y._query;var _=new sa(h);l={next:function(b){i[c]&&i[c](new $o(h,_,y,b))},error:i[c+1],complete:i[c+2]},SF(e._query)}return function(b,T,C,x){var O=this,L=new xg(x),$=new RT(T,L,C);return b.asyncQueue.enqueueAndForget(function(){return R(O,void 0,void 0,function(){var P;return A(this,function(ie){switch(ie.label){case 0:return P=CT,[4,pc(b)];case 1:return[2,P.apply(void 0,[ie.sent(),$])]}})})}),function(){L.Wo(),b.asyncQueue.enqueueAndForget(function(){return R(O,void 0,void 0,function(){var P;return A(this,function(ie){switch(ie.label){case 0:return P=AT,[4,pc(b)];case 1:return[2,P.apply(void 0,[ie.sent(),$])]}})})})}}(tn(h),d,v,l)}function Ch(e,t){return function(n,r){var i=this,s=new On;return n.asyncQueue.enqueueAndForget(function(){return R(i,void 0,void 0,function(){var a;return A(this,function(c){switch(c.label){case 0:return a=gX,[4,UT(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(tn(e),t)}function Yb(e,t,n){var r=n.docs.get(t._key),i=new sa(e);return new so(e,i,t._key,r,new Js(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oJ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return te(t,e),t.prototype.get=function(n){var r=this,i=Ho(n,this._firestore),s=new sa(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new so(r._firestore,s,i._key,a._document,new Js(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ja(t)}return e.prototype.get=function(t){var n=this,r=Ho(t,this._firestore),i=new rJ(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return he();var a=s[0];if(a.isFoundDocument())return new qf(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new qf(n._firestore,i,r._key,null,r.converter);throw he()})},e.prototype.set=function(t,n,r){var i=Ho(t,this._firestore),s=Lg(i.converter,n,r),a=Mg(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=Ho(t,this._firestore);return a=typeof(n=Ne(n))=="string"||n instanceof Oi?$T(this._dataReader,"Transaction.update",c._key,n,r,i):qT(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,a),this},e.prototype.delete=function(t){var n=Ho(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){if(typeof Uint8Array>"u")throw new H(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function MN(){if(typeof atob>"u")throw new H(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var RF=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return MN(),new e(Ea.fromBase64String(t))},e.fromUint8Array=function(t){return DN(),new e(Ea.fromUint8Array(t))},e.prototype.toBase64=function(){return MN(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return DN(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),sJ=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){CN(r=Qe(r,Pt));var s=tn(r),a=r._freezeSettings(),c=new zb;return SN(s,c,new aF(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){CN(n=Qe(n,Pt));var r=tn(n),i=n._freezeSettings(),s=new zb;return SN(r,s,new OX(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new H(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new On;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return R(this,void 0,void 0,function(){var l;return A(this,function(h){switch(h.label){case 0:return uc.yt()?(l=c+"main",[4,uc.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(wT(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),GT=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof dv||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Pf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,c){var l;c===void 0&&(c={});var h=(i=Qe(i,Bf))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&Pf("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),c.mockUserToken){var d,v;if(typeof c.mockUserToken=="string")d=c.mockUserToken,v=hn.MOCK_USER;else{d=W0(c.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);var g=c.mockUserToken.sub||c.mockUserToken.user_id;if(!g)throw new H(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(g)}i._credentials=new UX(new lF(d,v))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,vN(t)];case 1:return r=s.sent(),[4,gN(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var c=ee(a);return c.Or.delete(0),Ih(c)}(i))]}})})})}(tn(Qe(this._delegate,Pt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,vN(t)];case 1:return r=s.sent(),[4,gN(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return R(this,void 0,void 0,function(){var c;return A(this,function(l){switch(l.label){case 0:return(c=ee(a)).Or.add(0),[4,Mc(c)];case 1:return l.sent(),c.Br.set("Offline"),[2]}})})}(i))]}})})})}(tn(Qe(this._delegate,Pt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&fF("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new On;return t.asyncQueue.enqueueAndForget(function(){return R(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return i=wX,[4,UT(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(tn(Qe(this._delegate,Pt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,c=new xg(s);return i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var l;return A(this,function(h){switch(h.label){case 0:return l=function(d,v){ee(d).Gr.add(v),v.next()},[4,pc(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})}),function(){c.Wo(),i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var l;return A(this,function(h){switch(h.label){case 0:return l=function(d,v){ee(d).Gr.delete(v)},[4,pc(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})})}}(tn(n=Qe(n,Pt)),vc(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new H(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gv(this,hF(this._delegate,t))}catch(n){throw Bn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new aa(this,gp(this._delegate,t))}catch(n){throw Bn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ah(this,function(n,r){if(n=Qe(n,Bf),jT("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new H(D.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new lr(n,null,function(i){return new mo(Xe.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Bn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var c=this,l=new On;return s.asyncQueue.enqueueAndForget(function(){return R(c,void 0,void 0,function(){var h;return A(this,function(d){switch(d.label){case 0:return[4,function(v){return Og(v).then(function(g){return g.datastore})}(s)];case 1:return h=d.sent(),new MX(s.asyncQueue,h,a,l).run(),[2]}})})}),l.promise}(tn(r),function(s){return i(new oJ(r,s))})}(this._delegate,function(r){return t(new NF(n,r))})},e.prototype.batch=function(){var t=this;return tn(this._delegate),new xF(new iJ(this._delegate,function(n){return Ch(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new H(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new H(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Fg=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return te(t,e),t.prototype.convertBytes=function(n){return new RF(new Ea(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return aa.eu(r,this.firestore,null)},t}(WT);function aJ(e){var t;t=e,ci.setLogLevel(t)}var NF=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Fg(t)}return e.prototype.get=function(t){var n=this,r=Zs(t);return this._delegate.get(r).then(function(i){return new $f(n._firestore,new so(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Zs(t);return r?(VT("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=Zs(t);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,xe([c,n,r],s)),this},e.prototype.delete=function(t){var n=Zs(t);return this._delegate.delete(n),this},e}(),xF=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Zs(t);return r?(VT("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=Zs(t);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,xe([c,n,r],s)),this},e.prototype.delete=function(t){var n=Zs(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ug=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new sf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Hf(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Fg(t),n),i.set(n,s)),s},e}();Ug.su=new WeakMap;var aa=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Fg(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new H(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Tt(n._delegate,r,new de(t)))},e.eu=function(t,n,r){return new e(n,new Tt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new gv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gv(this.firestore,hF(this._delegate,t))}catch(n){throw Bn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Ne(t))instanceof Tt&&dF(this._delegate,t)},e.prototype.set=function(t,n){n=VT("DocumentReference.set",n);try{return n?ON(this._delegate,t,n):ON(this._delegate,t)}catch(r){throw Bn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?PN(this._delegate,t):PN.apply(void 0,xe([this._delegate,t,n],r))}catch(s){throw Bn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ch(Qe((t=this._delegate).firestore,Pt),[new Eh(t._key,An.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=OF(n),s=PF(n,function(a){return new $f(t.firestore,new so(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return kF(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Qe(r,Tt);var i=Qe(r.firestore,Pt),s=tn(i),a=new sa(i);return function(c,l){var h=this,d=new On;return c.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=function(y,_,b){return R(this,void 0,void 0,function(){var T,C;return A(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,function(O,L){var $=ee(O);return $.persistence.runTransaction("read document","readonly",function(P){return $.Mn.mn(P,L)})}(y,_)];case 1:return(C=x.sent()).isFoundDocument()?b.resolve(C):C.isNoDocument()?b.resolve(null):b.reject(new H(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return T=x.sent(),C=Uc(T,"Failed to get document '"+_+" from cache"),b.reject(C),[3,3];case 3:return[2]}})})},[4,FT(c)];case 1:return[2,v.apply(void 0,[g.sent(),l,d])]}})})}),d.promise}(s,r._key).then(function(c){return new so(i,a,r._key,c,new Js(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Qe(r,Tt);var i=Qe(r.firestore,Pt);return mN(tn(i),r._key,{source:"server"}).then(function(s){return Yb(i,r,s)})}(this._delegate):function(r){r=Qe(r,Tt);var i=Qe(r.firestore,Pt);return mN(tn(i),r._key).then(function(s){return Yb(i,r,s)})}(this._delegate)).then(function(r){return new $f(n.firestore,new so(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ug.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Bn(e,t,n){return e.message=e.message.replace(t,n),e}function OF(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!vc(r))return r}return{}}function PF(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=vc(e[0])?e[0]:vc(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var $f=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new aa(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return IF(this._delegate,t._delegate)},e}(),Hf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return te(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}($f),Ah=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Fg(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Lo(this._delegate,function(i,s,a){var c=s,l=vv("where",i);return new tJ(l,c,a)}(t,n,r)))}catch(i){throw Bn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Lo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=vv("orderBy",r);return new nJ(a,s)}(t,n)))}catch(r){throw Bn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lo(this._delegate,function(n){return TN("limit",n),new AN("limit",n,"F")}(t)))}catch(n){throw Bn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lo(this._delegate,function(n){return TN("limitToLast",n),new AN("limitToLast",n,"L")}(t)))}catch(n){throw Bn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new kN("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Bn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new kN("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Bn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new RN("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Bn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new RN("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Bn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return pF(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Qe(r,lr);var i=Qe(r.firestore,Pt),s=tn(i),a=new sa(i);return function(c,l){var h=this,d=new On;return c.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=function(y,_,b){return R(this,void 0,void 0,function(){var T,C,x,O,L;return A(this,function($){switch($.label){case 0:return $.trys.push([0,2,,3]),[4,lv(y,_,!0)];case 1:return L=$.sent(),T=new nF(_,L.Bn),C=T._o(L.documents),x=T.applyChanges(C,!1),b.resolve(x.snapshot),[3,3];case 2:return O=$.sent(),L=Uc(O,"Failed to execute query '"+_+" against cache"),b.reject(L),[3,3];case 3:return[2]}})})},[4,FT(c)];case 1:return[2,v.apply(void 0,[g.sent(),l,d])]}})})}),d.promise}(s,r._query).then(function(c){return new $o(i,a,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Qe(r,lr);var i=Qe(r.firestore,Pt),s=tn(i),a=new sa(i);return yN(s,r._query,{source:"server"}).then(function(c){return new $o(i,a,r,c)})}(this._delegate):function(r){r=Qe(r,lr);var i=Qe(r.firestore,Pt),s=tn(i),a=new sa(i);return SF(r._query),yN(s,r._query).then(function(c){return new $o(i,a,r,c)})}(this._delegate)).then(function(r){return new Xb(n.firestore,new $o(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=OF(n),s=PF(n,function(a){return new Xb(t.firestore,new $o(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return kF(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ug.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),uJ=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Hf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Xb=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ah(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Hf(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new uJ(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Hf(r._firestore,i))})},e.prototype.isEqual=function(t){return IF(this._delegate,t._delegate)},e}(),gv=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new aa(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new aa(this.firestore,n===void 0?gp(this._delegate):gp(this._delegate,n))}catch(r){throw Bn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Qe(i.firestore,Pt),c=gp(i),l=Lg(i.converter,s);return Ch(a,[Mg(ja(i.firestore),"addDoc",c._key,l,i.converter!==null,{}).toMutation(c._key,An.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(i){return new aa(r.firestore,i)})},t.prototype.isEqual=function(n){return dF(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Ug.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Ah);function Zs(e){return Qe(e,Tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cJ=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Oi.bind.apply(Oi,xe([void 0],t)))}return e.documentId=function(){return new e(fi.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Ne(t))instanceof Oi&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),lJ=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new zX("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new BT("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new QX("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new YX("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new XX("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJ(e){return function(t,n){var r=tn(t=Qe(t,Pt)),i=new $X;return function(s,a,c,l){var h=this,d=function(v,g){return function(y,_){return new PX(y,_)}(function(y,_){if(y instanceof Uint8Array)return pN(y,_);if(y instanceof ArrayBuffer)return pN(new Uint8Array(y),_);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(c,Th(a));s.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=xX,[4,UT(s)];case 1:return v.apply(void 0,[g.sent(),d,l]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function hJ(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return R(a,void 0,void 0,function(){var c;return A(this,function(l){switch(l.label){case 0:return c=function(h,d){var v=ee(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.Ke.getNamedQuery(g,d)})},[4,FT(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(tn(t=Qe(t,Pt)),n).then(function(i){return i?new lr(t,null,i.query):null})).then(function(i){return i?new Ah(r,i):null})}var dJ={Firestore:GT,GeoPoint:Dg,Timestamp:cr,Blob:RF,Transaction:NF,WriteBatch:xF,DocumentReference:aa,DocumentSnapshot:$f,Query:Ah,QueryDocumentSnapshot:Hf,QuerySnapshot:Xb,CollectionReference:gv,FieldPath:cJ,FieldValue:lJ,setLogLevel:aJ,CACHE_SIZE_UNLIMITED:HX};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pJ(e){(function(t,n){t.INTERNAL.registerComponent(new xn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},dJ)))})(e,function(t,n){return new GT(t,new Pt(t,n),new sJ)}),e.registerVersion("@firebase/firestore","2.4.1")}pJ(re);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(e){e.prototype.loadBundle=fJ,e.prototype.namedQuery=hJ}vJ(GT);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lu=function(e){te(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function gJ(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function mJ(e,t,n){var r=gJ(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var c=a.status;if(typeof c=="string"){if(!LN[c])return new Lu("internal","internal");r=LN[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Lu(r,i,s)}var yJ=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _J="type.googleapis.com/google.protobuf.Int64Value",wJ="type.googleapis.com/google.protobuf.UInt64Value";function FN(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var bJ=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return FN(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case _J:case wJ:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?FN(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Lu("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var UN=function(){function e(t,n,r,i,s,a){var c=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new bJ,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(c.deleteService())}},this.contextProvider=new yJ(n,r),this.cancelAllRequests=new Promise(function(h){c.deleteService=function(){return h()}});try{var l=new URL(s);this.customDomain=l.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return A(this,function(c){switch(c.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=c.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=c.sent(),[3,5];case 4:return c.sent(),[2,{status:0,json:null}];case 5:a=null,c.label=6;case 6:return c.trys.push([6,8,,9]),[4,s.json()];case 7:return a=c.sent(),[3,9];case 8:return c.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y,_,b;return A(this,function(T){switch(T.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=T.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=EJ(l),d=h.timer,v=h.promise,[4,Promise.race([jN(d,this.postJSON(i,s,a)),v,jN(d,this.cancelAllRequests)])];case 2:if(g=T.sent(),!g)throw new Lu("cancelled","Firebase Functions instance was deleted.");if(y=mJ(g.status,g.json,this.serializer),y)throw y;if(!g.json)throw new Lu("internal","Response is not valid JSON object.");if(_=g.json.data,typeof _>"u"&&(_=g.json.result),typeof _>"u")throw new Lu("internal","Response is missing data field.");return b=this.serializer.decode(_),[2,{data:b}]}})})},e}();function jN(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TJ="functions";function IJ(e,t){var n={Functions:UN};function r(i,s){var a=s.instanceIdentifier,c=i.getProvider("app").getImmediate(),l=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),d=i.getProvider("messaging");return new UN(c,l,d,h,a,t)}e.INTERNAL.registerComponent(new xn(TJ,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var SJ="@firebase/functions",CJ="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */IJ(re,fetch.bind(self));re.registerVersion(SJ,CJ);function AJ(e){return Array.prototype.slice.call(e)}function DF(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function jg(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),DF(r).then(s,a)});return i.request=r,i}function kJ(e,t,n){var r=jg(e,t,n);return r.then(function(i){if(i)return new Kf(i,r.request)})}function jc(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function zT(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return jg(this[t],i,arguments)})})}function Vg(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function MF(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return kJ(this[t],i,arguments)})})}function Ba(e){this._index=e}jc(Ba,"_index",["name","keyPath","multiEntry","unique"]);zT(Ba,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);MF(Ba,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Kf(e,t){this._cursor=e,this._request=t}jc(Kf,"_cursor",["direction","key","primaryKey","value"]);zT(Kf,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Kf.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),DF(t._request).then(function(r){if(r)return new Kf(r,t._request)})})})});function qi(e){this._store=e}qi.prototype.createIndex=function(){return new Ba(this._store.createIndex.apply(this._store,arguments))};qi.prototype.index=function(){return new Ba(this._store.index.apply(this._store,arguments))};jc(qi,"_store",["name","keyPath","indexNames","autoIncrement"]);zT(qi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);MF(qi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Vg(qi,"_store",IDBObjectStore,["deleteIndex"]);function kh(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}kh.prototype.objectStore=function(){return new qi(this._tx.objectStore.apply(this._tx,arguments))};jc(kh,"_tx",["objectStoreNames","mode"]);Vg(kh,"_tx",IDBTransaction,["abort"]);function Bg(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new kh(n)}Bg.prototype.createObjectStore=function(){return new qi(this._db.createObjectStore.apply(this._db,arguments))};jc(Bg,"_db",["name","version","objectStoreNames"]);Vg(Bg,"_db",IDBDatabase,["deleteObjectStore","close"]);function qg(e){this._db=e}qg.prototype.transaction=function(){return new kh(this._db.transaction.apply(this._db,arguments))};jc(qg,"_db",["name","version","objectStoreNames"]);Vg(qg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[qi,Ba].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=AJ(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Ba,qi].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function QT(e,t,n){var r=jg(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Bg(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new qg(s)})}function lw(e){return jg(indexedDB,"deleteDatabase",[e])}var RJ="@firebase/installations",LF="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FF=1e4,UF="w:"+LF,jF="FIS_v2",NJ="https://firebaseinstallations.googleapis.com/v1",xJ=60*60*1e3,OJ="installations",PJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo,DJ=(Fo={},Fo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Fo["not-registered"]="Firebase Installation is not registered.",Fo["installation-not-found"]="Firebase Installation not found.",Fo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Fo["app-offline"]="Could not process request. Application offline.",Fo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Fo),fo=new go(OJ,PJ,DJ);function VF(e){return e instanceof Sc&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(e){var t=e.projectId;return NJ+"/projects/"+t+"/installations"}function BF(e){return{token:e.token,requestStatus:2,expiresIn:MJ(e.expiresIn),creationTime:Date.now()}}function XT(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,fo.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function qF(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $F(e,t){var n=t.refreshToken,r=qF(e);return r.append("Authorization",LJ(n)),r}function JT(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function MJ(e){return Number(e.replace("s","000"))}function LJ(e){return jF+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ(e,t){var n=t.fid;return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return A(this,function(d){switch(d.label){case 0:return r=YT(e),i=qF(e),s={fid:n,authVersion:jF,appId:e.appId,sdkVersion:UF},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,JT(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:BF(l.authToken)},[2,h];case 3:return[4,XT("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJ(e){var t=btoa(String.fromCharCode.apply(String,xe([],gn(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jJ=/^[cdef][\w-]{21}$/,Jb="";function VJ(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=BJ(e);return jJ.test(n)?n:Jb}catch{return Jb}}function BJ(e){var t=UJ(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gc=new Map;function KF(e,t){var n=Vc(e);WF(n,t),HJ(n,t)}function qJ(e,t){GF();var n=Vc(e),r=gc.get(n);r||(r=new Set,gc.set(n,r)),r.add(t)}function $J(e,t){var n=Vc(e),r=gc.get(n);r&&(r.delete(t),r.size===0&&gc.delete(n),zF())}function WF(e,t){var n,r,i=gc.get(e);if(i)try{for(var s=sn(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function HJ(e,t){var n=GF();n&&n.postMessage({key:e,fid:t}),zF()}var ea=null;function GF(){return!ea&&"BroadcastChannel"in self&&(ea=new BroadcastChannel("[Firebase] FID Change"),ea.onmessage=function(e){WF(e.data.key,e.data.fid)}),ea}function zF(){gc.size===0&&ea&&(ea.close(),ea=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KJ="firebase-installations-database",WJ=1,Ta="firebase-installations-store",fw=null;function ZT(){return fw||(fw=QT(KJ,WJ,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ta)}})),fw}function mv(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(c){switch(c.label){case 0:return n=Vc(e),[4,ZT()];case 1:return r=c.sent(),i=r.transaction(Ta,"readwrite"),s=i.objectStore(Ta),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(t,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==t.fid)&&KF(e,t.fid),[2,t]}})})}function eI(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=Vc(e),[4,ZT()];case 1:return n=i.sent(),r=n.transaction(Ta,"readwrite"),[4,r.objectStore(Ta).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Rh(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return A(this,function(l){switch(l.label){case 0:return n=Vc(e),[4,ZT()];case 1:return r=l.sent(),i=r.transaction(Ta,"readwrite"),s=i.objectStore(Ta),[4,s.get(n)];case 2:return a=l.sent(),c=t(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&KF(e,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Rh(e,function(s){var a=GJ(s),c=zJ(e,a);return t=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==Jb?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function GJ(e){var t=e||{fid:VJ(),registrationStatus:0};return QF(t)}function zJ(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(fo.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=QJ(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:YJ(e)}:{installationEntry:t}}function QJ(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,FJ(e,t)];case 1:return n=i.sent(),[2,mv(e,n)];case 2:return r=i.sent(),VF(r)&&r.customData.serverCode===409?[4,eI(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,mv(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function YJ(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,VN(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,HF(100)];case 3:return s.sent(),[4,VN(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,tI(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function VN(e){return Rh(e,function(t){if(!t)throw fo.create("installation-not-found");return QF(t)})}function QF(e){return XJ(e)?{fid:e.fid,registrationStatus:0}:e}function XJ(e){return e.registrationStatus===1&&e.registrationTime+FF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return A(this,function(g){switch(g.label){case 0:return i=ZJ(n,t),s=$F(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:UF}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,JT(function(){return fetch(i,l)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=g.sent(),v=BF(d),[2,v];case 3:return[4,XT("Generate Auth Token",h)];case 4:throw g.sent()}})})}function ZJ(e,t){var n=t.fid;return YT(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,Rh(e.appConfig,function(c){if(!YF(c))throw fo.create("not-registered");var l=c.authToken;if(!t&&n9(l))return c;if(l.requestStatus===1)return n=e9(e,t),c;if(!navigator.onLine)throw fo.create("app-offline");var h=i9(c);return n=t9(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function e9(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,BN(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,HF(100)];case 3:return i.sent(),[4,BN(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,nI(e,t)]:[2,r]}})})}function BN(e){return Rh(e,function(t){if(!YF(t))throw fo.create("not-registered");var n=t.authToken;return o9(n)?_e(_e({},t),{authToken:{requestStatus:0}}):t})}function t9(e,t){return R(this,void 0,void 0,function(){var n,i,r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,JJ(e,t)];case 1:return n=s.sent(),i=_e(_e({},t),{authToken:n}),[4,mv(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),VF(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,eI(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=_e(_e({},t),{authToken:{requestStatus:0}}),[4,mv(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function YF(e){return e!==void 0&&e.registrationStatus===2}function n9(e){return e.requestStatus===2&&!r9(e)}function r9(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+xJ}function i9(e){var t={requestStatus:1,requestTime:Date.now()};return _e(_e({},e),{authToken:t})}function o9(e){return e.requestStatus===1&&e.requestTime+FF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,tI(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):nI(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,u9(e.appConfig)];case 1:return r.sent(),[4,nI(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function u9(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,tI(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=l9(e,t),r=$F(e,t),i={method:"DELETE",headers:r},[4,JT(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,XT("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function l9(e,t){var n=t.fid;return YT(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Rh(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw fo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw fo.create("app-offline");case 3:return[4,c9(t,n)];case 4:return r.sent(),[4,eI(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(e,t){var n=e.appConfig;return qJ(n,t),function(){$J(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(e){var t,n;if(!e||!e.options)throw hw("App Configuration");if(!e.name)throw hw("App Name");var r=["projectId","apiKey","appId"];try{for(var i=sn(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw hw(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function hw(e){return fo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(e){var t="installations";e.INTERNAL.registerComponent(new xn(t,function(n){var r=n.getProvider("app").getImmediate(),i=d9(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return s9(a)},getToken:function(l){return a9(a,l)},delete:function(){return f9(a)},onIdChange:function(l){return h9(a,l)}};return c},"PUBLIC")),e.registerVersion(RJ,LF)}p9(re);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,v9=($t={},$t["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',$t["only-available-in-window"]="This method is available in a Window context.",$t["only-available-in-sw"]="This method is available in a service worker context.",$t["permission-default"]="The notification permission was not granted and dismissed instead.",$t["permission-blocked"]="The notification permission was not granted and blocked instead.",$t["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",$t["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",$t["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",$t["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",$t["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",$t["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",$t["token-update-no-token"]="FCM returned no token when updating the user to push.",$t["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",$t["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",$t["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",$t["invalid-vapid-key"]="The public VAPID key must be a string.",$t["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",$t),it=new go("messaging","Messaging",v9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g9="/firebase-messaging-sw.js",m9="/firebase-cloud-messaging-push-scope",yv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",y9="https://fcmregistrations.googleapis.com/v1",XF="FCM_MSG",_9="FirebaseMessaging: ",w9="google.c.a.e",JF="google.c.a.c_id",b9="google.c.a.ts",E9="google.c.a.c_l",T9=1e3,I9=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ia;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Ia||(Ia={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,xe([],gn(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S9(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dw="fcm_token_details_db",C9=5,qN="fcm_token_object_Store";function A9(e){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(c){return c.name}),!n.includes(dw))return[2,null];a.label=2;case 2:return r=null,[4,QT(dw,C9,function(c){return R(s,void 0,void 0,function(){var l,h,d,d,d,v;return A(this,function(g){switch(g.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(qN)?(l=c.transaction.objectStore(qN),[4,l.index("fcmSenderId").get(e)]):[2];case 1:return h=g.sent(),[4,l.clear()];case 2:if(g.sent(),!h)return[2];if(c.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Ji(d.vapidKey)}}}else c.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ji(d.auth),p256dh:Ji(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ji(d.vapidKey)}}):c.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ji(d.auth),p256dh:Ji(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ji(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,lw(dw)];case 4:return a.sent(),[4,lw("fcm_vapid_details_db")];case 5:return a.sent(),[4,lw("undefined")];case 6:return a.sent(),[2,k9(r)?r:null]}})})}function k9(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R9="firebase-messaging-database",N9=1,Sa="firebase-messaging-store",pw=null;function rI(){return pw||(pw=QT(R9,N9,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Sa)}})),pw}function _v(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return t=oI(e),[4,rI()];case 1:return n=s.sent(),[4,n.transaction(Sa).objectStore(Sa).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,A9(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,iI(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function iI(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=oI(e),[4,rI()];case 1:return r=s.sent(),i=r.transaction(Sa,"readwrite"),[4,i.objectStore(Sa).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function x9(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=oI(e),[4,rI()];case 1:return n=i.sent(),r=n.transaction(Sa,"readwrite"),[4,r.objectStore(Sa).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function oI(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:return[4,aI(e)];case 1:n=h.sent(),r=e2(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(sI(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),it.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,it.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw it.create("token-subscribe-no-token");return[2,s.token]}})})}function P9(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:return[4,aI(e)];case 1:n=h.sent(),r=e2(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(sI(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),it.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,it.create("token-update-failed",{errorInfo:l});if(!s.token)throw it.create("token-update-no-token");return[2,s.token]}})})}function ZF(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return A(this,function(l){switch(l.label){case 0:return[4,aI(e)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(sI(e.appConfig)+"/"+t,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,it.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),it.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function sI(e){var t=e.projectId;return y9+"/projects/"+t+"/registrations"}function aI(e){var t=e.appConfig,n=e.installations;return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function e2(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==yv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D9=7*24*60*60*1e3;function Zb(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw it.create("permission-blocked");return[4,L9(t,n)];case 1:return r=c.sent(),[4,_v(e)];case 2:return i=c.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Ji(r.getKey("auth")),p256dh:Ji(r.getKey("p256dh"))},i?[3,3]:[2,$N(e,s)];case 3:if(F9(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,ZF(e,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,$N(e,s)];case 8:return Date.now()>=i.createTime+D9?[2,M9({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function af(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,_v(e)];case 1:return n=i.sent(),n?[4,ZF(e,n.token)]:[3,4];case 2:return i.sent(),[4,x9(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function M9(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,P9(t,e)];case 1:return r=a.sent(),i=_e(_e({},e),{token:r,createTime:Date.now()}),[4,iI(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,af(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function $N(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,O9(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,iI(e,r)];case 2:return i.sent(),[2,r.token]}})})}function L9(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:S9(t)})]}})})}function F9(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return j9(t,e),V9(t,e),B9(t,e),t}function j9(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function V9(e,t){t.data&&(e.data=t.data)}function B9(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(e){return typeof e=="object"&&!!e&&JF in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q9=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw it.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,_v(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:yv,i.label=2;case 2:return[2,Zb(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return af(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw it.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw it.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw it.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw it.create("only-available-in-window")},e.prototype.onMessage=function(){throw it.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw it.create("only-available-in-window")},e.prototype.onPush=function(t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=H9(t),n?[4,n2()]:(console.debug(_9+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),W9(r)?[2,G9(r,n)]:(i=!1,n.notification?[4,z9($9(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=U9(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,HN(T9)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,af(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,_v(this.firebaseDependencies)];case 3:return s=a.sent(),[4,af(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,Zb(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:yv)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[XF],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=Q9(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,K9(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,HN(I9)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=Ia.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},e}();function $9(e){var t,n=_e({},e.notification);return n.data=(t={},t[XF]=e,t),n}function H9(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function K9(e){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,c;return A(this,function(l){switch(l.label){case 0:return[4,n2()];case 1:t=l.sent();try{for(n=sn(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function W9(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function G9(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Ia.PUSH_RECEIVED;try{for(var i=sn(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function n2(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function z9(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function Q9(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(t2(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y9=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Ia.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(J9(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,t2(r)&&r[w9]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw it.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,Zb(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=yv),[2]})})},e.prototype.updateSwReg=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw it.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(g9,{scope:m9})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),it.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,af(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?it.create("permission-blocked"):it.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw it.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw it.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw it.create("invalid-sw-registration");if(this.swRegistration)throw it.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw it.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw it.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=X9(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[JF],message_name:n[E9],message_time:n[b9],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function X9(e){switch(e){case Ia.NOTIFICATION_CLICKED:return"notification_open";case Ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function J9(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(e){var t,n;if(!e||!e.options)throw vw("App Configuration Object");if(!e.name)throw vw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=sn(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw vw(c)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function vw(e){return it.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e7="messaging";function t7(e){var t=e.getProvider("app").getImmediate(),n=Z9(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!r2())throw it.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new q9(s):new Y9(s)}var n7={isSupported:r2};re.INTERNAL.registerComponent(new xn(e7,t7,"PUBLIC").setServiceProps(n7));function r2(){return self&&"ServiceWorkerGlobalScope"in self?i7():r7()}function r7(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function i7(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i2="firebasestorage.googleapis.com",o2="storageBucket",o7=2*60*1e3,s7=10*60*1e3,Bt=function(e){te(t,e);function t(n,r){var i=e.call(this,gw(n),"Firebase Storage: "+r+" ("+gw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return gw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Sc);function gw(e){return"storage/"+e}function uI(){var e="An unknown error occurred, please check the error payload for server response.";return new Bt("unknown",e)}function a7(e){return new Bt("object-not-found","Object '"+e+"' does not exist.")}function u7(e){return new Bt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function c7(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt("unauthenticated",e)}function l7(){return new Bt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function f7(e){return new Bt("unauthorized","User does not have permission to access '"+e+"'.")}function h7(){return new Bt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function s2(){return new Bt("canceled","User canceled the upload/download.")}function d7(e){return new Bt("invalid-url","Invalid URL '"+e+"'.")}function p7(e){return new Bt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function v7(){return new Bt("no-default-bucket","No default bucket found. Did you set the '"+o2+"' property when initializing the app?")}function a2(){return new Bt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function g7(){return new Bt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function m7(){return new Bt("no-download-url","The given file does not have any download URLs.")}function Fu(e){return new Bt("invalid-argument",e)}function u2(){return new Bt("app-deleted","The Firebase app was deleted.")}function c2(e){return new Bt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uf(e,t){return new Bt("invalid-format","String does not match format '"+e+"': "+t)}function Qd(e){throw new Bt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},mw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function l2(e,t){switch(e){case Fr.RAW:return new mw(f2(t));case Fr.BASE64:case Fr.BASE64URL:return new mw(h2(e,t));case Fr.DATA_URL:return new mw(w7(t),b7(t))}throw uI()}function f2(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function _7(e){var t;try{t=decodeURIComponent(e)}catch{throw uf(Fr.DATA_URL,"Malformed data URL.")}return f2(t)}function h2(e,t){switch(e){case Fr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw uf(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Fr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw uf(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=y7(t)}catch{throw uf(e,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var d2=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw uf(Fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=E7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function w7(e){var t=new d2(e);return t.base64?h2(Fr.BASE64,t.rest):_7(t.rest)}function b7(e){var t=new d2(e);return t.contentType}function E7(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T7={STATE_CHANGED:"state_changed"},qn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yw(e){switch(e){case"running":case"pausing":case"canceling":return qn.RUNNING;case"paused":return qn.PAUSED;case"success":return qn.SUCCESS;case"canceled":return qn.CANCELED;case"error":return qn.ERROR;default:return qn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ua;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ua||(ua={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I7=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ua.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ua.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ua.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Qd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Qd("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Qd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Qd("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function S7(){return new I7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C7=function(){function e(){}return e.prototype.createConnection=function(){return S7()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw p7(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}var a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function h(se){se.path_=decodeURIComponent(se.path)}for(var d="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+d+"/b/"+i+"/o"+g,"i"),_={bucket:1,path:3},b=n===i2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",C=new RegExp("^https?://"+b+"/"+i+"/"+T,"i"),x={bucket:1,path:2},O=[{regex:c,indices:l,postModify:s},{regex:y,indices:_,postModify:h},{regex:C,indices:x,postModify:h}],L=0;L<O.length;L++){var $=O[L],P=$.regex.exec(t);if(P){var ie=P[$.indices.bucket],F=P[$.indices.path];F||(F=""),r=new e(ie,F),$.postModify(r);break}}if(r==null)throw d7(t);return r},e}(),A7=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(e,t,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var _=[],b=0;b<arguments.length;b++)_[b]=arguments[b];l||(l=!0,t.apply(null,_))}function d(_){i=setTimeout(function(){i=null,e(v,c())},_)}function v(_){for(var b=[],T=1;T<arguments.length;T++)b[T-1]=arguments[T];if(!l){if(_){h.call.apply(h,xe([null,_],b));return}var C=c()||s;if(C){h.call.apply(h,xe([null,_],b));return}r<64&&(r*=2);var x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}}var g=!1;function y(_){g||(g=!0,!l&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function R7(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(e){return e!==void 0}function x7(e){return typeof e=="function"}function O7(e){return typeof e=="object"&&!Array.isArray(e)}function $g(e){return typeof e=="string"||e instanceof String}function KN(e){return cI()&&e instanceof Blob}function cI(){return typeof Blob<"u"}function e0(e,t,n,r){if(r<t)throw Fu("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Fu("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function p2(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P7=function(){function e(t,n,r,i,s,a,c,l,h,d,v){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,_){g.resolve_=y,g.reject_=_,g.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Yd(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(c),t.pendingConnection_=null;var l=a.getErrorCode()===ua.NO_ERROR,h=a.getStatus();if(!l||t.isRetryStatusCode_(h)){var d=a.getErrorCode()===ua.ABORT;i(!1,new Yd(!1,null,d));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new Yd(v,a))})}function r(i,s){var a=t.resolve_,c=t.reject_,l=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(l,l.getResponseText());N7(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=uI();d.serverResponse=l.getResponseText(),t.errorCallback_?c(t.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=t.appDelete_?u2():s2();c(d)}else{var d=h7();c(d)}}this.canceled_?r(!1,new Yd(!1,null,!0)):this.backoffId_=k7(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&R7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Yd=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function D7(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function M7(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function L7(e,t){t&&(e["X-Firebase-GMPID"]=t)}function F7(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function U7(e,t,n,r,i,s){var a=p2(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return L7(l,t),D7(l,n),M7(l,s),F7(l,r),new P7(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function V7(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=j7();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(cI())return new Blob(e);throw new Bt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function B7(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lI=function(){function e(t,n){var r=0,i="";KN(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(KN(this.data_)){var r=this.data_,i=B7(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(cI()){var r=t.map(function(l){return l instanceof e?l.data_:l});return new e(V7.apply(null,r))}else{var i=t.map(function(l){return $g(l)?l2(Fr.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(e){var t;try{t=JSON.parse(e)}catch{return null}return O7(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function $7(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function v2(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(e,t){return t}var Un=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||H7}return e}(),Xd=null;function K7(e){return!$g(e)||e.length<2?e:v2(e)}function Hg(){if(Xd)return Xd;var e=[];e.push(new Un("bucket")),e.push(new Un("generation")),e.push(new Un("metageneration")),e.push(new Un("name","fullPath",!0));function t(s,a){return K7(a)}var n=new Un("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Un("size");return i.xform=r,e.push(i),e.push(new Un("timeCreated")),e.push(new Un("updated")),e.push(new Un("md5Hash",null,!0)),e.push(new Un("cacheControl",null,!0)),e.push(new Un("contentDisposition",null,!0)),e.push(new Un("contentEncoding",null,!0)),e.push(new Un("contentLanguage",null,!0)),e.push(new Un("contentType",null,!0)),e.push(new Un("metadata","customMetadata",!0)),Xd=e,Xd}function W7(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new Ur(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function G7(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return W7(r,e),r}function g2(e,t,n){var r=fI(t);if(r===null)return null;var i=r;return G7(e,i,n)}function z7(e,t,n){var r=fI(t);if(r===null||!$g(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),c=a.map(function(l){var h=e.bucket,d=e.fullPath,v="/b/"+s(h)+"/o/"+s(d),g=ps(v,n),y=p2({alt:"media",token:l});return g+y});return c[0]}function hI(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WN="prefixes",GN="items";function Q7(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[WN])for(var i=0,s=n[WN];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=e._makeStorageReference(new Ur(t,c));r.prefixes.push(l)}if(n[GN])for(var h=0,d=n[GN];h<d.length;h++){var v=d[h],l=e._makeStorageReference(new Ur(t,v.name));r.items.push(l)}return r}function Y7(e,t,n){var r=fI(n);if(r===null)return null;var i=r;return Q7(e,t,i)}var _o=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e){if(!e)throw uI()}function Kg(e,t){function n(r,i){var s=g2(e,i,t);return Pi(s!==null),s}return n}function X7(e,t){function n(r,i){var s=Y7(e,t,i);return Pi(s!==null),s}return n}function J7(e,t){function n(r,i){var s=g2(e,i,t);return Pi(s!==null),z7(s,i,e.host)}return n}function Bc(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=l7():i=c7():n.getStatus()===402?i=u7(e.bucket):n.getStatus()===403?i=f7(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function Wg(e){var t=Bc(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=a7(e.path)),s.serverResponse=i.serverResponse,s}return n}function m2(e,t,n){var r=t.fullServerUrl(),i=ps(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new _o(i,s,Kg(e,n),a);return c.errorHandler=Wg(t),c}function Z7(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),c=ps(a,e.host),l="GET",h=e.maxOperationRetryTime,d=new _o(c,l,X7(e,t.bucket),h);return d.urlParams=s,d.errorHandler=Bc(t),d}function eZ(e,t,n){var r=t.fullServerUrl(),i=ps(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new _o(i,s,J7(e,n),a);return c.errorHandler=Wg(t),c}function tZ(e,t,n,r){var i=t.fullServerUrl(),s=ps(i,e.host),a="PATCH",c=hI(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new _o(s,a,Kg(e,r),h);return d.headers=l,d.body=c,d.errorHandler=Wg(t),d}function nZ(e,t){var n=t.fullServerUrl(),r=ps(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(l,h){}var c=new _o(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=Wg(t),c}function rZ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function y2(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=rZ(null,t)),r}function iZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var O="",L=0;L<2;L++)O=O+Math.random().toString().slice(2);return O}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=y2(t,r,i),d=hI(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+l+"--",y=lI.getBlob(v,r,g);if(y===null)throw a2();var _={name:h.fullPath},b=ps(s,e.host),T="POST",C=e.maxUploadRetryTime,x=new _o(b,T,Kg(e,n),C);return x.urlParams=_,x.headers=a,x.body=y.uploadData(),x.errorHandler=Bc(t),x}var wv=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function dI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Pi(!1)}var r=t||["active"];return Pi(!!n&&r.indexOf(n)!==-1),n}function oZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=y2(t,r,i),c={name:a.fullPath},l=ps(s,e.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=hI(a,n),g=e.maxUploadRetryTime;function y(b){dI(b);var T;try{T=b.getResponseHeader("X-Goog-Upload-URL")}catch{Pi(!1)}return Pi($g(T)),T}var _=new _o(l,h,y,g);return _.urlParams=c,_.headers=d,_.body=v,_.errorHandler=Bc(t),_}function sZ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=dI(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pi(!1)}v||Pi(!1);var g=Number(v);return Pi(!isNaN(g)),new wv(g,r.size(),d==="final")}var a="POST",c=e.maxUploadRetryTime,l=new _o(n,a,s,c);return l.headers=i,l.errorHandler=Bc(t),l}var zN=256*1024;function aZ(e,t,n,r,i,s,a,c){var l=new wv(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw g7();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,g=v+d,y=d===h?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+l.current},b=r.slice(v,g);if(b===null)throw a2();function T(L,$){var P=dI(L,["active","final"]),ie=l.current+d,F=r.size(),se;return P==="final"?se=Kg(t,s)(L,$):se=null,new wv(ie,F,P==="final",se)}var C="POST",x=t.maxUploadRetryTime,O=new _o(n,C,T,x);return O.headers=_,O.body=b.uploadData(),O.progressCallback=c||null,O.errorHandler=Bc(e),O}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uZ=function(){function e(t,n,r){var i=x7(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _2=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Hg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=oZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=sZ(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(c){c=c,t._request=void 0,t._updateProgress(c.current),t._needToFetchStatus=!1,c.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=zN*this._chunkMultiplier,r=new wv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var c;try{c=aZ(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var l=t._ref.storage._makeRequest(c,s,a);t._request=l,l.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=zN*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=m2(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=iZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=s2(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=yw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new uZ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(yw(this._state)){case qn.SUCCESS:yu(this._resolve.bind(null,this.snapshot))();break;case qn.CANCELED:case qn.ERROR:var n=this._reject;yu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=yw(this._state);switch(n){case qn.RUNNING:case qn.PAUSED:t.next&&yu(t.next.bind(t,this.snapshot))();break;case qn.SUCCESS:t.complete&&yu(t.complete.bind(t))();break;case qn.CANCELED:case qn.ERROR:t.error&&yu(t.error.bind(t,this._error))();break;default:t.error&&yu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gg=function(){function e(t,n){this._service=t,n instanceof Ur?this._location=n:this._location=Ur.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Ur(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return v2(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=q7(this._location.path);if(t===null)return null;var n=new Ur(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw c2(t)},e}();function cZ(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new _2(e,new lI(t),n)}function lZ(e){var t={prefixes:[],items:[]};return w2(e,t).then(function(){return t})}function w2(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,b2(e,r)];case 1:return i=c.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,w2(e,t,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function b2(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&e0("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Z7(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function fZ(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=m2(e.storage,e._location,Hg()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function hZ(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=tZ(e.storage,e._location,t,Hg()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function dZ(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=eZ(e.storage,e._location,Hg()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw m7();return r})]}})})}function pZ(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=nZ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function E2(e,t){var n=$7(e._location.path,t),r=new Ur(e._location.bucket,n);return new Gg(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(e){return/^[A-Za-z]+:\/\//.test(e)}function vZ(e,t){return new Gg(e,t)}function T2(e,t){if(e instanceof zg){var n=e;if(n._bucket==null)throw v7();var r=new Gg(n,n._bucket);return t!=null?T2(r,t):r}else return t!==void 0?E2(e,t):e}function gZ(e,t){if(t&&t0(t)){if(e instanceof zg)return vZ(e,t);throw Fu("To use ref(service, url), the first argument must be a Storage instance.")}else return T2(e,t)}function QN(e,t){var n=t==null?void 0:t[o2];return n==null?null:Ur.makeFromBucketSpec(n,e)}function mZ(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:W0(i,e.app.options.projectId))}var zg=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=i2,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o7,this._maxUploadRetryTime=s7,this._requests=new Set,s!=null?this._bucket=Ur.makeFromBucketSpec(s,this._host):this._bucket=QN(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Ur.makeFromBucketSpec(this._url,t):this._bucket=QN(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){e0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){e0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Gg(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new A7(u2());var s=U7(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yZ(e,t,n){return e=Ne(e),cZ(e,t,n)}function _Z(e){return e=Ne(e),fZ(e)}function wZ(e,t){return e=Ne(e),hZ(e,t)}function bZ(e,t){return e=Ne(e),b2(e,t)}function EZ(e){return e=Ne(e),lZ(e)}function TZ(e){return e=Ne(e),dZ(e)}function IZ(e){return e=Ne(e),pZ(e)}function YN(e,t){return e=Ne(e),gZ(e,t)}function SZ(e,t){return E2(e,t)}function CZ(e,t,n,r){r===void 0&&(r={}),mZ(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jd=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XN=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Jd(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Jd(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new Jd(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new Jd(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),JN=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Wf(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Wf(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wf=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=SZ(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new XN(yZ(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Fr.RAW),this._throwIfRoot("putString");var i=l2(n,t),s=_e({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new XN(new _2(this._delegate,new lI(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return EZ(this._delegate).then(function(n){return new JN(n,t.storage)})},e.prototype.list=function(t){var n=this;return bZ(this._delegate,t||void 0).then(function(r){return new JN(r,n.storage)})},e.prototype.getMetadata=function(){return _Z(this._delegate)},e.prototype.updateMetadata=function(t){return wZ(this._delegate,t)},e.prototype.getDownloadURL=function(){return TZ(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),IZ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw c2(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AZ=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(t0(t))throw Fu("ref() expected a child path but got a URL, use refFromURL instead.");return new Wf(YN(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!t0(t))throw Fu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ur.makeFromUrl(t,this._delegate.host)}catch{throw Fu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wf(YN(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),CZ(this._delegate,t,n,r)},e}(),kZ="@firebase/storage",RZ="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NZ="storage";function xZ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new AZ(r,new zg(r,i,s,new C7,n,re.SDK_VERSION));return a}function OZ(e){var t={TaskState:qn,TaskEvent:T7,StringFormat:Fr,Storage:zg,Reference:Wf};e.INTERNAL.registerComponent(new xn(NZ,xZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(kZ,RZ)}OZ(re);var PZ="@firebase/performance",I2="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S2=I2,DZ="FB-PERF-TRACE-START",MZ="FB-PERF-TRACE-STOP",n0="FB-PERF-TRACE-MEASURE",C2="_wt_",A2="_fp",k2="_fcp",R2="_fid",N2="@firebase/performance/config",x2="@firebase/performance/configexpire",LZ="performance",O2="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,FZ=(fn={},fn["trace started"]="Trace {$traceName} was started before.",fn["trace stopped"]="Trace {$traceName} is not running.",fn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",fn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",fn["no window"]="Window is not available.",fn["no app id"]="App id is not available.",fn["no project id"]="Project id is not available.",fn["no api key"]="Api key is not available.",fn["invalid cc log"]="Attempted to queue invalid cc event",fn["FB not default"]="Performance can only start when Firebase app instance is the default one.",fn["RC response not ok"]="RC response is not ok",fn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",fn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",fn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",fn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",fn),In=new go(LZ,O2,FZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho=new Ra(O2);ho.logLevel=Le.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _w,P2,Rn=function(){function e(t){if(this.window=t,!t)throw In.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(ho.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Jf()?!0:(ho.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return _w===void 0&&(_w=new e(P2)),_w},e}();function UZ(e){P2=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(e,t){var n=e.length-t.length;if(n<0||n>1)throw In.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ww,Gt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ZN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ZN("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw In.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw In.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw In.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return ww===void 0&&(ww=new e),ww},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D2;function jZ(){var e=Gt.getInstance().installationsService.getId();return e.then(function(t){D2=t}),e}function pI(){return D2}function VZ(){var e=Gt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Uu||(Uu={}));var BZ=["firebase_","google_","ga_"],qZ=new RegExp("^[a-zA-Z]\\w*$"),$Z=40,HZ=100;function KZ(){var e=Rn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function M2(){var e=Rn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Uu.VISIBLE;case"hidden":return Uu.HIDDEN;default:return Uu.UNKNOWN}}function WZ(){var e=Rn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function GZ(e){if(e.length===0||e.length>$Z)return!1;var t=BZ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(qZ)}function zZ(e){return e.length!==0&&e.length<=HZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QZ="0.0.1",YZ={loggingEnabled:!0},XZ="FIREBASE_INSTALLATIONS_AUTH";function JZ(e){var t=ZZ();return t?(ex(t),Promise.resolve()):nee(e).then(ex).then(function(n){return eee(n)},function(){})}function ZZ(){var e=Rn.getInstance().localStorage;if(e){var t=e.getItem(x2);if(!(!t||!ree(t))){var n=e.getItem(N2);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function eee(e){var t=Rn.getInstance().localStorage;!e||!t||(t.setItem(N2,JSON.stringify(e)),t.setItem(x2,String(Date.now()+Gt.getInstance().configTimeToLive*60*60*1e3)))}var tee="Could not fetch config, will use default configs";function nee(e){return VZ().then(function(t){var n=Gt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Gt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:XZ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Gt.getInstance().getAppId(),app_version:S2,sdk_version:QZ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw In.create("RC response not ok")})}).catch(function(){ho.info(tee)})}function ex(e){if(!e)return e;var t=Gt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=YZ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=tx(t.tracesSamplingRate),t.logNetworkAfterSampling=tx(t.networkRequestsSamplingRate),e}function ree(e){return Number(e)>Date.now()}function tx(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vI=1,bw;function L2(){return vI=2,bw=bw||oee(),bw}function iee(){return vI===3}function oee(){return see().then(function(){return jZ()}).then(function(e){return JZ(e)}).then(function(){return nx()},function(){return nx()})}function see(){var e=Rn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function nx(){vI=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gI=10*1e3,aee=5.5*1e3,F2=3,uee=1e3,bv=F2,Zo=[],rx=!1;function cee(){rx||(Qg(aee),rx=!0)}function Qg(e){setTimeout(function(){if(bv!==0){if(!Zo.length)return Qg(gI);lee()}},e)}function lee(){var e=Zo.splice(0,uee),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Gt.getInstance().logSource,log_event:t};fee(n,e).catch(function(){Zo=xe(xe([],e),Zo),bv--,ho.info("Tries left: "+bv+"."),Qg(gI)})}function fee(e,t){return hee(e).then(function(n){return n.ok||ho.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=gI;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Zo=xe(xe([],t),Zo),ho.info("Retry transport request later.")),bv=F2,Qg(i)})}function hee(e){var t=Gt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function dee(e){if(!e.eventTime||!e.message)throw In.create("invalid cc log");Zo=xe(xe([],Zo),[e])}function pee(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);dee({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ew;function U2(e,t){Ew||(Ew=pee(gee)),Ew(e,t)}function Zd(e){var t=Gt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||Rn.getInstance().requiredApisAvailable()&&(e.isAuto&&M2()!==Uu.VISIBLE||(iee()?Tw(e):L2().then(function(){return Tw(e)},function(){return Tw(e)})))}function Tw(e){if(pI()){var t=Gt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return U2(e,1)},0)}}function vee(e){var t=Gt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return U2(e,0)},0)}}function gee(e,t){return t===0?mee(e):yee(e)}function mee(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:j2(),network_request_metric:t};return JSON.stringify(n)}function yee(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:j2(),trace_metric:t};return JSON.stringify(r)}function j2(){return{google_app_id:Gt.getInstance().getAppId(),app_instance_id:pI(),web_app_info:{sdk_version:S2,page_url:Rn.getInstance().getUrl(),service_worker_status:KZ(),visibility_state:M2(),effective_connection_type:WZ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _ee=100,wee="_",bee=[A2,k2,R2];function Eee(e,t){return e.length===0||e.length>_ee?!1:t&&t.startsWith(C2)&&bee.indexOf(e)>-1||!e.startsWith(wee)}function Tee(e){var t=Math.floor(e);return t<e&&ho.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Rn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=DZ+"-"+this.randomId+"-"+this.name,this.traceStopMark=MZ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||n0+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw In.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw In.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Zd(this)},e.prototype.record=function(t,n,r){if(t<=0)throw In.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw In.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=_e({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Zd(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(Eee(t,this.name))this.counters[t]=Tee(n);else throw In.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=GZ(t),i=zZ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw In.create("invalid attribute name",{attributeName:t});if(!i)throw In.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return _e({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=Rn.getInstance().getUrl();if(i){var s=new e(C2+i,!0),a=Math.floor(Rn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(A2,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===l});d&&d.startTime&&s.putMetric(k2,Math.floor(d.startTime*1e3)),r&&s.putMetric(R2,Math.floor(r*1e3))}Zd(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Zd(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=Rn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],c={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};vee(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iee=5e3;function ox(){pI()&&(setTimeout(function(){return Cee()},0),setTimeout(function(){return See()},0),setTimeout(function(){return Aee()},0))}function See(){for(var e=Rn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];ix(i)}e.setupObserver("resource",ix)}function Cee(){var e=Rn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){cf.createOobTrace(t,n),r=void 0},Iee);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),cf.createOobTrace(t,n,i))})}else cf.createOobTrace(t,n)}function Aee(){for(var e=Rn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];sx(i)}e.setupObserver("measure",sx)}function sx(e){var t=e.name;t.substring(0,n0.length)!==n0&&cf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kee=function(){function e(t){this.app=t,Rn.getInstance().requiredApisAvailable()&&Q0().then(function(n){n&&(cee(),L2().then(ox,ox))}).catch(function(n){ho.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new cf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Gt.getInstance().instrumentationEnabled},set:function(t){Gt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Gt.getInstance().dataCollectionEnabled},set:function(t){Gt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ree="[DEFAULT]";function Nee(e){var t=function(n,r){if(n.name!==Ree)throw In.create("FB not default");if(typeof window>"u")throw In.create("no window");return UZ(window),Gt.getInstance().firebaseAppInstance=n,Gt.getInstance().installationsService=r,new kee(n)};e.INTERNAL.registerComponent(new xn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(PZ,I2)}Nee(re);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xee="firebase_id",Oee="origin",Pee=60*1e3,Dee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",V2="https://www.googletagmanager.com/gtag/js",Nn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(Nn||(Nn={}));var r0;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(r0||(r0={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mee(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a;return A(this,function(c){switch(c.label){case 0:return i&&i.global?(e(Nn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=c.sent(),a=_e(_e({},r),{send_to:s}),e(Nn.EVENT,n,a),c.label=3;case 3:return[2]}})})}function Lee(e,t,n,r){return R(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Nn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Nn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function Fee(e,t,n,r){return R(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Nn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Nn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function Uee(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return e(Nn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:l=h.sent(),e(Nn.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function jee(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn=new Ra("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vee(e,t){var n=document.createElement("script");n.src=V2+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Bee(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function qee(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,c,l,h;return A(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,t[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),dn.error(h),[3,8];case 8:return e(Nn.CONFIG,i,s),[2]}})})}function $ee(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h,d,v,g,y;return A(this,function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=_.sent(),l=function(b){var T=c.find(function(x){return x.measurementId===b}),C=T&&t[T.appId];if(C)s.push(C);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],g=l(v),g!=="break");h++);_.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return _.sent(),e(Nn.EVENT,r,i||{}),[3,5];case 4:return y=_.sent(),dn.error(y),[3,5];case 5:return[2]}})})}function Hee(e,t,n,r){function i(s,a,c){return R(this,void 0,void 0,function(){var l;return A(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Nn.EVENT?[3,2]:[4,$ee(e,t,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==Nn.CONFIG?[3,4]:[4,qee(e,t,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:e(Nn.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),dn.error(l),[3,7];case 7:return[2]}})})}return i}function Kee(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Hee(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Wee(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(V2))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei,Gee=(ei={},ei["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ei["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ei["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ei["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ei["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ei["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ei["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ei["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ei["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ei),$r=new go("analytics","Analytics",Gee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zee=30,Qee=1e3,Yee=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=Qee),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),B2=new Yee;function Xee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Jee(e){var t;return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Xee(r)},s=Dee.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw $r.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function Zee(e,t,n){return t===void 0&&(t=B2),R(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return A(this,function(d){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw $r.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw $r.create("no-api-key")}return c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new nte,setTimeout(function(){return R(h,void 0,void 0,function(){return A(this,function(v){return l.abort(),[2]})})},n!==void 0?n:Pee),[2,q2({appId:i,apiKey:s,measurementId:a},c,l,t)]})})}function q2(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=B2),R(this,void 0,void 0,function(){var a,c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:a=e.appId,c=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,ete(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return dn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,Jee(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!tte(d)){if(r.deleteThrottleMetadata(a),c)return dn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?rb(s,r.intervalMillis,zee):rb(s,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,g),dn.debug("Calling attemptFetch again in "+v+" millis"),[2,q2(e,g,n,r)];case 7:return[2]}})})}function ete(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r($r.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function tte(e){if(!(e instanceof Sc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var nte=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:return Jf()?[3,1]:(dn.warn($r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Q0()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),dn.warn($r.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function ite(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return a=Zee(e),a.then(function(_){n[_.measurementId]=_.appId,e.options.measurementId&&_.measurementId!==e.options.measurementId&&dn.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+_.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(_){return dn.error(_)}),t.push(a),c=rte().then(function(_){if(_)return r.getId()}),[4,Promise.all([a,c])];case 1:return l=y.sent(),h=l[0],d=l[1],Wee()||Vee(s,h.measurementId),i("js",new Date),v=(g={},g[Oee]="firebase",g.update=!0,g),d!=null&&(v[xee]=d),i(Nn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yi={},ax=[],ux={},mp="dataLayer",$2="gtag",cx,Fl,i0=!1;function ote(e){if(i0)throw $r.create("already-initialized");e.dataLayerName&&(mp=e.dataLayerName),e.gtagName&&($2=e.gtagName)}function ste(){var e=[];if(z0()&&e.push("This is a browser extension environment."),fP()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=$r.create("invalid-analytics-context",{errorInfo:t});dn.warn(n.message)}}function ate(e,t){ste();var n=e.options.appId;if(!n)throw $r.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)dn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw $r.create("no-api-key");if(Yi[n]!=null)throw $r.create("already-exists",{id:n});if(!i0){Bee(mp);var r=Kee(Yi,ax,ux,mp,$2),i=r.wrappedGtag,s=r.gtagCore;Fl=i,cx=s,i0=!0}Yi[n]=ite(e,ax,ux,t,cx,mp);var a={app:e,logEvent:function(c,l,h){Mee(Fl,Yi[n],c,l,h).catch(function(d){return dn.error(d)})},setCurrentScreen:function(c,l){Lee(Fl,Yi[n],c,l).catch(function(h){return dn.error(h)})},setUserId:function(c,l){Fee(Fl,Yi[n],c,l).catch(function(h){return dn.error(h)})},setUserProperties:function(c,l){Uee(Fl,Yi[n],c,l).catch(function(h){return dn.error(h)})},setAnalyticsCollectionEnabled:function(c){jee(Yi[n],c).catch(function(l){return dn.error(l)})},INTERNAL:{delete:function(){return delete Yi[n],Promise.resolve()}}};return a}var ute="@firebase/analytics",cte="0.6.18",lx="analytics";function lte(e){e.INTERNAL.registerComponent(new xn(lx,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return ate(r,i)},"PUBLIC").setServiceProps({settings:ote,EventName:r0,isSupported:fte})),e.INTERNAL.registerComponent(new xn("analytics-internal",t,"PRIVATE")),e.registerVersion(ute,cte);function t(n){try{var r=n.getProvider(lx).getImmediate();return{logEvent:r.logEvent}}catch(i){throw $r.create("interop-component-reg-failed",{reason:i})}}}lte(re);function fte(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:if(z0())return[2,!1];if(!fP())return[2,!1];if(!Jf())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Q0()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hte=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,dte=(jn={},jn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",jn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",jn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",jn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",jn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",jn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",jn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",jn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",jn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",jn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',jn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',jn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",jn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",jn),jr=new go("remoteconfig","Remote Config",dte);function pte(e,t){return e instanceof Sc&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gte=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,g,y,_,b,T,C,x,O,L;return A(this,function($){switch($.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=$.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:vte()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(a,h),v=new Promise(function(P,ie){t.signal.addEventListener(function(){var F=new Error("The operation was aborted.");F.name="AbortError",ie(F)})}),$.label=2;case 2:return $.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return $.sent(),[4,d];case 4:return g=$.sent(),[3,6];case 5:throw y=$.sent(),_="fetch-client-network",y.name==="AbortError"&&(_="fetch-timeout"),jr.create(_,{originalErrorMessage:y.message});case 6:if(b=g.status,T=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];O=void 0,$.label=7;case 7:return $.trys.push([7,9,,10]),[4,g.json()];case 8:return O=$.sent(),[3,10];case 9:throw L=$.sent(),jr.create("fetch-client-parse",{originalErrorMessage:L.message});case 10:C=O.entries,x=O.state,$.label=11;case 11:if(x==="INSTANCE_STATE_UNSPECIFIED"?b=500:x==="NO_CHANGE"?b=304:(x==="NO_TEMPLATE"||x==="EMPTY_CONFIG")&&(C={}),b!==304&&b!==200)throw jr.create("fetch-status",{httpStatus:b});return[2,{status:b,eTag:T,config:C}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mte=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yte=!1,_te="",fx=0,wte=["1","true","t","yes","y","on"],Iw=function(){function e(t,n){n===void 0&&(n=_te),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?yte:wte.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return fx;var t=Number(this._value);return isNaN(t)&&(t=fx),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bte=60*1e3,Ete=12*60*60*1e3,Tte=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:bte,minimumFetchIntervalMillis:Ete},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Le.DEBUG;break;case"silent":this._logger.logLevel=Le.SILENT;break;default:this._logger.logLevel=Le.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return R(this,void 0,void 0,function(){var t,n,r,i=this;return A(this,function(s){switch(s.label){case 0:t=new mte,setTimeout(function(){return R(i,void 0,void 0,function(){return A(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=pte(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return Ite(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new Iw("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new Iw("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Iw("static"))},e}();function Ite(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(_e(_e({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(e,t){var n=e.target.error||void 0;return jr.create(t,{originalErrorMessage:n&&n.message})}var Bs="app_namespace_store",Ste="firebase_remote_config",Cte=1;function Ate(){return new Promise(function(e,t){var n=indexedDB.open(Ste,Cte);n.onerror=function(r){t(yp(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Bs,{keyPath:"compositeKey"})}}})}var kte=function(){function e(t,n,r,i){i===void 0&&(i=Ate()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([Bs],"readonly"),l=c.objectStore(Bs),h=r.createCompositeKey(t);try{var d=l.get(h);d.onerror=function(v){a(yp(v,"storage-get"))},d.onsuccess=function(v){var g=v.target.result;s(g?g.value:void 0)}}catch(v){a(jr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return R(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([Bs],"readwrite"),h=l.objectStore(Bs),d=i.createCompositeKey(t);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(g){c(yp(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){c(jr.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.delete=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([Bs],"readwrite"),l=c.objectStore(Bs),h=r.createCompositeKey(t);try{var d=l.delete(h);d.onerror=function(v){a(yp(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(jr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rte=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a;return A(this,function(c){switch(c.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(jr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function xte(e){if(!(e instanceof Sc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Ote=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,c;return A(this,function(l){switch(l.label){case 0:return[4,Nte(t.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!xte(a))throw a;return c={throttleEndTimeMillis:Date.now()+rb(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(t,c)];case 7:return[2]}})})},e}(),hx="@firebase/remote-config",Pte="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dte(e){e.INTERNAL.registerComponent(new xn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(hx,Pte);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw jr.create("registration-window");var c=s.options,l=c.projectId,h=c.apiKey,d=c.appId;if(!l)throw jr.create("registration-project-id");if(!h)throw jr.create("registration-api-key");if(!d)throw jr.create("registration-app-id");i=i||"firebase";var v=new kte(d,s.name,i),g=new Rte(v),y=new Ra(hx);y.logLevel=Le.ERROR;var _=new gte(a,e.SDK_VERSION,i,l,h,d),b=new Ote(_,v),T=new hte(b,v,g,y),C=new Tte(s,T,g,v,y);return C.ensureInitialized(),C}}Dte(re);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti,Mte=(ti={},ti["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",ti["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",ti["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ti["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ti["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ti["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ti["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ti["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ti["recaptcha-error"]="ReCAPTCHA error.",ti),Sr=new go("appCheck","AppCheck",Mte);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H2=new Map,Lte={activated:!1,tokenObservers:[]},Fte={enabled:!1};function Qn(e){return H2.get(e)||Lte}function Di(e,t){H2.set(e,t)}function mI(){return Fte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K2="https://content-firebaseappcheck.googleapis.com/v1beta",Ute="exchangeRecaptchaToken",jte="exchangeDebugToken",dx={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vte=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new rn,[4,Bte(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new rn,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function Bte(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){return self.grecaptcha}function W2(e){if(!Qn(e).activated)throw Sr.create("use-before-activation",{appName:e.name})}function qte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function $te(e){return Kv.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(e,t){var n=e.url,r=e.body;return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y;return A(this,function(_){switch(_.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},_.label=1;case 1:return _.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return c=_.sent(),[3,4];case 3:throw l=_.sent(),Sr.create("fetch-network-error",{originalErrorMessage:l.message});case 4:if(c.status!==200)throw Sr.create("fetch-status-error",{httpStatus:c.status});_.label=5;case 5:return _.trys.push([5,7,,8]),[4,c.json()];case 6:return h=_.sent(),[3,8];case 7:throw d=_.sent(),Sr.create("fetch-parse-error",{originalErrorMessage:d.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw Sr.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return g=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+g,issuedAtTimeMillis:y}]}})})}function Hte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:K2+"/projects/"+r+"/apps/"+i+":"+Ute+"?key="+s,body:{recaptcha_token:t}}}function Kte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:K2+"/projects/"+r+"/apps/"+i+":"+jte+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wte="firebase-app-check-database",Gte=1,Gf="firebase-app-check-store",z2="debug-token",ep=null;function Q2(){return ep||(ep=new Promise(function(e,t){try{var n=indexedDB.open(Wte,Gte);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(Sr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gf,{keyPath:"compositeKey"})}}}catch(r){t(Sr.create("storage-open",{originalErrorMessage:r.message}))}}),ep)}function zte(e){return X2(J2(e))}function Qte(e,t){return Y2(J2(e),t)}function Yte(e){return Y2(z2,e)}function Xte(){return X2(z2)}function Y2(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,Q2()];case 1:return n=a.sent(),r=n.transaction(Gf,"readwrite"),i=r.objectStore(Gf),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(c,l){s.onsuccess=function(h){c()},r.onerror=function(h){var d;l(Sr.create("storage-set",{originalErrorMessage:(d=h.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function X2(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,Q2()];case 1:return t=s.sent(),n=t.transaction(Gf,"readonly"),r=n.objectStore(Gf),i=r.get(e),[2,new Promise(function(a,c){i.onsuccess=function(l){var h=l.target.result;a(h?h.value:void 0)},n.onerror=function(l){var h;c(Sr.create("storage-get",{originalErrorMessage:(h=l.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function J2(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yg=new Ra("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jte(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!Jf())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,zte(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),Yg.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function vx(e,t){return Jf()?Qte(e,t).catch(function(n){Yg.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Zte(){return R(this,void 0,void 0,function(){var e,t;return A(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Xte()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=qte(),Yte(t).catch(function(r){return Yg.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ene(){var e=mI();return e.enabled}function tne(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){if(e=mI(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function nne(){var e=uW();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=mI();t.enabled=!0;var n=new rn;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Zte())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rne={error:"UNKNOWN_ERROR"};function Ev(e,t,n){return n===void 0&&(n=!1),R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return W2(e),r=Qn(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&zf(a)&&(i=a,Di(e,_e(_e({},r),{token:i})),gx(e,{token:i.token})),y.label=2;case 2:return!n&&i&&zf(i)?[2,{token:i.token}]:ene()?(l=G2,h=Kte,d=[e],[4,tne()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([y.sent()])),t])];case 4:return c=y.sent(),[4,vx(e,c)];case 5:return y.sent(),Di(e,_e(_e({},r),{token:c})),[2,{token:c.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),Yg.error(v),s=v,[3,9];case 9:return i?[3,10]:(g=one(s),[3,12]);case 10:return g={token:i.token},Di(e,_e(_e({},r),{token:i})),[4,vx(e,i)];case 11:y.sent(),y.label=12;case 12:return gx(e,g),[2,g]}})})}function Z2(e,t,n,r,i){var s=Qn(e),a={next:r,error:i,type:n},c=_e(_e({},s),{tokenObservers:xe(xe([],s.tokenObservers),[a])});if(!c.tokenRefresher){var l=ine(e,t);c.tokenRefresher=l}if(!c.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),s.token&&zf(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(d){d&&zf(d)&&r({token:d.token})}).catch(function(){});Di(e,c)}function yI(e,t){var n=Qn(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Di(e,_e(_e({},n),{tokenObservers:r}))}function ine(e,t){var n=this;return new Vte(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=Qn(e),r.token?[3,2]:[4,Ev(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,Ev(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Qn(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},dx.RETRIAL_MIN_WAIT,dx.RETRIAL_MAX_WAIT)}function gx(e,t){for(var n=Qn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function zf(e){return e.expireTimeMillis-Date.now()>0}function one(e){return{token:$te(rne),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sne="https://www.google.com/recaptcha/api.js";function ane(e,t){var n=Qn(e),r=new rn;Di(e,_e(_e({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=px();return a?a.ready(function(){mx(e,t,a,i),r.resolve(a)}):cne(function(){var c=px();if(!c)throw new Error("no recaptcha");c.ready(function(){mx(e,t,c,i),r.resolve(c)})}),r.promise}function une(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return W2(e),t=Qn(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=Qn(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function mx(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=Qn(e);Di(e,_e(_e({},s),{reCAPTCHAState:_e(_e({},s.reCAPTCHAState),{widgetId:i})}))}function cne(e){var t=document.createElement("script");t.src=""+sne,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o0=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw Sr.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,une(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),Sr.create("recaptcha-error");case 4:return[2,G2(Hte(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,ane(t,this._siteKey).catch(function(){})},e}(),s0=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:if(!this._app)throw Sr.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=hW(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,_e(_e({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lne(e,t,n,r){var i=Qn(e);if(i.activated)throw Sr.create("already-activated",{appName:e.name});var s=_e(_e({},i),{activated:!0});s.cachedTokenPromise=Jte(e).then(function(a){return a&&zf(a)&&Di(e,_e(_e({},Qn(e)),{token:a})),a}),typeof t=="string"?s.provider=new o0(t):t instanceof o0||t instanceof s0?s.provider=t:s.provider=new s0({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,Di(e,s),s.provider.initialize(e,n)}function fne(e,t){var n=Qn(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Di(e,_e(_e({},n),{isTokenAutoRefreshEnabled:t}))}function hne(e,t,n){return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,Ev(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function dne(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),Z2(e,t,"EXTERNAL",s,a),function(){return yI(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pne(e,t){return{app:e,activate:function(n,r){return lne(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return fne(e,n)},getToken:function(n){return hne(e,t,n)},onTokenChanged:function(n,r,i){return dne(e,t,n,r)},INTERNAL:{delete:function(){for(var n=Qn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];yI(e,s.next)}return Promise.resolve()}}}}function vne(e,t){return{getToken:function(n){return Ev(e,t,n)},addTokenListener:function(n){return Z2(e,t,"INTERNAL",n)},removeTokenListener:function(n){return yI(e,n)}}}var gne="@firebase/app-check",mne="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yne="appCheck",yx="app-check-internal";function _ne(e){e.INTERNAL.registerComponent(new xn(yne,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return pne(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:o0,CustomProvider:s0}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(yx);i.initialize()})),e.INTERNAL.registerComponent(new xn(yx,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return vne(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(gne,mne)}_ne(re);nne();var wne="firebase",eU="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */re.registerVersion(wne,eU,"app");re.SDK_VERSION=eU;var bne="firebase",Ene="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);re.registerVersion(bne,Ene);const Tne={},Ine={class:"relative flex w-full flex-wrap items-center justify-between bg-[#FBFBFB] py-2 shadow-lg lg:py-4 dark:bg-sky-950","data-te-navbar-ref":""};function Sne(e,t){return pn(),ir("nav",Ine,[Mv(e.$slots,"default")])}const _I=Vi(Tne,[["render",Sne]]);function Xg(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Xg),r}var a0=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(a0||{}),Cne=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Cne||{});function qc({visible:e=!0,features:t=0,ourProps:n,theirProps:r,...i}){var s;let a=nU(r,n),c=Object.assign(i,{props:a});if(e||t&2&&a.static)return Sw(c);if(t&1){let l=(s=a.unmount)==null||s?0:1;return Xg(l,{0(){return null},1(){return Sw({...i,props:{...a,hidden:!0,style:{display:"none"}}})}})}return Sw(c)}function Sw({props:e,attrs:t,slots:n,slot:r,name:i}){var s,a;let{as:c,...l}=rU(e,["unmount","static"]),h=(s=n.default)==null?void 0:s.call(n,r),d={};if(r){let v=!1,g=[];for(let[y,_]of Object.entries(r))typeof _=="boolean"&&(v=!0),_===!0&&g.push(y);v&&(d["data-headlessui-state"]=g.join(" "))}if(c==="template"){if(h=tU(h??[]),Object.keys(l).length>0||Object.keys(t).length>0){let[v,...g]=h??[];if(!kne(v)||g.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(t)).map(b=>b.trim()).filter((b,T,C)=>C.indexOf(b)===T).sort((b,T)=>b.localeCompare(T)).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let y=nU((a=v.props)!=null?a:{},l),_=uo(v,y);for(let b in y)b.startsWith("on")&&(_.props||(_.props={}),_.props[b]=y[b]);return _}return Array.isArray(h)&&h.length===1?h[0]:h}return ts(c,Object.assign({},l,d),{default:()=>h})}function tU(e){return e.flatMap(t=>t.type===Zt?tU(t.children):[t])}function nU(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...s){let a=n[r];for(let c of a){if(i instanceof Event&&i.defaultPrevented)return;c(i,...s)}}});return t}function Ane(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function rU(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function kne(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Rne=0;function Nne(){return++Rne}function Jg(){return Nne()}var Ht=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ht||{});function xne(e){throw new Error("Unexpected object: "+e)}var Cr=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Cr||{});function One(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1,s=(()=>{switch(e.focus){case 0:return n.findIndex(a=>!t.resolveDisabled(a));case 1:{let a=n.slice().reverse().findIndex((c,l,h)=>i!==-1&&h.length-l-1>=i?!1:!t.resolveDisabled(c));return a===-1?a:n.length-1-a}case 2:return n.findIndex((a,c)=>c<=i?!1:!t.resolveDisabled(a));case 3:{let a=n.slice().reverse().findIndex(c=>!t.resolveDisabled(c));return a===-1?a:n.length-1-a}case 4:return n.findIndex(a=>t.resolveId(a)===e.id);case 5:return null;default:xne(e)}})();return s===-1?r:s}function kt(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let iU=Symbol("Context");var Qf=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Qf||{});function Pne(){return sr(iU,null)}function Dne(e){Ou(iU,e)}function _x(e,t){if(e)return e;let n=t??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function oU(e,t){let n=Fe(_x(e.value.type,e.value.as));return Aa(()=>{n.value=_x(e.value.type,e.value.as)}),Ec(()=>{var r;n.value||kt(t)&&kt(t)instanceof HTMLButtonElement&&!((r=kt(t))!=null&&r.hasAttribute("type"))&&(n.value="button")}),n}var Mne=Object.defineProperty,Lne=(e,t,n)=>t in e?Mne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wx=(e,t,n)=>(Lne(e,typeof t!="symbol"?t+"":t,n),n);class Fne{constructor(){wx(this,"current",this.detect()),wx(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let wI=new Fne;function bI(e){if(wI.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=kt(e);if(t)return t.ownerDocument}return document}function Une({container:e,accept:t,walk:n,enabled:r}){Ec(()=>{let i=e.value;if(!i||r!==void 0&&!r.value)return;let s=bI(e);if(!s)return;let a=Object.assign(l=>t(l),{acceptNode:t}),c=s.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,a,!1);for(;c.nextNode();)n(c.currentNode)})}let u0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var c0=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(c0||{}),jne=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(jne||{}),Vne=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Vne||{});function sU(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(u0)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var EI=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(EI||{});function TI(e,t=0){var n;return e===((n=bI(e))==null?void 0:n.body)?!1:Xg(t,{0(){return e.matches(u0)},1(){let r=e;for(;r!==null;){if(r.matches(u0))return!0;r=r.parentElement}return!1}})}function aU(e){let t=bI(e);ui(()=>{t&&!TI(t.activeElement,0)&&qne(e)})}var Bne=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Bne||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function qne(e){e==null||e.focus({preventScroll:!0})}let $ne=["textarea","input"].join(",");function Hne(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,$ne))!=null?n:!1}function uU(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Kne(e,t){return Wne(sU(),t,{relativeTo:e})}function Wne(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){var s;let a=(s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?s:document,c=Array.isArray(e)?n?uU(e):e:sU(e);i.length>0&&c.length>1&&(c=c.filter(_=>!i.includes(_))),r=r??a.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,c.indexOf(r))-1;if(t&4)return Math.max(0,c.indexOf(r))+1;if(t&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},v=0,g=c.length,y;do{if(v>=g||v+g<=0)return 0;let _=h+v;if(t&16)_=(_+g)%g;else{if(_<0)return 3;if(_>=g)return 1}y=c[_],y==null||y.focus(d),v+=l}while(y!==a.activeElement);return t&6&&Hne(y)&&y.select(),2}function tp(e,t,n){wI.isServer||Ec(r=>{document.addEventListener(e,t,n),r(()=>document.removeEventListener(e,t,n))})}function Gne(e,t,n){wI.isServer||Ec(r=>{window.addEventListener(e,t,n),r(()=>window.removeEventListener(e,t,n))})}function zne(e,t,n=Ze(()=>!0)){function r(s,a){if(!n.value||s.defaultPrevented)return;let c=a(s);if(c===null||!c.getRootNode().contains(c))return;let l=function h(d){return typeof d=="function"?h(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let h of l){if(h===null)continue;let d=h instanceof HTMLElement?h:kt(h);if(d!=null&&d.contains(c)||s.composed&&s.composedPath().includes(d))return}return!TI(c,EI.Loose)&&c.tabIndex!==-1&&s.preventDefault(),t(s,c)}let i=Fe(null);tp("pointerdown",s=>{var a,c;n.value&&(i.value=((c=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:c[0])||s.target)},!0),tp("mousedown",s=>{var a,c;n.value&&(i.value=((c=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:c[0])||s.target)},!0),tp("click",s=>{i.value&&(r(s,()=>i.value),i.value=null)},!0),tp("touchend",s=>r(s,()=>s.target instanceof HTMLElement?s.target:null),!0),Gne("blur",s=>r(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var cU=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(cU||{});let Qne=po({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{let{features:r,...i}=e,s={"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return qc({ourProps:s,theirProps:i,slot:{},attrs:n,slots:t,name:"Hidden"})}}});function Yne(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let i of r.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}function Xne(e,t,n){let r=Fe(n==null?void 0:n.value),i=Ze(()=>e.value!==void 0);return[Ze(()=>i.value?e.value:r.value),function(s){return i.value||(r.value=s),t==null?void 0:t(s)}]}function bx(e){return[e.screenX,e.screenY]}function Jne(){let e=Fe([-1,-1]);return{wasMoved(t){let n=bx(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=bx(t)}}}let Ex=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Tx(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let c of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),s=!0;let a=s?(n=i.innerText)!=null?n:"":r;return Ex.test(a)&&(a=a.replace(Ex,"")),a}function Zne(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():Tx(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Tx(e).trim()}function ere(e){let t=Fe(""),n=Fe("");return()=>{let r=kt(e);if(!r)return"";let i=r.innerText;if(t.value===i)return n.value;let s=Zne(r).trim().toLowerCase();return t.value=i,n.value=s,s}}var tre=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(tre||{}),nre=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(nre||{});function rre(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let lU=Symbol("MenuContext");function Zg(e){let t=sr(lU,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Zg),n}return t}let ire=po({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let r=Fe(1),i=Fe(null),s=Fe(null),a=Fe([]),c=Fe(""),l=Fe(null),h=Fe(1);function d(g=y=>y){let y=l.value!==null?a.value[l.value]:null,_=uU(g(a.value.slice()),T=>kt(T.dataRef.domRef)),b=y?_.indexOf(y):null;return b===-1&&(b=null),{items:_,activeItemIndex:b}}let v={menuState:r,buttonRef:i,itemsRef:s,items:a,searchQuery:c,activeItemIndex:l,activationTrigger:h,closeMenu:()=>{r.value=1,l.value=null},openMenu:()=>r.value=0,goToItem(g,y,_){let b=d(),T=One(g===Cr.Specific?{focus:Cr.Specific,id:y}:{focus:g},{resolveItems:()=>b.items,resolveActiveIndex:()=>b.activeItemIndex,resolveId:C=>C.id,resolveDisabled:C=>C.dataRef.disabled});c.value="",l.value=T,h.value=_??1,a.value=b.items},search(g){let y=c.value!==""?0:1;c.value+=g.toLowerCase();let _=(l.value!==null?a.value.slice(l.value+y).concat(a.value.slice(0,l.value+y)):a.value).find(T=>T.dataRef.textValue.startsWith(c.value)&&!T.dataRef.disabled),b=_?a.value.indexOf(_):-1;b===-1||b===l.value||(l.value=b,h.value=1)},clearSearch(){c.value=""},registerItem(g,y){let _=d(b=>[...b,{id:g,dataRef:y}]);a.value=_.items,l.value=_.activeItemIndex,h.value=1},unregisterItem(g){let y=d(_=>{let b=_.findIndex(T=>T.id===g);return b!==-1&&_.splice(b,1),_});a.value=y.items,l.value=y.activeItemIndex,h.value=1}};return zne([i,s],(g,y)=>{var _;v.closeMenu(),TI(y,EI.Loose)||(g.preventDefault(),(_=kt(i))==null||_.focus())},Ze(()=>r.value===0)),Ou(lU,v),Dne(Ze(()=>Xg(r.value,{0:Qf.Open,1:Qf.Closed}))),()=>{let g={open:r.value===0,close:v.closeMenu};return qc({ourProps:{},theirProps:e,slot:g,slots:t,attrs:n,name:"Menu"})}}}),ore=po({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${Jg()}`}},setup(e,{attrs:t,slots:n,expose:r}){let i=Zg("MenuButton");r({el:i.buttonRef,$el:i.buttonRef});function s(h){switch(h.key){case Ht.Space:case Ht.Enter:case Ht.ArrowDown:h.preventDefault(),h.stopPropagation(),i.openMenu(),ui(()=>{var d;(d=kt(i.itemsRef))==null||d.focus({preventScroll:!0}),i.goToItem(Cr.First)});break;case Ht.ArrowUp:h.preventDefault(),h.stopPropagation(),i.openMenu(),ui(()=>{var d;(d=kt(i.itemsRef))==null||d.focus({preventScroll:!0}),i.goToItem(Cr.Last)});break}}function a(h){switch(h.key){case Ht.Space:h.preventDefault();break}}function c(h){e.disabled||(i.menuState.value===0?(i.closeMenu(),ui(()=>{var d;return(d=kt(i.buttonRef))==null?void 0:d.focus({preventScroll:!0})})):(h.preventDefault(),i.openMenu(),rre(()=>{var d;return(d=kt(i.itemsRef))==null?void 0:d.focus({preventScroll:!0})})))}let l=oU(Ze(()=>({as:e.as,type:t.type})),i.buttonRef);return()=>{var h;let d={open:i.menuState.value===0},{id:v,...g}=e,y={ref:i.buttonRef,id:v,type:l.value,"aria-haspopup":"menu","aria-controls":(h=kt(i.itemsRef))==null?void 0:h.id,"aria-expanded":i.menuState.value===0,onKeydown:s,onKeyup:a,onClick:c};return qc({ourProps:y,theirProps:g,slot:d,attrs:t,slots:n,name:"MenuButton"})}}}),sre=po({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${Jg()}`}},setup(e,{attrs:t,slots:n,expose:r}){let i=Zg("MenuItems"),s=Fe(null);r({el:i.itemsRef,$el:i.itemsRef}),Une({container:Ze(()=>kt(i.itemsRef)),enabled:Ze(()=>i.menuState.value===0),accept(d){return d.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function a(d){var v;switch(s.value&&clearTimeout(s.value),d.key){case Ht.Space:if(i.searchQuery.value!=="")return d.preventDefault(),d.stopPropagation(),i.search(d.key);case Ht.Enter:if(d.preventDefault(),d.stopPropagation(),i.activeItemIndex.value!==null){let g=i.items.value[i.activeItemIndex.value];(v=kt(g.dataRef.domRef))==null||v.click()}i.closeMenu(),aU(kt(i.buttonRef));break;case Ht.ArrowDown:return d.preventDefault(),d.stopPropagation(),i.goToItem(Cr.Next);case Ht.ArrowUp:return d.preventDefault(),d.stopPropagation(),i.goToItem(Cr.Previous);case Ht.Home:case Ht.PageUp:return d.preventDefault(),d.stopPropagation(),i.goToItem(Cr.First);case Ht.End:case Ht.PageDown:return d.preventDefault(),d.stopPropagation(),i.goToItem(Cr.Last);case Ht.Escape:d.preventDefault(),d.stopPropagation(),i.closeMenu(),ui(()=>{var g;return(g=kt(i.buttonRef))==null?void 0:g.focus({preventScroll:!0})});break;case Ht.Tab:d.preventDefault(),d.stopPropagation(),i.closeMenu(),ui(()=>Kne(kt(i.buttonRef),d.shiftKey?c0.Previous:c0.Next));break;default:d.key.length===1&&(i.search(d.key),s.value=setTimeout(()=>i.clearSearch(),350));break}}function c(d){switch(d.key){case Ht.Space:d.preventDefault();break}}let l=Pne(),h=Ze(()=>l!==null?(l.value&Qf.Open)===Qf.Open:i.menuState.value===0);return()=>{var d,v;let g={open:i.menuState.value===0},{id:y,..._}=e,b={"aria-activedescendant":i.activeItemIndex.value===null||(d=i.items.value[i.activeItemIndex.value])==null?void 0:d.id,"aria-labelledby":(v=kt(i.buttonRef))==null?void 0:v.id,id:y,onKeydown:a,onKeyup:c,role:"menu",tabIndex:0,ref:i.itemsRef};return qc({ourProps:b,theirProps:_,slot:g,attrs:t,slots:n,features:a0.RenderStrategy|a0.Static,visible:h.value,name:"MenuItems"})}}}),are=po({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${Jg()}`}},setup(e,{slots:t,attrs:n,expose:r}){let i=Zg("MenuItem"),s=Fe(null);r({el:s,$el:s});let a=Ze(()=>i.activeItemIndex.value!==null?i.items.value[i.activeItemIndex.value].id===e.id:!1),c=ere(s),l=Ze(()=>({disabled:e.disabled,get textValue(){return c()},domRef:s}));Aa(()=>i.registerItem(e.id,l)),Dv(()=>i.unregisterItem(e.id)),Ec(()=>{i.menuState.value===0&&a.value&&i.activationTrigger.value!==0&&ui(()=>{var b,T;return(T=(b=kt(s))==null?void 0:b.scrollIntoView)==null?void 0:T.call(b,{block:"nearest"})})});function h(b){if(e.disabled)return b.preventDefault();i.closeMenu(),aU(kt(i.buttonRef))}function d(){if(e.disabled)return i.goToItem(Cr.Nothing);i.goToItem(Cr.Specific,e.id)}let v=Jne();function g(b){v.update(b)}function y(b){v.wasMoved(b)&&(e.disabled||a.value||i.goToItem(Cr.Specific,e.id,0))}function _(b){v.wasMoved(b)&&(e.disabled||a.value&&i.goToItem(Cr.Nothing))}return()=>{let{disabled:b}=e,T={active:a.value,disabled:b,close:i.closeMenu},{id:C,...x}=e;return qc({ourProps:{id:C,ref:s,role:"menuitem",tabIndex:b===!0?void 0:-1,"aria-disabled":b===!0?!0:void 0,disabled:void 0,onClick:h,onFocus:d,onPointerenter:g,onMouseenter:g,onPointermove:y,onMousemove:y,onPointerleave:_,onMouseleave:_},theirProps:{...n,...x},slot:T,attrs:n,slots:t,name:"MenuItem"})}}}),ure=Symbol("GroupContext"),cre=po({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${Jg()}`}},inheritAttrs:!1,setup(e,{emit:t,attrs:n,slots:r,expose:i}){let s=sr(ure,null),[a,c]=Xne(Ze(()=>e.modelValue),T=>t("update:modelValue",T),Ze(()=>e.defaultChecked));function l(){c(!a.value)}let h=Fe(null),d=s===null?h:s.switchRef,v=oU(Ze(()=>({as:e.as,type:n.type})),d);i({el:d,$el:d});function g(T){T.preventDefault(),l()}function y(T){T.key===Ht.Space?(T.preventDefault(),l()):T.key===Ht.Enter&&Yne(T.currentTarget)}function _(T){T.preventDefault()}let b=Ze(()=>{var T,C;return(C=(T=kt(d))==null?void 0:T.closest)==null?void 0:C.call(T,"form")});return Aa(()=>{Ri([b],()=>{if(!b.value||e.defaultChecked===void 0)return;function T(){c(e.defaultChecked)}return b.value.addEventListener("reset",T),()=>{var C;(C=b.value)==null||C.removeEventListener("reset",T)}},{immediate:!0})}),()=>{let{id:T,name:C,value:x,form:O,...L}=e,$={checked:a.value},P={id:T,ref:d,role:"switch",type:v.value,tabIndex:0,"aria-checked":a.value,"aria-labelledby":s==null?void 0:s.labelledby.value,"aria-describedby":s==null?void 0:s.describedby.value,onClick:g,onKeyup:y,onKeypress:_};return ts(Zt,[C!=null&&a.value!=null?ts(Qne,Ane({features:cU.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:a.value,form:O,name:C,value:x})):null,qc({ourProps:P,theirProps:{...n,...rU(L,["modelValue","defaultChecked"])},slot:$,attrs:n,slots:r,name:"Switch"})])}}});function fU(e){return Dx()?(LB(e),!0):!1}function mc(e){return typeof e=="function"?e():Nu(e)}const lre=typeof window<"u"&&typeof document<"u",fre=Object.prototype.toString,hre=e=>fre.call(e)==="[object Object]",hU=()=>{};function dre(e,t){function n(...r){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(s)})}return n}const dU=e=>e();function pre(e=dU){const t=Fe(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...s)=>{t.value&&e(...s)};return{isActive:kv(t),pause:n,resume:r,eventFilter:i}}function vre(...e){if(e.length!==1)return m3(...e);const t=e[0];return typeof t=="function"?kv(p3(()=>({get:t,set:hU}))):Fe(t)}function gre(e,t,n={}){const{eventFilter:r=dU,...i}=n;return Ri(e,dre(r,t),i)}function mre(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:s,pause:a,resume:c,isActive:l}=pre(r);return{stop:gre(e,t,{...i,eventFilter:s}),pause:a,resume:c,isActive:l}}function yre(e,t=!0){D0()?Aa(e):t?e():ui(e)}function _re(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,i=Wt(e),s=Fe(e);function a(c){if(arguments.length)return s.value=c,s.value;{const l=mc(n);return s.value=s.value===l?mc(r):l,s.value}}return i?a:[s,a]}function pU(e){var t;const n=mc(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Yf=lre?window:void 0;function Ix(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=Yf):[t,n,r,i]=e,!t)return hU;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],a=()=>{s.forEach(d=>d()),s.length=0},c=(d,v,g,y)=>(d.addEventListener(v,g,y),()=>d.removeEventListener(v,g,y)),l=Ri(()=>[pU(t),mc(i)],([d,v])=>{if(a(),!d)return;const g=hre(v)?{...v}:v;s.push(...n.flatMap(y=>r.map(_=>c(d,y,_,g))))},{immediate:!0,flush:"post"}),h=()=>{l(),a()};return fU(h),h}function wre(){const e=Fe(!1);return D0()&&Aa(()=>{e.value=!0}),e}function bre(e){const t=wre();return Ze(()=>(t.value,!!e()))}function Ere(e,t={}){const{window:n=Yf}=t,r=bre(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=Fe(!1),a=h=>{s.value=h.matches},c=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},l=Ec(()=>{r.value&&(c(),i=n.matchMedia(mc(e)),"addEventListener"in i?i.addEventListener("change",a):i.addListener(a),s.value=i.matches)});return fU(()=>{l(),c(),i=void 0}),s}const np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rp="__vueuse_ssr_handlers__",Tre=Ire();function Ire(){return rp in np||(np[rp]=np[rp]||{}),np[rp]}function vU(e,t){return Tre[e]||t}function Sre(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Cre={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Sx="vueuse-storage";function Are(e,t,n,r={}){var i;const{flush:s="pre",deep:a=!0,listenToStorageChanges:c=!0,writeDefaults:l=!0,mergeDefaults:h=!1,shallow:d,window:v=Yf,eventFilter:g,onError:y=F=>{console.error(F)}}=r,_=(d?Gx:Fe)(t);if(!n)try{n=vU("getDefaultStorage",()=>{var F;return(F=Yf)==null?void 0:F.localStorage})()}catch(F){y(F)}if(!n)return _;const b=mc(t),T=Sre(b),C=(i=r.serializer)!=null?i:Cre[T],{pause:x,resume:O}=mre(_,()=>L(_.value),{flush:s,deep:a,eventFilter:g});return v&&c&&(Ix(v,"storage",ie),Ix(v,Sx,P)),ie(),_;function L(F){try{if(F==null)n.removeItem(e);else{const se=C.write(F),k=n.getItem(e);k!==se&&(n.setItem(e,se),v&&v.dispatchEvent(new CustomEvent(Sx,{detail:{key:e,oldValue:k,newValue:se,storageArea:n}})))}}catch(se){y(se)}}function $(F){const se=F?F.newValue:n.getItem(e);if(se==null)return l&&b!==null&&n.setItem(e,C.write(b)),b;if(!F&&h){const k=C.read(se);return typeof h=="function"?h(k,b):T==="object"&&!Array.isArray(k)?{...b,...k}:k}else return typeof se!="string"?se:C.read(se)}function P(F){ie(F.detail)}function ie(F){if(!(F&&F.storageArea!==n)){if(F&&F.key==null){_.value=b;return}if(!(F&&F.key!==e)){x();try{(F==null?void 0:F.newValue)!==C.write(_.value)&&(_.value=$(F))}catch(se){y(se)}finally{F?ui(O):O()}}}}}function kre(e){return Ere("(prefers-color-scheme: dark)",e)}function Rre(e={}){const{selector:t="html",attribute:n="class",initialValue:r="auto",window:i=Yf,storage:s,storageKey:a="vueuse-color-scheme",listenToStorageChanges:c=!0,storageRef:l,emitAuto:h,disableTransition:d=!0}=e,v={auto:"",light:"light",dark:"dark",...e.modes||{}},g=kre({window:i}),y=Ze(()=>g.value?"dark":"light"),_=l||(a==null?vre(r):Are(a,r,s,{window:i,listenToStorageChanges:c})),b=Ze(()=>_.value==="auto"?y.value:_.value),T=vU("updateHTMLAttrs",(L,$,P)=>{const ie=typeof L=="string"?i==null?void 0:i.document.querySelector(L):pU(L);if(!ie)return;let F;if(d){F=i.document.createElement("style");const se="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";F.appendChild(document.createTextNode(se)),i.document.head.appendChild(F)}if($==="class"){const se=P.split(/\s/g);Object.values(v).flatMap(k=>(k||"").split(/\s/g)).filter(Boolean).forEach(k=>{se.includes(k)?ie.classList.add(k):ie.classList.remove(k)})}else ie.setAttribute($,P);d&&(i.getComputedStyle(F).opacity,document.head.removeChild(F))});function C(L){var $;T(t,n,($=v[L])!=null?$:L)}function x(L){e.onChanged?e.onChanged(L,C):C(L)}Ri(b,x,{flush:"post",immediate:!0}),yre(()=>x(b.value));const O=Ze({get(){return h?_.value:b.value},set(L){_.value=L}});try{return Object.assign(O,{store:_,system:y,state:b})}catch{return O}}function Nre(e={}){const{valueDark:t="dark",valueLight:n=""}=e,r=Rre({...e,onChanged:(s,a)=>{var c;e.onChanged?(c=e.onChanged)==null||c.call(e,s==="dark",a,s):a(s)},modes:{dark:t,light:n}});return Ze({get(){return r.value==="dark"},set(s){const a=s?"dark":"light";r.system.value===a?r.value="auto":r.value=a}})}const xre={components:{LoginComponent:YK,ErrorMessage:eW,BaseHeader:_I,Icon:K0,Menu:ire,MenuButton:ore,MenuItems:sre,MenuItem:are,Switch:cre},setup(){const e=qO(),t=Fe(),n=Nre(),r=_re(n);function i(s){const a=Fe(s[0]),c=Fe(s[1]),l=Fe(s[2]);t.value="",l.value==="Login"?re.auth().signInWithEmailAndPassword(a.value,c.value).then(()=>{e.replace("/tasks")}).catch(h=>{switch(h.code){case"auth/invalid-email":t.value="Invalid email";break;case"auth/user-not-found":t.value="No account with that email was found";break;case"auth/wrong-password":t.value="Incorrect password";break;default:t.value="Email or password was incorrect";break}}):l.value==="Signup"&&re.auth().createUserWithEmailAndPassword(a.value,c.value).then(()=>{alert("User created with success!")}).catch(h=>{console.log(h.code),alert(h.message)})}return{signupOrLogin:i,errMsg:t,isDark:n,toggleDark:r}}},Ore=qe("div",{class:"py-0 px-3 font-semibold dark:text-white"},"Task Project",-1),Pre={class:"flex"},Dre=qe("h1",{class:"font-semibold text-3xl p-4 dark:text-white"},"The Task Project",-1),Mre=qe("h3",{class:"font-medium text-2xl p-2 dark:text-white"}," Please login or signup to start your task list! ",-1);function Lre(e,t,n,r,i,s){const a=$n("Icon"),c=$n("Switch"),l=$n("base-header"),h=$n("login-component"),d=$n("error-message"),v=$n("content-box");return pn(),ir(Zt,null,[Je(l,null,{default:Er(()=>[Ore,qe("div",Pre,[Je(a,{icon:"iconamoon:mode-light",color:"black",width:"26",height:"26"}),Je(c,{onClick:t[0]||(t[0]=g=>r.toggleDark()),modelValue:r.isDark,"onUpdate:modelValue":t[1]||(t[1]=g=>r.isDark=g),class:hf([r.isDark?"bg-gray-900":"bg-gray-700","relative inline-flex h-6 w-11 items-center rounded-full transition-colors"])},{default:Er(()=>[qe("span",{class:hf([r.isDark?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition-transform"])},null,2)]),_:1},8,["modelValue","class"]),Je(a,{icon:"material-symbols:dark-mode-outline",color:"black",width:"26",height:"26"})])]),_:1}),Je(v,null,{default:Er(()=>[Dre,Mre,Je(h,{onEmitUser:r.signupOrLogin},null,8,["onEmitUser"]),r.errMsg?(pn(),O0(d,{key:0},{default:Er(()=>[zo(bp(r.errMsg),1)]),_:1})):gq("",!0)]),_:1})],64)}const Fre=Vi(xre,[["render",Lre]]);/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var gU="store";function Ure(e){return e===void 0&&(e=null),sr(e!==null?e:gU)}function $c(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function jre(e){return e!==null&&typeof e=="object"}function Vre(e){return e&&typeof e.then=="function"}function Bre(e,t){return function(){return e(t)}}function mU(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function yU(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;em(e,n,[],e._modules.root,!0),II(e,n,t)}function II(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,a={},c={},l=DB(!0);l.run(function(){$c(s,function(h,d){a[d]=Bre(h,e),c[d]=Ze(function(){return a[d]()}),Object.defineProperty(e.getters,d,{get:function(){return c[d].value},enumerable:!0})})}),e._state=bc({data:t}),e._scope=l,e.strict&&Wre(e),r&&n&&e._withCommit(function(){r.data=null}),i&&i.stop()}function em(e,t,n,r,i){var s=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!s&&!i){var c=SI(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){c[l]=r.state})}var h=r.context=qre(e,a,n);r.forEachMutation(function(d,v){var g=a+v;$re(e,g,d,h)}),r.forEachAction(function(d,v){var g=d.root?v:a+v,y=d.handler||d;Hre(e,g,y,h)}),r.forEachGetter(function(d,v){var g=a+v;Kre(e,g,d,h)}),r.forEachChild(function(d,v){em(e,t,n.concat(v),d,i)})}function qre(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(s,a,c){var l=Tv(s,a,c),h=l.payload,d=l.options,v=l.type;return(!d||!d.root)&&(v=t+v),e.dispatch(v,h)},commit:r?e.commit:function(s,a,c){var l=Tv(s,a,c),h=l.payload,d=l.options,v=l.type;(!d||!d.root)&&(v=t+v),e.commit(v,h,d)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return _U(e,t)}},state:{get:function(){return SI(e.state,n)}}}),i}function _U(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function $re(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(a){n.call(e,r.state,a)})}function Hre(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(a){var c=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},a);return Vre(c)||(c=Promise.resolve(c)),e._devtoolHook?c.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):c})}function Kre(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function Wre(e){Ri(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function SI(e,t){return t.reduce(function(n,r){return n[r]},e)}function Tv(e,t,n){return jre(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var Gre="vuex bindings",Cx="vuex:mutations",Cw="vuex:actions",_u="vuex",zre=0;function Qre(e,t){D$({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Gre]},function(n){n.addTimelineLayer({id:Cx,label:"Vuex Mutations",color:Ax}),n.addTimelineLayer({id:Cw,label:"Vuex Actions",color:Ax}),n.addInspector({id:_u,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===_u)if(r.filter){var i=[];TU(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[EU(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===_u){var i=r.nodeId;_U(t,i),r.state=Jre(eie(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===_u){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),t._withCommit(function(){r.set(t._state.data,s,r.state.value)})}}),t.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(_u),n.sendInspectorState(_u),n.addTimelineEvent({layerId:Cx,event:{time:Date.now(),title:r.type,data:s}})}),t.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=zre++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:Cw,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:Cw,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var Ax=8702998,Yre=6710886,Xre=16777215,wU={label:"namespaced",textColor:Xre,backgroundColor:Yre};function bU(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function EU(e,t){return{id:t||"root",label:bU(t),tags:e.namespaced?[wU]:[],children:Object.keys(e._children).map(function(n){return EU(e._children[n],t+n+"/")})}}function TU(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[wU]:[]}),Object.keys(t._children).forEach(function(i){TU(e,t._children[i],n,r+i+"/")})}function Jre(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(a){return{key:a,editable:!0,value:e.state[a]}})};if(r.length){var s=Zre(t);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?bU(a):a,editable:!1,value:l0(function(){return s[a]})}})}return i}function Zre(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=l0(function(){return e[n]})}else t[n]=l0(function(){return e[n]})}),t}function eie(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+t+'".');return s===n.length-1?a:a._children},t==="root"?e:e.root._children)}function l0(e){try{return e()}catch(t){return t}}var di=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},IU={namespaced:{configurable:!0}};IU.namespaced.get=function(){return!!this._rawModule.namespaced};di.prototype.addChild=function(t,n){this._children[t]=n};di.prototype.removeChild=function(t){delete this._children[t]};di.prototype.getChild=function(t){return this._children[t]};di.prototype.hasChild=function(t){return t in this._children};di.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};di.prototype.forEachChild=function(t){$c(this._children,t)};di.prototype.forEachGetter=function(t){this._rawModule.getters&&$c(this._rawModule.getters,t)};di.prototype.forEachAction=function(t){this._rawModule.actions&&$c(this._rawModule.actions,t)};di.prototype.forEachMutation=function(t){this._rawModule.mutations&&$c(this._rawModule.mutations,t)};Object.defineProperties(di.prototype,IU);var qa=function(t){this.register([],t,!1)};qa.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};qa.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};qa.prototype.update=function(t){SU([],this.root,t)};qa.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var s=new di(n,r);if(t.length===0)this.root=s;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],s)}n.modules&&$c(n.modules,function(c,l){i.register(t.concat(l),c,r)})};qa.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};qa.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function SU(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;SU(e.concat(r),t.getChild(r),n.modules[r])}}function tie(e){return new dr(e)}var dr=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new qa(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,c=this,l=c.dispatch,h=c.commit;this.dispatch=function(g,y){return l.call(a,g,y)},this.commit=function(g,y,_){return h.call(a,g,y,_)},this.strict=i;var d=this._modules.root.state;em(this,d,[],this._modules.root),II(this,d),r.forEach(function(v){return v(n)})},CI={state:{configurable:!0}};dr.prototype.install=function(t,n){t.provide(n||gU,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&Qre(t,this)};CI.state.get=function(){return this._state.data};CI.state.set=function(e){};dr.prototype.commit=function(t,n,r){var i=this,s=Tv(t,n,r),a=s.type,c=s.payload,l={type:a,payload:c},h=this._mutations[a];h&&(this._withCommit(function(){h.forEach(function(v){v(c)})}),this._subscribers.slice().forEach(function(d){return d(l,i.state)}))};dr.prototype.dispatch=function(t,n){var r=this,i=Tv(t,n),s=i.type,a=i.payload,c={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,r.state)})}catch{}var h=l.length>1?Promise.all(l.map(function(d){return d(a)})):l[0](a);return new Promise(function(d,v){h.then(function(g){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(c,r.state)})}catch{}d(g)},function(g){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(c,r.state,g)})}catch{}v(g)})})}};dr.prototype.subscribe=function(t,n){return mU(t,this._subscribers,n)};dr.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return mU(r,this._actionSubscribers,n)};dr.prototype.watch=function(t,n,r){var i=this;return Ri(function(){return t(i.state,i.getters)},n,Object.assign({},r))};dr.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};dr.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),em(this,this.state,t,this._modules.get(t),r.preserveState),II(this,this.state)};dr.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=SI(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),yU(this)};dr.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};dr.prototype.hotUpdate=function(t){this._modules.update(t),yU(this,!0)};dr.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(dr.prototype,CI);const nie={components:{BaseHeader:_I},setup(){const e=Fe(""),t=Ure(),n=qO();function r(){t.dispatch("submitData",e.value),e.value=""}function i(){re.auth().signOut(),n.replace("/login")}function s(){re.auth().onAuthStateChanged(function(a){a||n.replace("/")})}return R0(()=>{s()}),{taskText:e,submitTask:r,logoutUser:i}}},CU=e=>(tO("data-v-53da8480"),e=e(),nO(),e),rie={class:"dark:bg-gray-900"},iie=CU(()=>qe("p",{class:"text-3xl font-semibold p-3 dark:text-white"},"My Tasks",-1)),oie=CU(()=>qe("div",{class:"text-2xl font-normal pb-5 dark:text-white"},"Add a task below (with Enter) and click over the finished tasks",-1)),sie={class:"my-4"};function aie(e,t,n,r,i,s){const a=$n("base-button"),c=$n("base-header");return pn(),ir("section",rie,[Je(c,null,{default:Er(()=>[Je(a,{class:"px-1 text-sm font-semibold left-10",onClick:r.logoutUser},{default:Er(()=>[zo("Logout User")]),_:1},8,["onClick"])]),_:1}),iie,oie,qe("div",sie,[Ow(qe("input",{placeholder:"Add a new task!",id:"insertField",type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>r.taskText=l),onKeydown:t[1]||(t[1]=s$(l=>r.submitTask(r.taskText),["enter"]))},null,544),[[kp,r.taskText]]),qe("button",{onClick:t[2]||(t[2]=l=>r.submitTask(r.taskText)),class:"bg-blue-500 text-white px-4 py-2 rounded ml-2"},"Add")])])}const uie=Vi(nie,[["render",aie],["__scopeId","data-v-53da8480"]]);const cie={name:"TaskList",components:{MainHeader:uie,Icon:K0},setup(){const e=Fe({}),t=Fe(!1),n=Fe(""),r=Fe(null);let i=null;const s=re.auth().onAuthStateChanged(h=>{h?(r.value=h.uid,a()):(r.value=null,e.value={},i&&(re.database().ref("tasks").off("value",i),i=null))});function a(){t.value=!0;const h=re.database().ref("tasks");i&&h.off("value",i),i=h.orderByChild("userUID").equalTo(r.value).on("value",d=>{e.value=d.val()||{},t.value=!1})}function c(){if(!r.value||!n.value.trim())return;re.database().ref("tasks").push({taskText:n.value,userUID:r.value}).then(()=>{n.value=""}).catch(d=>{console.error("Error adding task:",d)})}function l(h){const d=re.database().ref("tasks").child(h);d.once("value",v=>{const g=v.val();g&&g.userUID===r.value?d.remove().then(()=>console.log("Task removed!")).catch(y=>console.error("Error removing task:",y)):console.error("Access denied: task doesn't belong to user.")})}return Dv(()=>{i&&re.database().ref("tasks").off("value",i),s()}),{taskArray:e,isLoading:t,newTaskText:n,addTask:c,deleteTask:l}}},lie=e=>(tO("data-v-7ef5489f"),e=e(),nO(),e),fie={class:"dark:bg-gray-900 min-h-screen p-4"},hie={key:0,class:"flex justify-center items-center h-32"},die=lie(()=>qe("div",{class:"spinner"},null,-1)),pie=[die],vie={key:1,class:"flex justify-center"},gie={class:"task-list"},mie=["onClick"];function yie(e,t,n,r,i,s){const a=$n("main-header"),c=$n("Icon");return pn(),ir("div",fie,[Je(a),r.isLoading?(pn(),ir("div",hie,pie)):(pn(),ir("div",vie,[qe("ul",gie,[(pn(!0),ir(Zt,null,Q3(r.taskArray,(l,h)=>(pn(),ir("li",{key:h,class:"task-item"},[qe("span",null,bp(l.taskText),1),qe("button",{onClick:d=>r.deleteTask(h),class:"delete-btn"},[Je(c,{icon:"mdi-light:delete"})],8,mie)]))),128))])]))])}const _ie=Vi(cie,[["render",yie],["__scopeId","data-v-7ef5489f"]]),wie={},bie=qe("br",null,null,-1),Eie={class:"rounded-xl shadow-md p-10 w-fit mx-auto m-32-auto place-content-center grid place-items-center dark:bg-sky-950"};function Tie(e,t){return pn(),ir(Zt,null,[bie,qe("div",Eie,[Mv(e.$slots,"default")])],64)}const AU=Vi(wie,[["render",Tie]]),Iie={components:{ContentBox:AU,BaseHeader:_I}},Sie=qe("div",{class:"py-0 px-3 font-semibold dark:text-white"},"Task Project",-1),Cie=qe("h2",{class:"font-semibold p-4 dark:text-white"},"Page Not Found",-1),Aie={class:"dark:text-white"};function kie(e,t,n,r,i,s){const a=$n("base-header"),c=$n("router-link"),l=$n("content-box");return pn(),ir(Zt,null,[Je(a,null,{default:Er(()=>[Sie]),_:1}),qe("section",null,[Je(l,{class:"dark:bg-sky-950"},{default:Er(()=>[Cie,qe("div",Aie,[zo(" This page could not be found - do you want to return to "),Je(c,{to:"/login",class:"underline underline-offset-2"},{default:Er(()=>[zo("login")]),_:1}),zo("? ")])]),_:1})])],64)}const Rie=Vi(Iie,[["render",kie]]),Nie=UH({history:eH(),routes:[{path:"/",redirect:"login"},{path:"/login",component:Fre},{path:"/tasks",component:_ie},{path:"/:notFound(.*)",component:Rie}]}),xie={async refreshTasks(e){re.database().ref("tasks").on("value",n=>{const r=n.val();e.commit("setTasks",r)})},async submitData(e,t){const n=t.toString();if(n!==""){const i=re.database().ref("tasks").push(),s=re.auth().currentUser.uid;i.set({taskText:n,userUID:s})}},async deleteTask(e,t){const n=t.toString();re.database().ref("/tasks/").on("value",function(r){re.database().ref("/tasks/"+n).remove().then(function(){console.log("Remove succeeded.")}).catch(function(s){console.log("Remove failed: "+s.message)})})}},Oie={taskArray(e){return e.taskArray},taskText(e){return e.taskText}},Pie={setTasks(e,t){e.taskArray=t,console.log(e.taskArray)},registerTasks(e,t){e.taskArray.push(t)}},Die={namespace:!0,state(){return{taskArray:[],taskText:""}},actions:xie,getters:Oie,mutations:Pie},Mie=tie({modules:{task:Die}});const Lie={},Fie={class:"min-h-screen dark:bg-gray-900"};function Uie(e,t){const n=$n("router-view");return pn(),ir("div",Fie,[Je(n)])}const jie=Vi(Lie,[["render",Uie]]),Vie={},Bie={class:"bg-white hover:bg-gray-100 text-gray-800 py-2 px-4 border border-gray-400 rounded shadow dark:bg-sky-800 dark:text-white"};function qie(e,t){return pn(),ir("div",null,[qe("button",Bie,[Mv(e.$slots,"default")])])}const $ie=Vi(Vie,[["render",qie]]),Hie={apiKey:"AIzaSyD6rOiOiFAkse6Y3_hdzvP-Z1zRv20wrJg",authDomain:"taskproject-caf25.firebaseapp.com",projectId:"taskproject-caf25",storageBucket:"taskproject-caf25.firebasestorage.app",messagingSenderId:"1061401138693",appId:"1:1061401138693:web:03fc3339b03b4cb79eee6c"},Hc=c$(jie);re.initializeApp(Hie);re.database();Hc.component("content-box",AU);Hc.component("base-button",$ie);Hc.use(C$);Hc.use(Mie);Hc.use(Nie);Hc.mount("#app");
